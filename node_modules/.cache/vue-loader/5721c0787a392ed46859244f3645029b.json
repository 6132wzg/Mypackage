{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/product/package/component#/add-course-unlimit-table.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/product/package/component#/add-course-unlimit-table.vue","mtime":1600046447618},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name: 'AddCourseUnlimitTable',\n  bem: {\n    add: 'page-shop-add-fix-package',\n    b: 'add-course-fix-table'\n  },\n  props: {\n    initInfo: {\n      type: Object,\n      default: () => {\n        return {\n          // 是否支持团体课 0为不支持 1为支持\n          is_team: 0,\n          // 团体课总节数\n          team_times: undefined,\n          // 团体课单价\n          team_unit_price: undefined,\n          // 是否支持私教课 0为不支持 1为支持\n          is_personal: 0,\n          // 私教课总节数\n          personal_times: undefined,\n          // 私教课单价\n          personal_unit_price: undefined\n        }\n      }\n    }\n  },\n  watch: {\n    packageData: {\n      handler: function(newValue, oldValue) {\n        if (!newValue.is_team && !newValue.is_personal) {\n          this.$emit('change', null)\n          return\n        }\n        if (\n          newValue.is_team &&\n          !newValue.is_personal &&\n          !newValue.team_times &&\n          !newValue.team_unit_price\n        ) {\n          this.$emit('change', null)\n          return\n        }\n        if (\n          newValue.is_personal &&\n          !newValue.is_team &&\n          !newValue.personal_times &&\n          !newValue.personal_unit_price\n        ) {\n          this.$emit('change', null)\n          return\n        }\n        this.$emit('change', newValue)\n      },\n      deep: true\n    }\n  },\n  data() {\n    return {\n      packageData: {\n        // 是否支持团体课 0为不支持 1为支持\n        is_team: 0,\n        // 团体课总节数\n        team_times: undefined,\n        // 团体课单价\n        team_unit_price: undefined,\n        // 是否支持私教课 0为不支持 1为支持\n        is_personal: 0,\n        // 私教课总节数\n        personal_times: undefined,\n        // 私教课单价\n        personal_unit_price: undefined\n      },\n      // 课程范围是否未输入过\n      courseIsFirstInput: true\n    }\n  },\n  created() {\n    this.packageData.is_team = this.initInfo.is_team\n    this.packageData.is_personal = this.initInfo.is_personal\n    this.packageData.personal_unit_price = this.initInfo.personal_unit_price\n    this.packageData.team_unit_price = this.initInfo.team_unit_price\n    this.packageData.team_times = this.initInfo.team_times\n    this.packageData.personal_times = this.initInfo.personal_times\n  },\n  methods: {\n    // checkboxChange\n    teamCheckboxChange(e) {\n      this.packageData.is_team = +e.target.checked\n      this.courseIsFirstInput = false\n    },\n    personalCheckboxChange(e) {\n      this.packageData.is_personal = +e.target.checked\n      this.courseIsFirstInput = false\n    }\n  },\n  computed: {\n    // 团课小计\n    team_total() {\n      if (+this.packageData.team_times && +this.packageData.team_unit_price) {\n        return (\n          (this.packageData.team_times *\n            (this.packageData.team_unit_price * 10)) /\n          10\n        )\n      } else {\n        return 0\n      }\n    },\n    // 私教小计\n    personal_total() {\n      if (\n        +this.packageData.personal_times &&\n        +this.packageData.personal_unit_price\n      ) {\n        return (\n          (this.packageData.personal_times *\n            (this.packageData.personal_unit_price * 10)) /\n          10\n        )\n      } else {\n        return 0\n      }\n    },\n    // 总价\n    all_total() {\n      let teamTotal = this.packageData.is_team ? this.team_total : 0\n      let personalTotal = this.packageData.is_personal ? this.personal_total : 0\n      return teamTotal + personalTotal\n    }\n  }\n}\n",{"version":3,"sources":["add-course-unlimit-table.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"add-course-unlimit-table.vue","sourceRoot":"src/views/pages/brand/product/package/component#","sourcesContent":["<template>\n  <div\n    :class=\"add('course')\"\n    class=\"page-shop-add-basic-package  page-shop-add-range-package\"\n  >\n    <div>\n      <st-form-table>\n        <colgroup>\n          <col style=\"width:8%;\" />\n          <col style=\"width:16%;\" />\n          <col style=\"width:27%;\" />\n          <col style=\"width:28%;\" />\n          <col style=\"width:21%;\" />\n        </colgroup>\n        <tr class=\"bg-thead table-header\">\n          <th></th>\n          <th>课程类型</th>\n          <th>节数</th>\n          <th>课时费</th>\n          <th>小计(元)</th>\n        </tr>\n        <tbody>\n          <tr class=\"bg-row-team\">\n            <td class=\"tg-c\">\n              <a-checkbox\n                :checked=\"!!packageData.is_team\"\n                @change=\"teamCheckboxChange\"\n              />\n            </td>\n            <td>团体课程</td>\n            <td class=\"pr-32\">\n              <st-input-number\n                :min=\"1\"\n                :max=\"99999\"\n                @change=\"courseIsFirstInput = false\"\n                v-model=\"packageData.team_times\"\n                :disabled=\"packageData.is_team === 0\"\n              >\n                <template slot=\"addonAfter\">\n                  节\n                </template>\n              </st-input-number>\n            </td>\n            <td class=\"pr-32\">\n              <st-input-number\n                :min=\"0\"\n                :max=\"999999.9\"\n                @change=\"courseIsFirstInput = false\"\n                v-model=\"packageData.team_unit_price\"\n                :float=\"true\"\n                :disabled=\"packageData.is_team === 0\"\n              >\n                <template slot=\"addonAfter\">\n                  元\n                </template>\n              </st-input-number>\n            </td>\n            <td>{{ team_total }}</td>\n          </tr>\n          <tr class=\"bg-row-personal\">\n            <td class=\"tg-c\">\n              <a-checkbox\n                :checked=\"!!packageData.is_personal\"\n                @change=\"personalCheckboxChange\"\n              />\n            </td>\n            <td>私教课程</td>\n            <td class=\"pr-32\">\n              <st-input-number\n                :min=\"1\"\n                :max=\"99999\"\n                @change=\"courseIsFirstInput = false\"\n                v-model=\"packageData.personal_times\"\n                :disabled=\"packageData.is_personal === 0\"\n              >\n                <template slot=\"addonAfter\">\n                  节\n                </template>\n              </st-input-number>\n            </td>\n            <td class=\"pr-32\">\n              <st-input-number\n                :min=\"0\"\n                :max=\"999999.9\"\n                @change=\"courseIsFirstInput = false\"\n                v-model=\"packageData.personal_unit_price\"\n                :float=\"true\"\n                :disabled=\"packageData.is_personal === 0\"\n              >\n                <template slot=\"addonAfter\">\n                  元\n                </template>\n              </st-input-number>\n            </td>\n            <td>{{ personal_total }}</td>\n          </tr>\n        </tbody>\n      </st-form-table>\n      <portal to=\"BRAND_PACKAGE_FORM_TOTAL\">\n        <a-row :gutter=\"8\">\n          <a-col :lg=\"10\" :xs=\"22\" :offset=\"1\">\n            <st-form-item label=\"总价\">{{ all_total }}元</st-form-item>\n          </a-col>\n        </a-row>\n      </portal>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'AddCourseUnlimitTable',\n  bem: {\n    add: 'page-shop-add-fix-package',\n    b: 'add-course-fix-table'\n  },\n  props: {\n    initInfo: {\n      type: Object,\n      default: () => {\n        return {\n          // 是否支持团体课 0为不支持 1为支持\n          is_team: 0,\n          // 团体课总节数\n          team_times: undefined,\n          // 团体课单价\n          team_unit_price: undefined,\n          // 是否支持私教课 0为不支持 1为支持\n          is_personal: 0,\n          // 私教课总节数\n          personal_times: undefined,\n          // 私教课单价\n          personal_unit_price: undefined\n        }\n      }\n    }\n  },\n  watch: {\n    packageData: {\n      handler: function(newValue, oldValue) {\n        if (!newValue.is_team && !newValue.is_personal) {\n          this.$emit('change', null)\n          return\n        }\n        if (\n          newValue.is_team &&\n          !newValue.is_personal &&\n          !newValue.team_times &&\n          !newValue.team_unit_price\n        ) {\n          this.$emit('change', null)\n          return\n        }\n        if (\n          newValue.is_personal &&\n          !newValue.is_team &&\n          !newValue.personal_times &&\n          !newValue.personal_unit_price\n        ) {\n          this.$emit('change', null)\n          return\n        }\n        this.$emit('change', newValue)\n      },\n      deep: true\n    }\n  },\n  data() {\n    return {\n      packageData: {\n        // 是否支持团体课 0为不支持 1为支持\n        is_team: 0,\n        // 团体课总节数\n        team_times: undefined,\n        // 团体课单价\n        team_unit_price: undefined,\n        // 是否支持私教课 0为不支持 1为支持\n        is_personal: 0,\n        // 私教课总节数\n        personal_times: undefined,\n        // 私教课单价\n        personal_unit_price: undefined\n      },\n      // 课程范围是否未输入过\n      courseIsFirstInput: true\n    }\n  },\n  created() {\n    this.packageData.is_team = this.initInfo.is_team\n    this.packageData.is_personal = this.initInfo.is_personal\n    this.packageData.personal_unit_price = this.initInfo.personal_unit_price\n    this.packageData.team_unit_price = this.initInfo.team_unit_price\n    this.packageData.team_times = this.initInfo.team_times\n    this.packageData.personal_times = this.initInfo.personal_times\n  },\n  methods: {\n    // checkboxChange\n    teamCheckboxChange(e) {\n      this.packageData.is_team = +e.target.checked\n      this.courseIsFirstInput = false\n    },\n    personalCheckboxChange(e) {\n      this.packageData.is_personal = +e.target.checked\n      this.courseIsFirstInput = false\n    }\n  },\n  computed: {\n    // 团课小计\n    team_total() {\n      if (+this.packageData.team_times && +this.packageData.team_unit_price) {\n        return (\n          (this.packageData.team_times *\n            (this.packageData.team_unit_price * 10)) /\n          10\n        )\n      } else {\n        return 0\n      }\n    },\n    // 私教小计\n    personal_total() {\n      if (\n        +this.packageData.personal_times &&\n        +this.packageData.personal_unit_price\n      ) {\n        return (\n          (this.packageData.personal_times *\n            (this.packageData.personal_unit_price * 10)) /\n          10\n        )\n      } else {\n        return 0\n      }\n    },\n    // 总价\n    all_total() {\n      let teamTotal = this.packageData.is_team ? this.team_total : 0\n      let personalTotal = this.packageData.is_personal ? this.personal_total : 0\n      return teamTotal + personalTotal\n    }\n  }\n}\n</script>\n"]}]}