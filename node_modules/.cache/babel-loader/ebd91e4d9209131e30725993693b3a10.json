{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/thread-loader/dist/cjs.js!/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/src/views/biz-components/chart/mixin.js","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/biz-components/chart/mixin.js","mtime":1598250255714},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/thread-loader/dist/cjs.js","mtime":1591062572352},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418}],"contextDependencies":[],"result":["import G2 from '@antv/g2';\nimport { ChartConfig } from \"./config\";\nimport { merge } from 'lodash-es';\nexport default {\n  props: {\n    /**\n     * 图表id\n     */\n    id: {\n      type: String,\n      default: 'chart'\n    },\n\n    /**\n     * 图表数据\n     */\n    data: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    options: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    }\n  },\n  watch: {\n    data: {\n      deep: true,\n      handler: function handler(newData) {\n        if (!this.chart) {\n          this.initDv();\n          this.initOpts();\n          this.renderChart();\n        } else {\n          this.initDv();\n          this.initOpts();\n          this.chart.changeData(this.dv);\n          this.changeData && this.changeData(); // 自定义的changeData\n        }\n      }\n    }\n  },\n  data: function data() {\n    return {\n      opts: {}\n    };\n  },\n  created: function created() {\n    this.initDv();\n    this.initOpts();\n  },\n  mounted: function mounted() {\n    if (this.data.length) {\n      this.renderChart();\n    }\n  },\n  methods: {\n    initOpts: function initOpts() {\n      G2.track(false) // 关闭打点监控\n      // 获取默认配置项 并与 传入的配置项进行深度合并，\n      // (默认配置项可以从自定义组件的 getChartConfig 中获取， 也可以从默认的配置文件中根据 组件的this.type 获取相应的配置)\n      // 如果组件的配置参数在单独的配置文件中 则这个方法必须设置\n      ;\n      this.chartConfig = this.getChartConfig ? this.getChartConfig() : ChartConfig.apply(this), this.opts = merge(this.chartConfig, this.options);\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    if (this.chart) {\n      this.chart.destroy();\n    }\n  }\n};",null]}