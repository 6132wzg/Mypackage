(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["tier-7~brand-product-card-deposit~brand-product-card-member-number~brand-product-card-member-period~~d772d280"],{f0cb:function(i,e,a){"use strict";var t=function(){var i=this,e=i.$createElement,a=i._self._c||e;return a("div",{class:i.cardRadio()},[a("a-radio-group",{model:{value:i.radioIndex,callback:function(e){i.radioIndex=e},expression:"radioIndex"}},[i._l(i.cardBgList,(function(i,e){return a("a-radio",{key:e,class:i.className,attrs:{value:i.index}})})),a("a-radio",{attrs:{value:0}},[i._v("自定义背景")])],2),a("div",{class:i.cardRadio("image")},[0!==i.radioIndex&&i.cardBgList[i.bgIndex]?a("img",{attrs:{src:i._f("imgFilter")(i.cardBgList[i.bgIndex].image_url,{w:192,h:108}),width:"192",height:"108",alt:i.$c("member_card")+"背景"}}):a("div",{class:i.cardRadio("upload")},[a("st-image-upload",{attrs:{width:"192px",height:"108px",cropperModal:i.cropperModal,list:i.fileList,sizeLimit:2,placeholder:"上传照片"},on:{change:i.imageUploadChange}}),a("div",{class:i.cardRadio("describe")},[i._m(0),i._m(1)])],1)])],1)},r=[function(){var i=this,e=i.$createElement,a=i._self._c||e;return a("p",[a("span",[i._v("1.")]),a("span",[i._v("\n            图片格式必须为：png,bmp,jpeg,jpg,建议使用png格式图片，以保存最佳效果\n          ")])])},function(){var i=this,e=i.$createElement,a=i._self._c||e;return a("p",[a("span",[i._v("2.")]),a("span",[i._v("建议尺寸为750像素X422像素， 不可大于2m")])])}],s=(a("28a5"),a("ac6a"),a("7ce1")),d=a("5c8a"),n=a("2138"),c=["first custom","second custom","third custom","fourth custom"],o={name:"StCardBgRadio",bem:{cardRadio:"st-card-bg-radio"},components:{StImageUpload:s["a"]},serviceInject:function(){return{userService:n["a"]}},rxState:function(){return{memberCardBgList:this.userService.getOptions$("member_card.card_bg_list"),familyCardBgList:this.userService.getOptions$("member_card.family_card_bg_list"),smallCourseCardBgList:this.userService.getOptions$("small_course.small_bg_list")}},created:function(){this.init()},computed:{bgIndex:function(){return 0===this.radioIndex?4:this.radioIndex-1},cardBgList:function(){var i=[];return this.card_bg_list.forEach((function(e,a){e.className=c[a],e.index=++a,i.push(e)})),i}},data:function(){return{cropperModal:{},card_bg_list:this.isFamilyCard?this.familyCardBgList:this.isSmallCourse?this.smallCourseCardBgList:this.memberCardBgList,list:[],radioIndex:1,cardBg:{image_id:0,image_key:this.memberCardBgList[0].image_key,image_url:this.memberCardBgList[0].image_url,index:1},customCardBg:{image_id:0,image_key:"",image_url:"",index:0},fileList:[]}},watch:{value:{handler:function(i){this.setdata(i)},deep:!0},radioIndex:function(i){if(0===i)this.cardBg=Object(d["a"])(this.customCardBg);else{var e=i;--e,this.cardBg=Object(d["a"])(this.card_bg_list[e]),this.cardBg.index=i}this.$emit("input",this.cardBg),this.$emit("change",this.cardBg)}},props:{value:{type:Object,default:function(){return{image_id:0,image_key:"",image_url:"",index:1}}},isFamilyCard:{type:Boolean,default:!1},isSmallCourse:{type:Boolean,default:!1}},mounted:function(){this.setRadioColor()},methods:{init:function(){this.list=Object(d["a"])(this.card_bg_list),this.setdata(this.value)},setRadioColor:function(){var i="";this.cardBgList.forEach((function(e){i+="\n          .st-card-bg-radio .".concat(e.className.split("custom")[0]," .ant-radio-inner::after {\n            background-color: ").concat(e.color,";\n          }\n        ")}));var e=document.createElement("style");e.innerHTML=i,document.head.appendChild(e)},setdata:function(i){if(this.radioIndex=i.index,0===i.index)this.customCardBg=Object(d["a"])(i),i.image_url&&(this.fileList=[{image_id:i.image_id,image_key:i.image_url}]);else{this.card_bg_list=Object(d["a"])(this.list);var e=i.index;--e,this.card_bg_list[e].image_id=i.image_id}},imageUploadChange:function(i){i.length?this.customCardBg={image_id:i[0].image_id,image_key:i[0].image_key,image_url:i[0].image_url,index:0}:(this.fileList=[],this.customCardBg={image_id:0,image_key:"",image_url:"",index:0}),this.cardBg=Object(d["a"])(this.customCardBg),this.$emit("input",this.cardBg),this.$emit("change",this.cardBg)}}},l=o,m=a("2877"),g=Object(m["a"])(l,t,r,!1,null,null,null);e["a"]=g.exports}}]);