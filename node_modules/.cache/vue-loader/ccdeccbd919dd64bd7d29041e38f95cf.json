{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/biz-modals/sold/course/package/upgrade.vue?vue&type=template&id=51b743e5&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/biz-modals/sold/course/package/upgrade.vue","mtime":1594718340033},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":1591062572376},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["\n<st-modal\n  title=\"升级\"\n  v-model=\"show\"\n  @cancel=\"onCancel\"\n  wrapClassName=\"modal-sold-deal-sale\"\n>\n  <div :class=\"sale('content')\">\n    <biz-sold-course-info :info=\"info$\" />\n    <st-form :form=\"form\" labelWidth=\"120px\">\n      <div :class=\"sale('sale')\">\n        <st-form-item label=\"课程包名称\" required>\n          <select-scroll\n            v-decorator=\"decorators.productId\"\n            placeholder=\"请选择课\"\n            notFoundContent=\"无搜索结果\"\n            :list=\"packageOptions$\"\n            :loading=\"loading$.getUpgradePackageList\"\n            @select=\"handleSelect\"\n            @search=\"handleSearch\"\n          ></select-scroll>\n          <a-row\n            :class=\"sale('info')\"\n            v-if=\"hasProductInfo\"\n            type=\"flex\"\n            justify=\"space-between\"\n          >\n            <a-col v-if=\"newPackageInfo$.id\" :span=\"22\">\n              <st-info>\n                <st-info-item label=\"支持转让\">\n                  {{ newPackageInfo$.transfer_status }}\n                </st-info-item>\n                <st-info-item label=\"上课范围\">\n                  {{ newPackageInfo$.courseInfo }}\n                </st-info-item>\n                <st-info-item label=\"上课门店\">\n                  {{ newPackageInfo$.shopList }}\n                </st-info-item>\n              </st-info>\n            </a-col>\n          </a-row>\n        </st-form-item>\n        <st-form-item\n          label=\"初始额度\"\n          v-if=\"newPackageInfo$.is_limit === 0\"\n          required\n        >\n          <div :class=\"sale('contract')\">\n            <st-input-number\n              class=\"input-number\"\n              :min=\"1\"\n              :max=\"9999\"\n              v-decorator=\"decorators.valid_days\"\n              placeholder=\"请输入初始额度\"\n              :disabled=\"isValidDaysDisable\"\n            >\n              <div slot=\"addonAfter\">\n                天\n              </div>\n            </st-input-number>\n            <st-button\n              class=\"create-button\"\n              @click=\"onClickValidDaysConfirm\"\n              v-if=\"!isValidDaysDisable\"\n            >\n              确定\n            </st-button>\n            <st-button\n              class=\"create-button\"\n              @click=\"onClickValidDaysConfirm\"\n              v-else\n            >\n              编辑\n            </st-button>\n          </div>\n        </st-form-item>\n        <st-form-item\n          label=\"团课初始额度\"\n          v-if=\"\n            newPackageInfo$.is_limit === 1 && newPackageInfo$.is_team === 1\n          \"\n          required\n        >\n          <div :class=\"sale('contract')\">\n            <st-input-number\n              class=\"input-number\"\n              :min=\"1\"\n              :max=\"9999\"\n              v-decorator=\"decorators.team_times\"\n              placeholder=\"请输入初始额度\"\n              :disabled=\"isTeamDisable\"\n            >\n              <div slot=\"addonAfter\">\n                节\n              </div>\n            </st-input-number>\n            <st-button\n              class=\"create-button\"\n              @click=\"onClickTeamConfirm\"\n              v-if=\"!isTeamDisable\"\n            >\n              确定\n            </st-button>\n            <st-button\n              class=\"create-button\"\n              @click=\"onClickTeamConfirm\"\n              v-else\n            >\n              编辑\n            </st-button>\n          </div>\n        </st-form-item>\n        <st-form-item\n          label=\"私教课初始额度\"\n          v-if=\"\n            newPackageInfo$.is_limit === 1 &&\n              newPackageInfo$.is_personal === 1\n          \"\n          required\n        >\n          <div :class=\"sale('contract')\">\n            <st-input-number\n              class=\"input-number\"\n              :min=\"1\"\n              :max=\"9999\"\n              v-decorator=\"decorators.personal_times\"\n              placeholder=\"请输入初始额度\"\n              :disabled=\"isPersonalDisabled\"\n            >\n              <div slot=\"addonAfter\">\n                节\n              </div>\n            </st-input-number>\n            <st-button\n              class=\"create-button\"\n              @click=\"onClickPersonalConfirm\"\n              v-if=\"!isPersonalDisabled\"\n            >\n              确定\n            </st-button>\n            <st-button\n              class=\"create-button\"\n              @click=\"onClickPersonalConfirm\"\n              v-else\n            >\n              编辑\n            </st-button>\n          </div>\n        </st-form-item>\n        <st-form-item label=\"生效方式\" required>\n          <a-radio-group\n            v-decorator=\"decorators.effective_way\"\n            :options=\"effectiveWayOptions$\"\n            @change=\"onChangeEffectiveWay\"\n          />\n        </st-form-item>\n        <st-form-item label=\"有效期\" v-if=\"isExpire === 1\" required>\n          {{ validDate }}\n        </st-form-item>\n        <editable-contract-number\n          v-model=\"info$.contract_number\"\n          :form=\"form\"\n        />\n        <st-form-item label=\"商品价格\" required>\n          <div>{{ newPackageInfo$.sell_price }}元</div>\n        </st-form-item>\n        <st-form-item label=\"升级抵扣\" required>\n          <st-input-number\n            class=\"input-number\"\n            :min=\"0\"\n            :max=\"+newPackageInfo$.sell_price\"\n            v-decorator=\"decorators.deduction_amount\"\n            @change=\"getDeductionAmount\"\n            placeholder=\"请输入初始额度\"\n          >\n            <div slot=\"addonAfter\">\n              元\n            </div>\n          </st-input-number>\n        </st-form-item>\n        <st-form-item :class=\"sale('discounts')\" label=\"优惠券\">\n          <div>\n            <div :class=\"sale('discounts-total')\">\n              <span>{{ couponText }}</span>\n              <a-dropdown\n                v-model=\"couponDropdownVisible\"\n                :disabled=\"!canChoseCoupon\"\n                :class=\"sale({ disabled: !canChoseCoupon })\"\n                placement=\"bottomRight\"\n                :getPopupContainer=\"trigger => trigger.parentNode\"\n                :trigger=\"['click']\"\n              >\n                <div :class=\"sale('discounts-promotion')\">\n                  <span>{{ couponList$.length }}张可用优惠券</span>\n                  <a-icon type=\"right\" />\n                </div>\n                <a-radio-group\n                  v-model=\"selectCoupon\"\n                  @change=\"onSelectCouponChange\"\n                  :class=\"sale('dropdown')\"\n                  slot=\"overlay\"\n                >\n                  <a-menu>\n                    <a-menu-item @click=\"onSelectCoupon\">\n                      <a-radio :value=\"undefined\">不使用</a-radio>\n                    </a-menu-item>\n                    <a-menu-item\n                      @click=\"onSelectCoupon\"\n                      :key=\"index\"\n                      v-for=\"(item, index) in couponList$\"\n                    >\n                      <a-radio :value=\"item\">\n                        {{ item.name }}{{ item.price }}\n                      </a-radio>\n                    </a-menu-item>\n                  </a-menu>\n                </a-radio-group>\n              </a-dropdown>\n            </div>\n          </div>\n        </st-form-item>\n        <st-form-item :class=\"sale('discounts')\" label=\"定金抵扣\">\n          <div>\n            <div :class=\"sale('discounts-total')\">\n              <span>{{ advanceText }}</span>\n              <a-dropdown\n                v-model=\"advanceDropdownVisible\"\n                :disabled=\"!canChoseAdvance\"\n                :class=\"\n                  sale({\n                    disabled: !canChoseAdvance\n                  })\n                \"\n                placement=\"bottomRight\"\n                :getPopupContainer=\"trigger => trigger.parentNode\"\n                :trigger=\"['click']\"\n              >\n                <div :class=\"sale('discounts-promotion')\">\n                  <span>定金选择</span>\n                  <a-icon type=\"right\" />\n                </div>\n                <a-radio-group\n                  v-model=\"selectAdvance\"\n                  @change=\"onSelectAdvanceChange\"\n                  :class=\"sale('dropdown')\"\n                  slot=\"overlay\"\n                >\n                  <a-menu>\n                    <a-menu-item @click=\"onSelectAdvance\">\n                      <a-radio :value=\"undefined\">不使用</a-radio>\n                    </a-menu-item>\n                    <a-menu-item\n                      @click=\"onSelectAdvance\"\n                      :key=\"index\"\n                      v-for=\"(item, index) in advanceList$\"\n                    >\n                      <a-radio :value=\"item.id\">\n                        定金 {{ item.price || 0 }}\n                      </a-radio>\n                    </a-menu-item>\n                  </a-menu>\n                </a-radio-group>\n              </a-dropdown>\n            </div>\n          </div>\n        </st-form-item>\n        <div :class=\"sale('remarks')\">\n          <st-form-item label=\"销售人员\" required>\n            <a-select\n              v-decorator=\"decorators.sale_id\"\n              placeholder=\"选择签单的工作人员\"\n              :options=\"saleList$\"\n            />\n          </st-form-item>\n          <st-form-item label=\"备注\" class=\"mg-b0\">\n            <st-textarea\n              v-model=\"description\"\n              :autosize=\"{ minRows: 4, maxRows: 6 }\"\n              :maxlength=\"200\"\n            />\n          </st-form-item>\n        </div>\n      </div>\n    </st-form>\n  </div>\n  <template slot=\"footer\">\n    <div :class=\"sale('footer')\">\n      <div class=\"price\">\n        <span>{{ currentPrice$ }}元</span>\n        <span>订单总额：{{ newPackageInfo$.sell_price }}元</span>\n      </div>\n      <div class=\"button\">\n        <st-button\n          @click=\"onCreateOrder\"\n          :loading=\"loading$.setTransactionOrder\"\n        >\n          创建订单\n        </st-button>\n        <st-button\n          @click=\"onPay\"\n          :loading=\"loading$.setTransactionPay\"\n          type=\"primary\"\n        >\n          立即支付\n        </st-button>\n      </div>\n    </div>\n  </template>\n</st-modal>\n",null]}