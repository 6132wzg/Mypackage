{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/app/venue/notice-tpl.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/app/venue/notice-tpl.vue","mtime":1591147717287},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"/Users/wangzhigang/Desktop/styd/web/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { NoticeTplService } from \"./notice-tpl.service\";\nimport { thsMember, thsShop } from \"./notice-tpl.config\";\nimport NoticeItem from '@/views/biz-components/notice-tpl/notice-item';\nvar pageName = 'page-brand-app-venue-notice-tpl';\nexport default {\n  name: 'PageBrandAppVenueNoticeTpl',\n  bem: {\n    bPage: pageName,\n    bTable: 'venue-notice-table'\n  },\n  serviceInject: function serviceInject() {\n    return {\n      noticeService: NoticeTplService\n    };\n  },\n  rxState: function rxState() {\n    return {\n      list: this.noticeService.list$,\n      auth: this.noticeService.auth$\n    };\n  },\n  data: function data() {\n    return {\n      memberList: [],\n      shopList: []\n    };\n  },\n  computed: {\n    thsMember: thsMember,\n    thsShop: thsShop\n  },\n  created: function created() {\n    this.getNoticeList();\n  },\n  methods: {\n    onSearch: function onSearch() {},\n    save: function save(para) {\n      this.putNotice(para);\n    },\n    getNoticeList: function getNoticeList() {\n      var _this = this;\n\n      return this.noticeService.getNoticeList({\n        notify_type: 1\n      }).subscribe(function (res) {\n        _this.memberList = _this.list.filter(function (_ref) {\n          var notify_type = _ref.notify_type;\n          return notify_type.value === 1;\n        });\n        _this.shopList = _this.list.filter(function (_ref2) {\n          var notify_type = _ref2.notify_type;\n          return notify_type.value === 2;\n        });\n      });\n    },\n    putNotice: function putNotice(para) {\n      var _this2 = this;\n\n      return this.noticeService.putNotice(_objectSpread({}, para)).subscribe(function (res) {\n        _this2.$message.success({\n          content: '编辑成功'\n        });\n\n        _this2.getNoticeList();\n      });\n    }\n  },\n  components: {\n    NoticeItem: NoticeItem\n  }\n};",{"version":3,"sources":["notice-tpl.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA,SAAA,gBAAA;AACA,SAAA,SAAA,EAAA,OAAA;AACA,OAAA,UAAA,MAAA,+CAAA;AACA,IAAA,QAAA,GAAA,iCAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,4BADA;AAEA,EAAA,GAAA,EAAA;AACA,IAAA,KAAA,EAAA,QADA;AAEA,IAAA,MAAA,EAAA;AAFA,GAFA;AAMA,EAAA,aANA,2BAMA;AACA,WAAA;AACA,MAAA,aAAA,EAAA;AADA,KAAA;AAGA,GAVA;AAWA,EAAA,OAXA,qBAWA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,KAAA,aAAA,CAAA,KADA;AAEA,MAAA,IAAA,EAAA,KAAA,aAAA,CAAA;AAFA,KAAA;AAIA,GAhBA;AAiBA,EAAA,IAjBA,kBAiBA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA;AAFA,KAAA;AAIA,GAtBA;AAuBA,EAAA,QAAA,EAAA;AACA,IAAA,SAAA,EAAA,SADA;AAEA,IAAA,OAAA,EAAA;AAFA,GAvBA;AA2BA,EAAA,OA3BA,qBA2BA;AACA,SAAA,aAAA;AACA,GA7BA;AA8BA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,sBACA,CAAA,CADA;AAEA,IAAA,IAFA,gBAEA,IAFA,EAEA;AACA,WAAA,SAAA,CAAA,IAAA;AACA,KAJA;AAKA,IAAA,aALA,2BAKA;AAAA;;AACA,aAAA,KAAA,aAAA,CACA,aADA,CACA;AAAA,QAAA,WAAA,EAAA;AAAA,OADA,EAEA,SAFA,CAEA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,UAAA,GAAA,KAAA,CAAA,IAAA,CAAA,MAAA,CACA;AAAA,cAAA,WAAA,QAAA,WAAA;AAAA,iBAAA,WAAA,CAAA,KAAA,KAAA,CAAA;AAAA,SADA,CAAA;AAGA,QAAA,KAAA,CAAA,QAAA,GAAA,KAAA,CAAA,IAAA,CAAA,MAAA,CACA;AAAA,cAAA,WAAA,SAAA,WAAA;AAAA,iBAAA,WAAA,CAAA,KAAA,KAAA,CAAA;AAAA,SADA,CAAA;AAGA,OATA,CAAA;AAUA,KAhBA;AAiBA,IAAA,SAjBA,qBAiBA,IAjBA,EAiBA;AAAA;;AACA,aAAA,KAAA,aAAA,CAAA,SAAA,mBAAA,IAAA,GAAA,SAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA;AACA,UAAA,OAAA,EAAA;AADA,SAAA;;AAGA,QAAA,MAAA,CAAA,aAAA;AACA,OALA,CAAA;AAMA;AAxBA,GA9BA;AAwDA,EAAA,UAAA,EAAA;AACA,IAAA,UAAA,EAAA;AADA;AAxDA,CAAA","sourcesContent":["<template>\n  <div :class=\"bPage()\">\n    <div>\n      <st-t3 class=\"mg-b16\">通知会员信息</st-t3>\n      <div :class=\"bTable()\">\n        <div :class=\"bTable('title')\">\n          <div :class=\"bTable('th')\">模板标题</div>\n          <div :class=\"bTable('th-wrap')\">\n            <div class=\"th\" v-for=\"(item, index) in thsMember\" :key=\"index\">\n              {{ item.title }}\n            </div>\n          </div>\n        </div>\n        <div\n          :class=\"bTable('tr')\"\n          v-for=\"(item, index) in memberList\"\n          :key=\"index\"\n        >\n          <notice-item @editInfo=\"save\" :info=\"item\" :auth=\"auth\"></notice-item>\n        </div>\n      </div>\n    </div>\n    <div class=\"mg-t24\">\n      <st-t3 class=\"mg-b16\">通知门店信息</st-t3>\n      <div :class=\"bTable()\">\n        <div :class=\"bTable('title')\">\n          <div :class=\"bTable('th')\">模板标题</div>\n          <div :class=\"bTable('th-wrap')\">\n            <div class=\"th\" v-for=\"(item, index) in thsShop\" :key=\"index\">\n              {{ item.title }}\n            </div>\n          </div>\n        </div>\n        <div\n          :class=\"bTable('tr')\"\n          v-for=\"(item, index) in shopList\"\n          :key=\"index\"\n        >\n          <notice-item @editInfo=\"save\" :info=\"item\" :auth=\"auth\"></notice-item>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { NoticeTplService } from './notice-tpl.service'\nimport { thsMember, thsShop } from './notice-tpl.config'\nimport NoticeItem from '@/views/biz-components/notice-tpl/notice-item'\nconst pageName = 'page-brand-app-venue-notice-tpl'\n\nexport default {\n  name: 'PageBrandAppVenueNoticeTpl',\n  bem: {\n    bPage: pageName,\n    bTable: 'venue-notice-table'\n  },\n  serviceInject() {\n    return {\n      noticeService: NoticeTplService\n    }\n  },\n  rxState() {\n    return {\n      list: this.noticeService.list$,\n      auth: this.noticeService.auth$\n    }\n  },\n  data() {\n    return {\n      memberList: [],\n      shopList: []\n    }\n  },\n  computed: {\n    thsMember,\n    thsShop\n  },\n  created() {\n    this.getNoticeList()\n  },\n  methods: {\n    onSearch() {},\n    save(para) {\n      this.putNotice(para)\n    },\n    getNoticeList() {\n      return this.noticeService\n        .getNoticeList({ notify_type: 1 })\n        .subscribe(res => {\n          this.memberList = this.list.filter(\n            ({ notify_type }) => notify_type.value === 1\n          )\n          this.shopList = this.list.filter(\n            ({ notify_type }) => notify_type.value === 2\n          )\n        })\n    },\n    putNotice(para) {\n      return this.noticeService.putNotice({ ...para }).subscribe(res => {\n        this.$message.success({\n          content: '编辑成功'\n        })\n        this.getNoticeList()\n      })\n    }\n  },\n  components: {\n    NoticeItem\n  }\n}\n</script>\n"],"sourceRoot":"src/views/pages/brand/app/venue"}]}