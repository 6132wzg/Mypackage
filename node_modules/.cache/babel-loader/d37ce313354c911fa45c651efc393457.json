{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/biz-components/stat/brand-stat-revenue-ring.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/biz-components/stat/brand-stat-revenue-ring.vue","mtime":1600926382188},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport _toConsumableArray from \"/Users/wangzhigang/Desktop/styd/web/node_modules/@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\nimport { Chart } from '@antv/g2';\nimport { View } from 'st-data-set';\nimport chartMixin from \"./mixin\";\nimport Vue from 'vue';\nimport StHelpTooltip from '@/views/components/help-tooltip/help-tooltip';\nimport { decimalFilter } from \"./filters\";\nexport default {\n  mixins: [chartMixin],\n  props: {\n    /**\n     * @example\n     * [{name:'图例1',value:123}]\n     */\n    data: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    height: {\n      type: Number,\n      default: 280\n    },\n    colors: {\n      type: Array,\n      default: function _default() {\n        return ['#5C57FE', '#6332D1', '#009DFF', '#00D0F0', '#00FF87', '#24A68D', '#FFE679'];\n      }\n    },\n    unit: {\n      type: String,\n      default: '元'\n    }\n  },\n  methods: {\n    initDv: function initDv() {\n      this.dv = new View();\n      this.dv.source(this.data);\n      this.dv.transform({\n        type: 'map',\n        callback: function callback(row) {\n          row.value = +row.value;\n          return row;\n        }\n      });\n    },\n    initChart: function initChart() {\n      var _this = this;\n\n      this.chart = new Chart({\n        container: this.$el,\n        forceFit: true,\n        padding: [8, 80, 8, 0],\n        height: this.height\n      });\n      this.chart.source(this.dv, {\n        value: {\n          formatter: function formatter(v) {\n            return v + _this.unit;\n          }\n        }\n      });\n      this.chart.coord('theta', {\n        innerRadius: 0.65\n      });\n      this.chart.legend({\n        position: 'right-center',\n        useHtml: true,\n        itemTpl: function itemTpl(name, color, checked, index) {\n          return \"<li class=\\\"g2-legend-list-item item-{index} {checked}\\\" data-color=\\\"{originColor}\\\" data-value=\\\"{originValue}\\\">\" + \"<i class=\\\"g2-legend-marker\\\" style=\\\"background-color:{color};\\\"></i>\" + \"<span class=\\\"g2-legend-text\\\">\".concat(name, \"&nbsp;<span id='legend-{index}'></span></span>\") + \"</li>\";\n        },\n        onHover: function onHover(ev) {\n          // 总计为 0 是执行hover\n          var $s = _this.$el.querySelector.bind(_this.$el);\n\n          var name = ev.item.value;\n\n          var row = _this.dv.findRow({\n            name: name\n          });\n\n          var shapes = ev.shapes;\n          var geom = ev.geom;\n          var legend = ev.currentTarget; // 选中对应单元\n\n          row.value && geom.setShapesActived(shapes);\n          $s('.guide-value').textContent = row.value;\n          $s('.guide-name').textContent = row.name;\n        }\n      });\n      this.chart.guide().html({\n        position: ['50%', '50%'],\n        html: function html() {\n          var sum = decimalFilter(_this.dv.sum('value'));\n          return \"<div class='guide'>\" + \"<div class='guide-title'><span class='guide-value'>\".concat(sum, \"</span><span class='guide-unit'>\").concat(_this.unit, \"</span></div>\") + \"<div class='guide-name'>\\u603B\\u8425\\u6536</div>\" + \"</div>\";\n        }\n      });\n      this.chart.guide().arc({\n        start: ['3%', '50%'],\n        end: ['97%', '50%'],\n        style: {\n          lineWidth: 0,\n          fill: '#E9EDF2',\n          fillOpacity: 1,\n          stroke: '#ccc'\n        }\n      });\n      this.chart.guide().arc({\n        start: ['97%', '50%'],\n        end: ['3%', '50%'],\n        style: {\n          lineWidth: 0,\n          fill: '#E9EDF2',\n          fillOpacity: 1,\n          stroke: '#ccc'\n        }\n      });\n      this.chart.guide().arc({\n        start: ['19%', '50%'],\n        end: ['81%', '50%'],\n        style: {\n          lineWidth: 0,\n          fill: '#fff',\n          fillOpacity: 1,\n          stroke: '#ccc'\n        }\n      });\n      this.chart.guide().arc({\n        start: ['81%', '50%'],\n        end: ['19%', '50%'],\n        style: {\n          lineWidth: 0,\n          fill: '#fff',\n          fillOpacity: 1,\n          stroke: '#ccc'\n        }\n      });\n      this.chart.tooltip({\n        showTitle: false\n      });\n      this.chart.intervalStack().style({\n        fillOpacity: 1,\n        cursor: 'pointer'\n      }).position('value').color('name', this.colors).select(false).active({\n        style: {\n          fillOpacity: 1,\n          lineWidth: 8\n        }\n      });\n      this.chart.render();\n      this.changeData();\n      var $s = this.$el.querySelector.bind(this.$el);\n      this.chart.on('interval:mouseenter', function (e) {\n        var origin = e.data._origin;\n        $s('.guide-value').textContent = origin.value;\n        $s('.guide-name').textContent = origin.name;\n      });\n\n      var legendListItems = _toConsumableArray(this.$el.querySelectorAll('.g2-legend-list-item'));\n\n      var vm = this;\n      vm.offMouseHandlers = [];\n\n      var mouseHandler = function mouseHandler() {\n        var name = this.dataset.value;\n        var row = vm.dv.findRow({\n          name: name\n        });\n        $s('.guide-value').textContent = row.value;\n        $s('.guide-name').textContent = row.name;\n      };\n\n      legendListItems.forEach(function (el) {\n        el.addEventListener('mouseenter', mouseHandler, false);\n\n        _this.offMouseHandlers.push(function () {\n          el.addEventListener('mouseenter', mouseHandler, false);\n        });\n      });\n    },\n    changeData: function changeData() {\n      var h = this.$createElement;\n      new Vue({\n        components: {\n          StHelpTooltip: StHelpTooltip\n        },\n        render: function render(h) {\n          return h(\"st-help-tooltip\", {\n            \"attrs\": {\n              \"id\": \"TBDAR002\"\n            }\n          });\n        }\n      }).$mount('#legend-1');\n      new Vue({\n        components: {\n          StHelpTooltip: StHelpTooltip\n        },\n        render: function render(h) {\n          return h(\"st-help-tooltip\", {\n            \"attrs\": {\n              \"id\": \"TBDAR001\"\n            }\n          });\n        }\n      }).$mount('#legend-5');\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    if (this.chart) {\n      this.offMouseHandlers.forEach(function (fn) {\n        return fn();\n      });\n    }\n  }\n};",{"version":3,"sources":["brand-stat-revenue-ring.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"brand-stat-revenue-ring\"></div>\n</template>\n\n<script>\nimport { Chart } from '@antv/g2'\nimport { View } from 'st-data-set'\nimport chartMixin from './mixin'\nimport Vue from 'vue'\nimport StHelpTooltip from '@/views/components/help-tooltip/help-tooltip'\nimport { decimalFilter } from './filters'\n\nexport default {\n  mixins: [chartMixin],\n  props: {\n    /**\n     * @example\n     * [{name:'图例1',value:123}]\n     */\n    data: {\n      type: Array,\n      default: () => []\n    },\n    height: {\n      type: Number,\n      default: 280\n    },\n    colors: {\n      type: Array,\n      default: () => [\n        '#5C57FE',\n        '#6332D1',\n        '#009DFF',\n        '#00D0F0',\n        '#00FF87',\n        '#24A68D',\n        '#FFE679'\n      ]\n    },\n    unit: {\n      type: String,\n      default: '元'\n    }\n  },\n  methods: {\n    initDv() {\n      this.dv = new View()\n      this.dv.source(this.data)\n      this.dv.transform({\n        type: 'map',\n        callback(row) {\n          row.value = +row.value\n          return row\n        }\n      })\n    },\n    initChart() {\n      this.chart = new Chart({\n        container: this.$el,\n        forceFit: true,\n        padding: [8, 80, 8, 0],\n        height: this.height\n      })\n      this.chart.source(this.dv, {\n        value: {\n          formatter: v => v + this.unit\n        }\n      })\n      this.chart.coord('theta', {\n        innerRadius: 0.65\n      })\n      this.chart.legend({\n        position: 'right-center',\n        useHtml: true,\n        itemTpl: (name, color, checked, index) => {\n          return (\n            `<li class=\"g2-legend-list-item item-{index} {checked}\" data-color=\"{originColor}\" data-value=\"{originValue}\">` +\n            `<i class=\"g2-legend-marker\" style=\"background-color:{color};\"></i>` +\n            `<span class=\"g2-legend-text\">${name}&nbsp;<span id='legend-{index}'></span></span>` +\n            `</li>`\n          )\n        },\n        onHover: ev => {\n          // 总计为 0 是执行hover\n\n          const $s = this.$el.querySelector.bind(this.$el)\n          const name = ev.item.value\n          const row = this.dv.findRow({ name })\n          const shapes = ev.shapes\n          const geom = ev.geom\n          const legend = ev.currentTarget\n          // 选中对应单元\n          row.value && geom.setShapesActived(shapes)\n          $s('.guide-value').textContent = row.value\n          $s('.guide-name').textContent = row.name\n        }\n      })\n      this.chart.guide().html({\n        position: ['50%', '50%'],\n        html: () => {\n          let sum = decimalFilter(this.dv.sum('value'))\n          return (\n            `<div class='guide'>` +\n            `<div class='guide-title'><span class='guide-value'>${sum}</span><span class='guide-unit'>${\n              this.unit\n            }</span></div>` +\n            `<div class='guide-name'>总营收</div>` +\n            `</div>`\n          )\n        }\n      })\n      this.chart.guide().arc({\n        start: ['3%', '50%'],\n        end: ['97%', '50%'],\n        style: {\n          lineWidth: 0,\n          fill: '#E9EDF2',\n          fillOpacity: 1,\n          stroke: '#ccc'\n        }\n      })\n      this.chart.guide().arc({\n        start: ['97%', '50%'],\n        end: ['3%', '50%'],\n        style: {\n          lineWidth: 0,\n          fill: '#E9EDF2',\n          fillOpacity: 1,\n          stroke: '#ccc'\n        }\n      })\n      this.chart.guide().arc({\n        start: ['19%', '50%'],\n        end: ['81%', '50%'],\n        style: {\n          lineWidth: 0,\n          fill: '#fff',\n          fillOpacity: 1,\n          stroke: '#ccc'\n        }\n      })\n      this.chart.guide().arc({\n        start: ['81%', '50%'],\n        end: ['19%', '50%'],\n        style: {\n          lineWidth: 0,\n          fill: '#fff',\n          fillOpacity: 1,\n          stroke: '#ccc'\n        }\n      })\n\n      this.chart.tooltip({\n        showTitle: false\n      })\n\n      this.chart\n        .intervalStack()\n        .style({\n          fillOpacity: 1,\n          cursor: 'pointer'\n        })\n        .position('value')\n        .color('name', this.colors)\n        .select(false)\n        .active({\n          style: {\n            fillOpacity: 1,\n            lineWidth: 8\n          }\n        })\n\n      this.chart.render()\n\n      this.changeData()\n\n      const $s = this.$el.querySelector.bind(this.$el)\n\n      this.chart.on('interval:mouseenter', e => {\n        const origin = e.data._origin\n        $s('.guide-value').textContent = origin.value\n        $s('.guide-name').textContent = origin.name\n      })\n\n      const legendListItems = [\n        ...this.$el.querySelectorAll('.g2-legend-list-item')\n      ]\n\n      const vm = this\n      vm.offMouseHandlers = []\n      const mouseHandler = function() {\n        const name = this.dataset.value\n        const row = vm.dv.findRow({ name })\n        $s('.guide-value').textContent = row.value\n        $s('.guide-name').textContent = row.name\n      }\n\n      legendListItems.forEach(el => {\n        el.addEventListener('mouseenter', mouseHandler, false)\n        this.offMouseHandlers.push(() => {\n          el.addEventListener('mouseenter', mouseHandler, false)\n        })\n      })\n    },\n    changeData() {\n      new Vue({\n        components: {\n          StHelpTooltip\n        },\n        render: h => <st-help-tooltip id=\"TBDAR002\" />\n      }).$mount('#legend-1')\n      new Vue({\n        components: {\n          StHelpTooltip\n        },\n        render: h => <st-help-tooltip id=\"TBDAR001\" />\n      }).$mount('#legend-5')\n    }\n  },\n  beforeDestroy() {\n    if (this.chart) {\n      this.offMouseHandlers.forEach(fn => fn())\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/views/biz-components/stat"}]}