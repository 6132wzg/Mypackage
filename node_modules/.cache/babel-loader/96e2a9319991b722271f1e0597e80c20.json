{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/biz-modals/shop/add-lable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/biz-modals/shop/add-lable.vue","mtime":1600926555912},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { AddLableService } from \"./add-lable.service\";\nimport ShopNewLable from '@/views/biz-modals/shop/new-lable';\nexport default {\n  serviceInject: function serviceInject() {\n    return {\n      Service: AddLableService\n    };\n  },\n  modals: {\n    ShopNewLable: ShopNewLable\n  },\n  components: {\n    VNodes: {\n      functional: true,\n      render: function render(h, ctx) {\n        return ctx.props.vnodes;\n      }\n    }\n  },\n  name: 'newLable',\n  props: {\n    memberIds: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    }\n  },\n  data: function data() {\n    return {\n      show: false,\n      lableList: [],\n      selectLable: '',\n      flag: false\n    };\n  },\n  created: function created() {\n    var self = this;\n    this.getLableList();\n  },\n  methods: {\n    onModalTest: function onModalTest() {\n      this.getLableList();\n    },\n    changeFunc: function changeFunc() {\n      this.flag = false;\n    },\n    blurFunc: function blurFunc() {\n      this.flag = false;\n    },\n    focusFunc: function focusFunc() {\n      this.flag = true;\n    },\n    getLableList: function getLableList() {\n      var self = this;\n      self.Service.getMemberLableList().subscribe(function (state) {\n        self.lableList = state.list;\n      });\n    },\n    save: function save(e) {\n      var self = this;\n      e.preventDefault();\n      var data = {\n        id: this.memberIds,\n        tag_id: self.selectLable\n      };\n      self.Service.setMemberLabelCreate(data).subscribe(function (state) {\n        self.show = false;\n        self.$emit('success', true);\n      });\n    },\n    addLable: function addLable() {\n      this.flag = false;\n    }\n  },\n  watch: {}\n};",{"version":3,"sources":["add-lable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA,SAAA,eAAA;AACA,OAAA,YAAA,MAAA,mCAAA;AACA,eAAA;AACA,EAAA,aADA,2BACA;AACA,WAAA;AACA,MAAA,OAAA,EAAA;AADA,KAAA;AAGA,GALA;AAMA,EAAA,MAAA,EAAA;AACA,IAAA,YAAA,EAAA;AADA,GANA;AASA,EAAA,UAAA,EAAA;AACA,IAAA,MAAA,EAAA;AACA,MAAA,UAAA,EAAA,IADA;AAEA,MAAA,MAAA,EAAA,gBAAA,CAAA,EAAA,GAAA;AAAA,eAAA,GAAA,CAAA,KAAA,CAAA,MAAA;AAAA;AAFA;AADA,GATA;AAeA,EAAA,IAAA,EAAA,UAfA;AAgBA,EAAA,KAAA,EAAA;AACA,IAAA,SAAA,EAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,OAFA,sBAEA;AACA,eAAA,EAAA;AACA;AAJA;AADA,GAhBA;AAwBA,EAAA,IAxBA,kBAwBA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,SAAA,EAAA,EAFA;AAGA,MAAA,WAAA,EAAA,EAHA;AAIA,MAAA,IAAA,EAAA;AAJA,KAAA;AAMA,GA/BA;AAgCA,EAAA,OAhCA,qBAgCA;AACA,QAAA,IAAA,GAAA,IAAA;AACA,SAAA,YAAA;AACA,GAnCA;AAoCA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AACA,WAAA,YAAA;AACA,KAHA;AAIA,IAAA,UAJA,wBAIA;AACA,WAAA,IAAA,GAAA,KAAA;AACA,KANA;AAOA,IAAA,QAPA,sBAOA;AACA,WAAA,IAAA,GAAA,KAAA;AACA,KATA;AAUA,IAAA,SAVA,uBAUA;AACA,WAAA,IAAA,GAAA,IAAA;AACA,KAZA;AAaA,IAAA,YAbA,0BAaA;AACA,UAAA,IAAA,GAAA,IAAA;AACA,MAAA,IAAA,CAAA,OAAA,CAAA,kBAAA,GAAA,SAAA,CAAA,UAAA,KAAA,EAAA;AACA,QAAA,IAAA,CAAA,SAAA,GAAA,KAAA,CAAA,IAAA;AACA,OAFA;AAGA,KAlBA;AAmBA,IAAA,IAnBA,gBAmBA,CAnBA,EAmBA;AACA,UAAA,IAAA,GAAA,IAAA;AACA,MAAA,CAAA,CAAA,cAAA;AACA,UAAA,IAAA,GAAA;AACA,QAAA,EAAA,EAAA,KAAA,SADA;AAEA,QAAA,MAAA,EAAA,IAAA,CAAA;AAFA,OAAA;AAIA,MAAA,IAAA,CAAA,OAAA,CAAA,oBAAA,CAAA,IAAA,EAAA,SAAA,CAAA,UAAA,KAAA,EAAA;AACA,QAAA,IAAA,CAAA,IAAA,GAAA,KAAA;AACA,QAAA,IAAA,CAAA,KAAA,CAAA,SAAA,EAAA,IAAA;AACA,OAHA;AAIA,KA9BA;AA+BA,IAAA,QA/BA,sBA+BA;AACA,WAAA,IAAA,GAAA,KAAA;AACA;AAjCA,GApCA;AAuEA,EAAA,KAAA,EAAA;AAvEA,CAAA","sourcesContent":["<template>\n  <st-modal\n    :title=\"\n      memberIds.length === 1\n        ? '新增标签'\n        : `给选中的${memberIds.length}个人新增标签`\n    \"\n    @ok=\"save\"\n    v-model=\"show\"\n    width=\"328px\"\n  >\n    <section>\n      <a-select\n        v-model=\"selectLable\"\n        style=\"width: 100%\"\n        :open=\"flag\"\n        @mouseenter=\"focusFunc\"\n        @blur=\"changeFunc\"\n        @change=\"changeFunc\"\n      >\n        <div slot=\"dropdownRender\" slot-scope=\"menu\">\n          <v-nodes :vnodes=\"menu\" />\n          <a-divider style=\"margin: 4px 0;\" />\n          <div style=\"padding: 8px; cursor: pointer;\" @click=\"addLable\">\n            <a\n              v-modal-link=\"{\n                name: 'shop-new-lable',\n                on: { done: onModalTest }\n              }\"\n              @click=\"addLable\"\n            >\n              <a-icon type=\"plus\" />\n              标签\n            </a>\n          </div>\n        </div>\n        <a-select-option\n          v-for=\"item in lableList\"\n          :value=\"item.id\"\n          :key=\"item.id\"\n        >\n          {{ item.tag_name }}\n        </a-select-option>\n      </a-select>\n    </section>\n  </st-modal>\n</template>\n<script>\nimport { AddLableService } from './add-lable.service'\nimport ShopNewLable from '@/views/biz-modals/shop/new-lable'\nexport default {\n  serviceInject() {\n    return {\n      Service: AddLableService\n    }\n  },\n  modals: {\n    ShopNewLable\n  },\n  components: {\n    VNodes: {\n      functional: true,\n      render: (h, ctx) => ctx.props.vnodes\n    }\n  },\n  name: 'newLable',\n  props: {\n    memberIds: {\n      type: Array,\n      default() {\n        return []\n      }\n    }\n  },\n  data() {\n    return {\n      show: false,\n      lableList: [],\n      selectLable: '',\n      flag: false\n    }\n  },\n  created() {\n    let self = this\n    this.getLableList()\n  },\n  methods: {\n    onModalTest() {\n      this.getLableList()\n    },\n    changeFunc() {\n      this.flag = false\n    },\n    blurFunc() {\n      this.flag = false\n    },\n    focusFunc() {\n      this.flag = true\n    },\n    getLableList() {\n      let self = this\n      self.Service.getMemberLableList().subscribe(state => {\n        self.lableList = state.list\n      })\n    },\n    save(e) {\n      let self = this\n      e.preventDefault()\n      let data = {\n        id: this.memberIds,\n        tag_id: self.selectLable\n      }\n      self.Service.setMemberLabelCreate(data).subscribe(state => {\n        self.show = false\n        self.$emit('success', true)\n      })\n    },\n    addLable() {\n      this.flag = false\n    }\n  },\n  watch: {}\n}\n</script>\n"],"sourceRoot":"src/views/biz-modals/shop"}]}