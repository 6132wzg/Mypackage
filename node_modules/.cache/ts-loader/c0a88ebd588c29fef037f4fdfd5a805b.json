{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/node_modules/ts-loader/index.js??ref--13-2!/Users/wangzhigang/Desktop/styd/web/src/api/v1/setting/cabinet.ts","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/api/v1/setting/cabinet.ts","mtime":1601345845196},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/ts-loader/index.js","mtime":1591062571609}],"contextDependencies":[],"result":["import _classCallCheck from \"/Users/wangzhigang/Desktop/styd/web/node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wangzhigang/Desktop/styd/web/node_modules/@babel/runtime-corejs2/helpers/esm/createClass\";\n\nvar _a, _b, _c, _d;\n\nimport { __decorate, __metadata } from \"tslib\";\nimport { LongTermCabinetApi } from \"./cabinet/long-term\";\nimport { TemporaryCabinetApi } from \"./cabinet/temporary\";\nimport { HttpService } from '@/services/http.service';\nimport { AppConfig } from '@/constants/config';\nimport { Injectable } from 'vue-service-app';\n\nvar CabinetApi = /*#__PURE__*/function () {\n  function CabinetApi(longTermCabinetApi, temporaryCabinetApi, http, appConfig) {\n    _classCallCheck(this, CabinetApi);\n\n    this.longTermCabinetApi = longTermCabinetApi;\n    this.temporaryCabinetApi = temporaryCabinetApi;\n    this.http = http;\n    this.appConfig = appConfig;\n  }\n  /**\n   * 新增储物柜\n   * @param params\n   */\n\n\n  _createClass(CabinetApi, [{\n    key: \"add\",\n    value: function add(params, type) {\n      if (type === 'long-term') {\n        return this.longTermCabinetApi.add(params);\n      }\n\n      return this.temporaryCabinetApi.add(params);\n    }\n    /**\n     * 删除储物柜\n     * @param id\n     */\n\n  }, {\n    key: \"del\",\n    value: function del(id, type) {\n      if (type === 'long-term') {\n        return this.longTermCabinetApi.del(id);\n      }\n\n      return this.temporaryCabinetApi.del(id);\n    }\n    /**\n     * 获取储物柜列表\n     */\n\n  }, {\n    key: \"getList\",\n    value: function getList(id, type, keywords) {\n      if (type === 'long-term') {\n        return this.longTermCabinetApi.getList(id, keywords);\n      }\n\n      return this.temporaryCabinetApi.getList(id, keywords);\n    }\n    /**\n     * 储物柜编辑回显\n     * @param id\n     */\n\n  }, {\n    key: \"getUpdateInfo\",\n    value: function getUpdateInfo(id, type) {\n      if (type === 'long-term') {\n        return this.longTermCabinetApi.getUpdateInfo(id);\n      }\n\n      return this.temporaryCabinetApi.getUpdateInfo(id);\n    }\n    /**\n     * 编辑储物柜\n     * @param params\n     */\n\n  }, {\n    key: \"update\",\n    value: function update(params, type) {\n      if (type === 'long-term') {\n        return this.longTermCabinetApi.update(params);\n      }\n\n      return this.temporaryCabinetApi.update(params);\n    }\n    /**\n     * 单个/批量删除储物柜\n     * @param params\n     */\n\n  }, {\n    key: \"deleteCabinet\",\n    value: function deleteCabinet(params) {\n      return this.http.put(\"/v1/setting/cabinet\", {\n        params: params\n      });\n    }\n    /**\n     * 远程开柜\n     * @param params\n     */\n\n  }, {\n    key: \"openCabinet\",\n    value: function openCabinet(id, params) {\n      return this.http.post(\"/v1/front/cabinet/\".concat(id, \"/unlock\"), {\n        params: params\n      });\n    }\n    /**\n     * 批量清柜\n     * @param params.cabinet_ids 储物柜\n     */\n\n  }, {\n    key: \"clearCabinet\",\n    value: function clearCabinet(params) {\n      return this.http.post(\"/v1/front/cabinet/clear\", {\n        params: params\n      });\n    }\n    /**\n     * 编辑柜子状态\n     * @param params.cabinet_business_type\n     */\n\n  }, {\n    key: \"editCabinetStatus\",\n    value: function editCabinetStatus(id, params) {\n      return this.http.put(\"/v1/front/cabinet/\".concat(id, \"/business_type\"), {\n        params: params\n      });\n    }\n  }, {\n    key: \"getCabinetUseRecord\",\n    value: function getCabinetUseRecord(query) {\n      return this.http.get(\"v1/setting/cabinet/history\", {\n        query: query\n      });\n    }\n  }]);\n\n  return CabinetApi;\n}();\n\nCabinetApi = __decorate([Injectable(), __metadata(\"design:paramtypes\", [typeof (_a = typeof LongTermCabinetApi !== \"undefined\" && LongTermCabinetApi) === \"function\" ? _a : Object, typeof (_b = typeof TemporaryCabinetApi !== \"undefined\" && TemporaryCabinetApi) === \"function\" ? _b : Object, typeof (_c = typeof HttpService !== \"undefined\" && HttpService) === \"function\" ? _c : Object, typeof (_d = typeof AppConfig !== \"undefined\" && AppConfig) === \"function\" ? _d : Object])], CabinetApi);\nexport { CabinetApi };",{"version":3,"sources":["/Users/wangzhigang/Desktop/styd/web/src/api/v1/setting/cabinet.ts"],"names":[],"mappings":"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","sourcesContent":["import { LongTermCabinetApi } from './cabinet/long-term'\nimport { TemporaryCabinetApi } from './cabinet/temporary'\nimport { HttpService } from '@/services/http.service'\nimport { AppConfig } from '@/constants/config'\nimport { Injectable } from 'vue-service-app'\n@Injectable()\nexport class CabinetApi {\n  constructor(\n    private longTermCabinetApi: LongTermCabinetApi,\n    private temporaryCabinetApi: TemporaryCabinetApi,\n    private http: HttpService,\n    private appConfig: AppConfig\n  ) {}\n  /**\n   * 新增储物柜\n   * @param params\n   */\n  add(params: AddInput, type: string) {\n    if (type === 'long-term') {\n      return this.longTermCabinetApi.add(params)\n    }\n    return this.temporaryCabinetApi.add(params)\n  }\n  /**\n   * 删除储物柜\n   * @param id\n   */\n  del(id: number, type: string) {\n    if (type === 'long-term') {\n      return this.longTermCabinetApi.del(id)\n    }\n    return this.temporaryCabinetApi.del(id)\n  }\n  /**\n   * 获取储物柜列表\n   */\n  getList(id: number, type: string, keywords: string) {\n    if (type === 'long-term') {\n      return this.longTermCabinetApi.getList(id, keywords)\n    }\n    return this.temporaryCabinetApi.getList(id, keywords)\n  }\n  /**\n   * 储物柜编辑回显\n   * @param id\n   */\n  getUpdateInfo(id: number, type: string) {\n    if (type === 'long-term') {\n      return this.longTermCabinetApi.getUpdateInfo(id)\n    }\n    return this.temporaryCabinetApi.getUpdateInfo(id)\n  }\n  /**\n   * 编辑储物柜\n   * @param params\n   */\n  update(params: UpdateInput, type: string) {\n    if (type === 'long-term') {\n      return this.longTermCabinetApi.update(params)\n    }\n    return this.temporaryCabinetApi.update(params)\n  }\n\n  /**\n   * 单个/批量删除储物柜\n   * @param params\n   */\n  deleteCabinet(params: DelInput) {\n    return this.http.put(`/v1/setting/cabinet`, { params })\n  }\n\n  /**\n   * 远程开柜\n   * @param params\n   */\n  openCabinet(id: number, params: any) {\n    return this.http.post(`/v1/front/cabinet/${id}/unlock`, { params })\n  }\n  /**\n   * 批量清柜\n   * @param params.cabinet_ids 储物柜\n   */\n  clearCabinet(params: any) {\n    return this.http.post(`/v1/front/cabinet/clear`, { params })\n  }\n  /**\n   * 编辑柜子状态\n   * @param params.cabinet_business_type\n   */\n  editCabinetStatus(id: number, params: any) {\n    return this.http.put(`/v1/front/cabinet/${id}/business_type`, { params })\n  }\n  getCabinetUseRecord(query: any) {\n    return this.http.get(`v1/setting/cabinet/history`, { query })\n  }\n}\n\nexport interface DelInput {\n  ids: number[]\n}\nexport interface AddInput {\n  /**\n   * 区域id\n   */\n  cabinet_area_id: number\n  /**\n   * 储物柜类型1：长期储物柜 2：临时储物柜\n   */\n  cabinet_type: number\n  /**\n   * 首字母\n   */\n  first_letter?: string\n  /**\n   * 起始编号\n   */\n  start_num: number\n  /**\n   * 排序方式\n   */\n  sort_type: number\n  /**\n   * 柜子数量\n   */\n  num: number\n  /**\n   * 价格数量 当柜子类型为长期储物柜时必填\n   */\n  price_num?: number\n  /**\n   * 价格单位 当柜子类型为长期储物柜时必填\n   */\n  price_unit?: number\n  /**\n   * 转让手续费数量 当柜子类型为长期储物柜时必填\n   */\n  transfer_num?: number\n  /**\n   * 转让手续费 当柜子类型为长期储物柜时必填\n   */\n  transfer_unit: number\n}\nexport interface UpdateInput extends AddInput {\n  /**\n   * 储物柜id\n   */\n  id: number\n}\n"],"sourceRoot":""}]}