{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/pages/shop/product/course/manage/package/list.vue?vue&type=template&id=227de18a&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/pages/shop/product/course/manage/package/list.vue","mtime":1596792848073},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":1591062572376},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["\n<st-panel app :class=\"listClass()\">\n  <div slot=\"title\">\n    <st-input-search\n      @search=\"onSingleSearch('course_name', $event, true)\"\n      v-model=\"$searchQuery.course_name\"\n      placeholder=\"课程包名称\"\n    />\n  </div>\n  <div :class=\"listClass('operation')\">\n    <router-link to=\"./add-select\">\n      <st-button\n        type=\"primary\"\n        v-if=\"auth.add\"\n        @click=\"onAddPackage\"\n        icon=\"add\"\n      >\n        新增门店课程包\n      </st-button>\n    </router-link>\n    <div :class=\"listClass('select-group')\">\n      <a-select\n        v-model=\"$searchQuery.support_num\"\n        @change=\"onSingleSearch('support_num', $event)\"\n        style=\"width: 160px\"\n        class=\"mg-r16\"\n        :options=\"supportNum$\"\n      />\n      <a-select\n        v-model=\"$searchQuery.package_type\"\n        @change=\"onSingleSearch('package_type', $event)\"\n        :class=\"listClass('select')\"\n        style=\"width: 160px\"\n      >\n        <a-select-option :value=\"-1\">全部分类</a-select-option>\n        <a-select-option\n          v-for=\"(item, index) in package_types\"\n          :key=\"index\"\n          :value=\"+item.value\"\n        >\n          {{ item.label }}\n        </a-select-option>\n      </a-select>\n      <a-select\n        v-model=\"$searchQuery.publish_channel\"\n        @change=\"onSingleSearch('publish_channel', $event)\"\n        :class=\"listClass('select')\"\n        class=\"mg-l16\"\n        style=\"width: 160px\"\n        :options=\"publicChannel$\"\n      />\n      <a-select\n        v-model=\"$searchQuery.shelf_status\"\n        @change=\"onSingleSearch('shelf_status', $event)\"\n        :class=\"listClass('select')\"\n        style=\"width: 160px\"\n      >\n        <a-select-option :value=\"-1\">全部状态</a-select-option>\n        <a-select-option\n          v-for=\"(item, index) in shelf_status\"\n          :key=\"index\"\n          :value=\"+item.value\"\n        >\n          {{ item.label }}\n        </a-select-option>\n      </a-select>\n    </div>\n  </div>\n  <st-table\n    :page=\"page\"\n    :columns=\"columns\"\n    @change=\"onTableChange\"\n    rowKey=\"package_course_id\"\n    :dataSource=\"list\"\n    :loading=\"loading.getList\"\n  >\n    <template slot=\"package_type\" slot-scope=\"text\">\n      {{ text | enumFilter('package_course.package_type') }}\n    </template>\n    <template slot=\"valid_time\" slot-scope=\"text, record\">\n      {{ text }}\n      {{\n        record.valid_time_unit | enumFilter('package_course.valid_time_unit')\n      }}\n    </template>\n    <template slot=\"shelf_status\" slot-scope=\"text, record\">\n      <st-text\n        :status=\"{\n          success: record.shelf_status === 1,\n          error: record.shelf_status === 2,\n          warning: record.shelf_status === 0\n        }\"\n      >\n        {{ text | enumFilter('package_course.shelf_status') }}\n      </st-text>\n      <template v-if=\"record.shelf_status === 2\">\n        <st-help-popover>\n          <span slot=\"content\">{{ record.reason }}</span>\n        </st-help-popover>\n      </template>\n    </template>\n\n    <div slot=\"action\" slot-scope=\"text, record\">\n      <st-table-actions>\n        <a\n          v-if=\"record.auth['shop:product:package_course|edit']\"\n          @click=\"onEdit(record.package_course_id, record.package_type)\"\n        >\n          编辑\n        </a>\n        <a\n          v-if=\"record.auth['shop:product:package_course|get']\"\n          @click=\"onDetail(record.package_course_id, record.package_type)\"\n        >\n          详情\n        </a>\n        <a\n          v-if=\"record.auth['shop:product:package_course|batch_operate']\"\n          @click=\"batchOperate(record.package_course_id, record.course_name)\"\n        >\n          应用至售出\n        </a>\n        <a\n          v-if=\"record.auth['shop:product:package_course|up']\"\n          @click=\"\n            onsalePackage(\n              record.package_course_id,\n              record.course_name,\n              record.start_time,\n              record.end_time\n            )\n          \"\n        >\n          上架\n        </a>\n        <a\n          v-if=\"record.auth['shop:product:package_course|down']\"\n          @click=\"\n            offsalePackage(record.package_course_id, record.course_name)\n          \"\n        >\n          下架\n        </a>\n        <a\n          v-if=\"record.auth['shop:product:package_course|del']\"\n          @click=\"deletePackage(record.package_course_id, record.course_name)\"\n        >\n          删除\n        </a>\n        <a\n          v-if=\"record.auth['shop:product:package_course|delllls']\"\n          @click=\"deletePackage(record.package_course_id, record.course_name)\"\n        >\n          批量操作\n        </a>\n      </st-table-actions>\n    </div>\n  </st-table>\n  <st-modal\n    title=\"上架课程包\"\n    okText=\"确认上架\"\n    @ok=\"onOnsale\"\n    :confirmLoading=\"loading.onsalePackage\"\n    wrapClassName=\"modal-shop-product-course-package\"\n    v-model=\"onsaleIsShow\"\n  >\n    <st-form :form=\"form\" labelWidth=\"96px\">\n      <st-form-item label=\"课程包名称\">{{ packageName }}</st-form-item>\n      <st-form-item label=\"支持售卖时间\" class=\"mg-b0\" required>\n        <div :class=\"listClass('saletime')\">\n          <a-form-item class=\"page-a-form\">\n            <a-date-picker\n              style=\"width: 100%;\"\n              :disabledDate=\"disabledStartDate\"\n              v-decorator=\"decorators.start_time\"\n              format=\"YYYY-MM-DD\"\n              placeholder=\"开始时间\"\n              :showToday=\"false\"\n              @openChange=\"handleStartOpenChange\"\n              @change=\"start_time_change\"\n            />\n          </a-form-item>\n          <span>~</span>\n          <a-form-item class=\"page-a-form\">\n            <a-date-picker\n              :disabledDate=\"disabledEndDate\"\n              v-decorator=\"decorators.end_time\"\n              format=\"YYYY-MM-DD\"\n              placeholder=\"结束时间\"\n              :showToday=\"false\"\n              :open=\"endOpen\"\n              @openChange=\"handleEndOpenChange\"\n              @change=\"end_time_change\"\n            />\n          </a-form-item>\n        </div>\n      </st-form-item>\n    </st-form>\n  </st-modal>\n  <st-modal\n    title=\"下架课程包\"\n    size=\"small\"\n    okText=\"确认下架\"\n    @ok=\"onOffsale\"\n    wrapClassName=\"modal-shop-product-course-package\"\n    :confirmLoading=\"loading.offsalePackage\"\n    v-model=\"offsaleIsShow\"\n  >\n    <st-form :form=\"form\" labelWidth=\"96px\">\n      <st-form-item label=\"课程包名称\">{{ packageName }}</st-form-item>\n      <st-form-item label=\"下架原因\" required>\n        <st-textarea v-decorator=\"decorators.reason\"></st-textarea>\n      </st-form-item>\n    </st-form>\n  </st-modal>\n  <st-modal\n    title=\"删除课程包\"\n    size=\"small\"\n    okText=\"确认删除\"\n    wrapClassName=\"modal-shop-product-course-package\"\n    @ok=\"onDelete\"\n    :confirmLoading=\"loading.deletePackage\"\n    v-model=\"deleteIsShow\"\n  >\n    删除后不影响已购买的用户，一旦删除则无法恢复，确认删除{{ packageName }}？\n  </st-modal>\n</st-panel>\n",null]}