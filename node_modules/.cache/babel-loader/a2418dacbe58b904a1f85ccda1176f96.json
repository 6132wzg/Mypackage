{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/pages/shop/product/card/deposit/info.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/pages/shop/product/card/deposit/info.vue","mtime":1600926556372},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { UserService } from '@/services/user.service';\nimport { InfoService } from \"./info.service\";\nimport MemberCard from '@/views/biz-components/h5/pages/member-card';\nimport H5Container from '@/views/biz-components/h5/h5-container';\nimport { MEMBER_CARD } from '@/views/biz-components/h5/pages/member-card.config';\nimport { SELL_STATUS, SUPPORT_SALES, CONSUMPTION_RANGE } from '@/constants/card/deposit';\nimport { shop_columns, price_gradient_columns } from \"./info.config\";\nexport default {\n  bem: {\n    item: 'brand-card'\n  },\n  components: {\n    MemberCard: MemberCard,\n    H5Container: H5Container\n  },\n  serviceInject: function serviceInject() {\n    return {\n      infoService: InfoService,\n      userService: UserService\n    };\n  },\n  rxState: function rxState() {\n    return {\n      shopName: this.userService.shop$,\n      cardInfo: this.infoService.cardInfo$ // consumer_types: this.userService.getOptions$('deposit_card.consumer_type')\n\n    };\n  },\n  data: function data() {\n    return {\n      SELL_STATUS: SELL_STATUS,\n      SUPPORT_SALES: SUPPORT_SALES,\n      CONSUMPTION_RANGE: CONSUMPTION_RANGE,\n      MEMBER_CARD: MEMBER_CARD,\n      shop_columns: shop_columns,\n      price_gradient_columns: price_gradient_columns\n    };\n  },\n  computed: {\n    canUseShop: function canUseShop() {\n      var text = '';\n\n      switch (this.cardInfo.consumption_range.id) {\n        case CONSUMPTION_RANGE.ONLY_STORE:\n          text = this.cardInfo.consumption_range.name;\n          break;\n\n        case CONSUMPTION_RANGE.GENERAL_STORE:\n          text = \"\\u5171\".concat(this.cardInfo.can_use_shop_num, \"\\u5BB6\\u95E8\\u5E97\");\n          break;\n\n        case CONSUMPTION_RANGE.ALL_STORE:\n          text = '全门店';\n          break;\n\n        default:\n          text = '无';\n      }\n\n      return text;\n    }\n  },\n  mounted: function mounted() {\n    // let consumerEnum = this.consumer_types\n    this.cardInfo.consumerList = this.cardInfo.consumer_type; //  this.cardInfo.consumer_type.map(\n    //   item => consumerEnum.filter(i => i.value === item)[0].label\n    // )\n  }\n};",{"version":3,"sources":["info.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0MA,SAAA,WAAA,QAAA,yBAAA;AACA,SAAA,WAAA;AACA,OAAA,UAAA,MAAA,6CAAA;AACA,OAAA,WAAA,MAAA,wCAAA;AACA,SAAA,WAAA,QAAA,oDAAA;AACA,SACA,WADA,EAEA,aAFA,EAGA,iBAHA,QAIA,0BAJA;AAKA,SAAA,YAAA,EAAA,sBAAA;AACA,eAAA;AACA,EAAA,GAAA,EAAA;AACA,IAAA,IAAA,EAAA;AADA,GADA;AAIA,EAAA,UAAA,EAAA;AACA,IAAA,UAAA,EAAA,UADA;AAEA,IAAA,WAAA,EAAA;AAFA,GAJA;AAQA,EAAA,aARA,2BAQA;AACA,WAAA;AACA,MAAA,WAAA,EAAA,WADA;AAEA,MAAA,WAAA,EAAA;AAFA,KAAA;AAIA,GAbA;AAcA,EAAA,OAdA,qBAcA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,KAAA,WAAA,CAAA,KADA;AAEA,MAAA,QAAA,EAAA,KAAA,WAAA,CAAA,SAFA,CAGA;;AAHA,KAAA;AAKA,GApBA;AAqBA,EAAA,IArBA,kBAqBA;AACA,WAAA;AACA,MAAA,WAAA,EAAA,WADA;AAEA,MAAA,aAAA,EAAA,aAFA;AAGA,MAAA,iBAAA,EAAA,iBAHA;AAIA,MAAA,WAAA,EAAA,WAJA;AAKA,MAAA,YAAA,EAAA,YALA;AAMA,MAAA,sBAAA,EAAA;AANA,KAAA;AAQA,GA9BA;AA+BA,EAAA,QAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,UAAA,IAAA,GAAA,EAAA;;AACA,cAAA,KAAA,QAAA,CAAA,iBAAA,CAAA,EAAA;AACA,aAAA,iBAAA,CAAA,UAAA;AACA,UAAA,IAAA,GAAA,KAAA,QAAA,CAAA,iBAAA,CAAA,IAAA;AACA;;AACA,aAAA,iBAAA,CAAA,aAAA;AACA,UAAA,IAAA,mBAAA,KAAA,QAAA,CAAA,gBAAA,uBAAA;AACA;;AACA,aAAA,iBAAA,CAAA,SAAA;AACA,UAAA,IAAA,GAAA,KAAA;AACA;;AACA;AACA,UAAA,IAAA,GAAA,GAAA;AAXA;;AAaA,aAAA,IAAA;AACA;AAjBA,GA/BA;AAkDA,EAAA,OAlDA,qBAkDA;AACA;AACA,SAAA,QAAA,CAAA,YAAA,GAAA,KAAA,QAAA,CAAA,aAAA,CAFA,CAGA;AACA;AACA;AACA;AAxDA,CAAA","sourcesContent":["<template>\n  <st-mina-panel class=\"page-brand-card-info page-brand-period-card-info\">\n    <h5-container slot=\"preview\" fixed>\n      <template v-slot:title>购卡</template>\n      <template v-slot:default>\n        <member-card\n          :data=\"cardInfo\"\n          :cardType=\"MEMBER_CARD.DEPOSIT_CARD\"\n        ></member-card>\n      </template>\n    </h5-container>\n\n    <div class=\"page-content\">\n      <div :class=\"item('card_name')\" class=\"mg-b24\">\n        <!-- 卡名称 -->\n        <div\n          class=\"st-preview-item\"\n          v-viewer=\"{ url: 'data-src', toolbar: false }\"\n        >\n          <img\n            :class=\"item('card_bg')\"\n            :data-src=\"cardInfo.card_bg.image_url\"\n            :src=\"cardInfo.card_bg.image_url | imgFilter({ w: 192, h: 108 })\"\n            width=\"192\"\n            height=\"108\"\n            alt=\"\"\n          />\n        </div>\n        <div :class=\"item('name_time')\">\n          <p :class=\"item('name')\">\n            <st-tag type=\"deposit-card\" />\n            <span>{{ cardInfo.card_name }}</span>\n            <span\n              :class=\"{\n                'brand-card__selling':\n                  cardInfo.sell_status === SELL_STATUS.CAN_SELL,\n                'brand-card__sellstop':\n                  cardInfo.sell_status === SELL_STATUS.NO_SELL\n              }\"\n            >\n              {{\n                cardInfo.sell_status | enumFilter('deposit_card.sell_status')\n              }}\n              <a-popover\n                v-if=\"cardInfo.sell_status === SELL_STATUS.NO_SELL\"\n                trigger=\"hover\"\n                placement=\"bottomRight\"\n                arrowPointAtCenter\n              >\n                <div slot=\"content\">\n                  {{ cardInfo.stop_reason }}\n                </div>\n                <a-icon type=\"info-circle\"></a-icon>\n              </a-popover>\n            </span>\n            <span :class=\"item('shelf-status')\" v-if=\"cardInfo.shelf_status\">\n              {{ cardInfo.shelf_status.name }}\n            </span>\n          </p>\n          <p :class=\"item('time')\">\n            <span class=\"label\">售卖时间：</span>\n            <span class=\"value\">\n              {{ cardInfo.start_time }} ~ {{ cardInfo.end_time }}\n            </span>\n          </p>\n          <p :class=\"item('note')\">\n            <span class=\"label\">特殊说明：</span>\n            <span class=\"value\">\n              {{ cardInfo.special_note }}\n            </span>\n          </p>\n        </div>\n      </div>\n      <div :class=\"item('admission_range')\" class=\"mg-b24\">\n        <!-- 支持入场范围 -->\n        <p class=\"mg-b8\">\n          <span class=\"label\">支持消费门店：</span>\n          <span class=\"value\">{{ canUseShop }}</span>\n        </p>\n        <st-container\n          :class=\"item('scroll-container')\"\n          v-if=\"\n            cardInfo.consumption_range.id === CONSUMPTION_RANGE.GENERAL_STORE\n          \"\n        >\n          <st-table\n            rowKey=\"shop_id\"\n            :columns=\"shop_columns\"\n            :dataSource=\"cardInfo.can_use_shop\"\n            :pagination=\"false\"\n            :scroll=\"{ y: 230 }\"\n          />\n        </st-container>\n      </div>\n      <div class=\"mg-b24\">\n        <!-- 支持消费类目 -->\n        <p class=\"mg-b8\">\n          <span class=\"label\">支持消费类目：</span>\n          <span\n            v-if=\"!cardInfo.consumer_type || !cardInfo.consumer_type.length\"\n          >\n            无\n          </span>\n          <template v-else>\n            <span v-for=\"(item, index) in cardInfo.consumer_type\" :key=\"index\">\n              {{ item | enumFilter('deposit_card.consumer_type') }}&nbsp;&nbsp;\n            </span>\n          </template>\n        </p>\n      </div>\n      <div :class=\"item('support_sales')\" class=\"mg-b24\">\n        <!-- 售卖门店 -->\n        <p class=\"mg-b8\">\n          <span class=\"label\">售卖门店：</span>\n          <span class=\"value\">{{ cardInfo.shop_name }}</span>\n        </p>\n        <st-container\n          :class=\"item('scroll-container')\"\n          v-if=\"cardInfo.support_sales !== SUPPORT_SALES.ALL_STORE\"\n        >\n          <st-table\n            rowKey=\"shop_id\"\n            :columns=\"shop_columns\"\n            :dataSource=\"cardInfo.support_shop\"\n            :pagination=\"false\"\n            :scroll=\"{ y: 230 }\"\n          />\n        </st-container>\n      </div>\n      <div class=\"mg-b24\">\n        <!-- 售卖方式 -->\n        <p class=\"mg-b8\">\n          <span class=\"label\">售卖方式：</span>\n          <span\n            class=\"value\"\n            v-for=\"(item, index) in cardInfo.sell_type\"\n            :key=\"index\"\n          >\n            <i v-if=\"index > 0\">/</i>\n            {{ item | enumFilter('deposit_card.sell_type') }}\n          </span>\n        </p>\n      </div>\n      <div :class=\"item('price_gradient')\" class=\"mg-b24\">\n        <!-- 售卖定价 -->\n        <p class=\"mg-b8\">\n          <span class=\"label\">售卖定价：</span>\n        </p>\n        <st-container>\n          <st-table\n            rowKey=\"card_price\"\n            :columns=\"price_gradient_columns\"\n            :dataSource=\"[cardInfo.price]\"\n            :pagination=\"false\"\n          >\n            <template slot=\"card_price\" slot-scope=\"text\">\n              {{ text }} 元\n            </template>\n            <template slot=\"sell_price\" slot-scope=\"text\">\n              {{ text }} 元\n            </template>\n            <template slot=\"deadline\" slot-scope=\"text\">\n              {{ text.number }}\n              {{ text.type | enumFilter('deposit_card.unit') }}\n            </template>\n          </st-table>\n        </st-container>\n      </div>\n      <div :class=\"item('transfer')\" class=\"mg-b24\">\n        <!-- 转让设置 -->\n        <p class=\"mg-b8\">\n          <span class=\"label\">转让设置：</span>\n          <span class=\"value\" v-if=\"cardInfo.is_transfer\">\n            支持转让，收费交易金额{{ cardInfo.transfer_fee.number\n            }}{{\n              cardInfo.transfer_fee.type\n                | enumFilter('deposit_card.transfer_unit')\n            }}手续费\n          </span>\n          <span class=\"value\" v-if=\"!cardInfo.is_transfer\">不支持转让</span>\n        </p>\n      </div>\n      <div :class=\"item('card_introduction')\" class=\"mg-b24\">\n        <!-- 储值卡介绍 -->\n        <p class=\"mg-b8\">\n          <span class=\"label\">储值卡介绍：</span>\n        </p>\n        <st-container>\n          <div v-html=\"cardInfo.card_contents || '无'\"></div>\n        </st-container>\n      </div>\n      <div :class=\"item('card_contents')\" class=\"mg-b24\">\n        <!-- 备注 -->\n        <p class=\"mg-b8\">\n          <span class=\"label\">内部备注：</span>\n        </p>\n        <st-container>{{ cardInfo.description || '无' }}</st-container>\n      </div>\n    </div>\n  </st-mina-panel>\n</template>\n<script>\nimport { UserService } from '@/services/user.service'\nimport { InfoService } from './info.service'\nimport MemberCard from '@/views/biz-components/h5/pages/member-card'\nimport H5Container from '@/views/biz-components/h5/h5-container'\nimport { MEMBER_CARD } from '@/views/biz-components/h5/pages/member-card.config'\nimport {\n  SELL_STATUS,\n  SUPPORT_SALES,\n  CONSUMPTION_RANGE\n} from '@/constants/card/deposit'\nimport { shop_columns, price_gradient_columns } from './info.config'\nexport default {\n  bem: {\n    item: 'brand-card'\n  },\n  components: {\n    MemberCard,\n    H5Container\n  },\n  serviceInject() {\n    return {\n      infoService: InfoService,\n      userService: UserService\n    }\n  },\n  rxState() {\n    return {\n      shopName: this.userService.shop$,\n      cardInfo: this.infoService.cardInfo$\n      // consumer_types: this.userService.getOptions$('deposit_card.consumer_type')\n    }\n  },\n  data() {\n    return {\n      SELL_STATUS,\n      SUPPORT_SALES,\n      CONSUMPTION_RANGE,\n      MEMBER_CARD,\n      shop_columns,\n      price_gradient_columns\n    }\n  },\n  computed: {\n    canUseShop() {\n      let text = ''\n      switch (this.cardInfo.consumption_range.id) {\n        case CONSUMPTION_RANGE.ONLY_STORE:\n          text = this.cardInfo.consumption_range.name\n          break\n        case CONSUMPTION_RANGE.GENERAL_STORE:\n          text = `共${this.cardInfo.can_use_shop_num}家门店`\n          break\n        case CONSUMPTION_RANGE.ALL_STORE:\n          text = '全门店'\n          break\n        default:\n          text = '无'\n      }\n      return text\n    }\n  },\n  mounted() {\n    // let consumerEnum = this.consumer_types\n    this.cardInfo.consumerList = this.cardInfo.consumer_type\n    //  this.cardInfo.consumer_type.map(\n    //   item => consumerEnum.filter(i => i.value === item)[0].label\n    // )\n  }\n}\n</script>\n"],"sourceRoot":"src/views/pages/shop/product/card/deposit"}]}