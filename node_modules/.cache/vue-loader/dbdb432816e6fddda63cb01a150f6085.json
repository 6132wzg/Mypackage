{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/product/card/member/list/shelves.vue?vue&type=template&id=6deb07a9&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/product/card/member/list/shelves.vue","mtime":1596188219518},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":1591062572376},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["\n<div :class=\"shelves()\">\n  <portal to=\"BRAND_PRODUCT_CARD_MEMBER_KEYWORDS_SEARCH\">\n    <st-input-search\n      v-model=\"$searchQuery.card_name\"\n      @search=\"onKeywordsSearch('card_name', $event)\"\n      :placeholder=\"`请输入${$c('member_card')}名称查找`\"\n      maxlength=\"50\"\n    />\n  </portal>\n  <div :class=\"shelves('search')\" class=\"mg-b16\">\n    <div>\n      <a-select\n        :class=\"shelves('search__select')\"\n        class=\"mg-r8\"\n        v-model=\"$searchQuery.card_type\"\n        @change=\"onSingleSearch('card_type', $event)\"\n      >\n        <a-select-option\n          v-for=\"(item, index) in cardType\"\n          :key=\"index\"\n          :value=\"item.value\"\n        >\n          {{ item.label }}\n        </a-select-option>\n      </a-select>\n      <a-select\n        :class=\"shelves('search__select')\"\n        class=\"mg-r8\"\n        v-model=\"$searchQuery.publish_channel\"\n        @change=\"onSingleSearch('publish_channel', $event)\"\n      >\n        <a-select-option\n          v-for=\"(item, index) in publishChannel\"\n          :key=\"index\"\n          :value=\"item.value\"\n        >\n          {{ item.label }}\n        </a-select-option>\n      </a-select>\n      <a-select\n        :class=\"shelves('search__select')\"\n        showSearch\n        placeholder=\"输入门店名称搜索\"\n        optionFilterProp=\"children\"\n        v-model=\"$searchQuery.shop_id\"\n        @change=\"onSingleSearch('shop_id', $event)\"\n        :filterOption=\"filterOption\"\n      >\n        <a-select-option :value=\"-1\">所有门店</a-select-option>\n        <a-select-option\n          v-for=\"(item, index) in shopList\"\n          :key=\"index\"\n          :value=\"item.id\"\n        >\n          {{ item.shop_name }}\n        </a-select-option>\n      </a-select>\n    </div>\n    <st-button\n      type=\"primary\"\n      v-if=\"auth.batchDown\"\n      :disabled=\"isSelectedDisabled\"\n      @click=\"onBatchShelfDown\"\n    >\n      批量下架\n    </st-button>\n  </div>\n  <st-table\n    :scroll=\"{ x: 1450 }\"\n    :page=\"page\"\n    :alertSelection=\"{ onReset: onSelectionReset }\"\n    @change=\"onTableChange\"\n    :rowSelection=\"{ selectedRowKeys, onChange: onSelectionChange }\"\n    :loading=\"loading.getShopList\"\n    :columns=\"columns\"\n    :dataSource=\"list\"\n    rowKey=\"shelf_id\"\n  >\n    <!-- 售卖门店 -->\n    <template slot=\"shop_name\" slot-scope=\"text\">\n      {{ text }}\n    </template>\n    <!-- 会员卡名称 -->\n    <template slot=\"card_name\" slot-scope=\"text\">\n      {{ text }}\n    </template>\n    <!-- 类型 -->\n    <template slot=\"card_type\" slot-scope=\"text\">\n      {{ text.name }}\n    </template>\n    <!-- 有效期/有效次数 -->\n    <template slot=\"time_gradient\" slot-scope=\"text\">\n      {{ text }}\n    </template>\n    <!-- 支持入场门店 -->\n    <template slot=\"admission_range\" slot-scope=\"text, record\">\n      <!-- 发布渠道为门店 -->\n      <template v-if=\"record.publish_channel.id === PUBLISH_CHANNEL.SHOP\">\n        <span class=\"use_num\">{{ record.shop_name }}</span>\n      </template>\n      <!-- 发布渠道为品牌 -->\n      <template v-else>\n        <a\n          v-if=\"text.id === ADMISSION_RANGE.GENERAL_STORE\"\n          v-modal-link=\"{\n            name: 'card-brand-member-shop-table',\n            props: { id: record.id, type: 'Consume', title: '支持入场门店' }\n          }\"\n        >\n          {{ text.name }}\n        </a>\n        <span v-else class=\"use_num\">{{ text.name }}</span>\n      </template>\n    </template>\n    <!-- 售卖时间 -->\n    <template slot=\"sell_time\" slot-scope=\"text, record\">\n      {{ record.start_time }}&nbsp;~&nbsp;{{ record.end_time }}\n    </template>\n    <!-- 售卖价格 -->\n    <template slot=\"price_gradient\" slot-scope=\"text, record\">\n      <card-specs\n        :value=\"record.price_gradients.name\"\n        :list=\"record.price_gradients.list\"\n      />\n    </template>\n    <!-- 发布渠道 -->\n    <template slot=\"publish_channel\" slot-scope=\"text\">\n      {{ text.name }}\n    </template>\n    <!-- 操作 -->\n    <div slot=\"action\" slot-scope=\"text, record\">\n      <st-table-actions>\n        <router-link\n          v-if=\"record.auth['brand:product:member_card|get']\"\n          :to=\"{\n            path: `/brand/product/card/member/${\n              CARD_TYPE[record.card_type.id]\n            }/info`,\n            query: { id: record.id }\n          }\"\n        >\n          详情\n        </router-link>\n        <a\n          v-if=\"record.auth['brand:product:member_card|down']\"\n          @click=\"onShelfDown(record)\"\n        >\n          下架\n        </a>\n        <a\n          v-if=\"record.auth['brand:product:member_card|update']\"\n          @click=\"onUpdateShelf(record)\"\n        >\n          变更上架信息\n        </a>\n      </st-table-actions>\n    </div>\n  </st-table>\n</div>\n",null]}