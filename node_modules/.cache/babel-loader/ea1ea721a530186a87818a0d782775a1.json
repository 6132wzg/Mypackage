{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/src/hooks/marketing/share.hook.js","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/hooks/marketing/share.hook.js","mtime":1591147717081},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418}],"contextDependencies":[],"result":["import BrandMarketingBind from '@/views/biz-modals/brand/marketing/bind';\nimport MarketingSharePoster from '@/views/biz-modals/brand/marketing/share-poster';\nimport MarketingQrCode from '@/views/biz-modals/brand/marketing/qr-code';\n/**\n * 小程序营销插件分享\n */\n\nvar useShare = function useShare() {\n  return {\n    modals: {\n      BrandMarketingBind: BrandMarketingBind,\n      MarketingSharePoster: MarketingSharePoster,\n      MarketingQrCode: MarketingQrCode\n    },\n    methods: {\n      $_openMarketingSharePoster: function $_openMarketingSharePoster(_ref) {\n        var shsInfo = _ref.shsInfo,\n            hasQrCodeBtn = _ref.hasQrCodeBtn,\n            shsPath = _ref.shsPath;\n        this.$modalRouter.push({\n          name: 'marketing-share-poster',\n          props: {\n            shsInfo: shsInfo,\n            hasQrCodeBtn: hasQrCodeBtn,\n            shsPath: shsPath\n          }\n        });\n      },\n      $_openMarketingBind: function $_openMarketingBind() {\n        this.show = false;\n        this.$modalRouter.push({\n          name: 'brand-marketing-bind'\n        });\n      },\n      $_openQrCode: function $_openQrCode(_ref2) {\n        var qrCodeUrl = _ref2.qrCodeUrl;\n        this.$modalRouter.push({\n          name: 'marketing-qr-code',\n          props: {\n            qrCodeUrl: qrCodeUrl\n          }\n        });\n      },\n\n      /**\n       * 分享小程序营销插件二维码\n       * params.qrCodeUrl 二维码路径\n       */\n      qrCode: function qrCode(_ref3) {\n        var isAuth = _ref3.isAuth,\n            qrCodeUrl = _ref3.qrCodeUrl;\n\n        if (!isAuth) {\n          this.$_openMarketingBind();\n          return;\n        }\n\n        this.$_openQrCode({\n          qrCodeUrl: qrCodeUrl\n        });\n      },\n\n      /**\n       * 分享小程序营销插件海报\n       * params.isAuth 是否有分享海报权限\n       * params.shsPath 请求shs服务二位码\n       * params.shsInfo{\n       *  qrcode_url: [小程序码参数字段一定是qrcode_url作为key名]\n       * } 是否有分享海报权限\n       *\n       */\n      poster: function poster(_ref4) {\n        var isAuth = _ref4.isAuth,\n            shsInfo = _ref4.shsInfo,\n            hasQrCodeBtn = _ref4.hasQrCodeBtn,\n            shsPath = _ref4.shsPath;\n\n        if (!isAuth) {\n          this.$_openMarketingBind();\n          return;\n        }\n\n        this.$_openMarketingSharePoster({\n          shsInfo: shsInfo,\n          hasQrCodeBtn: hasQrCodeBtn,\n          shsPath: shsPath\n        });\n      }\n    }\n  };\n};\n\nexport default useShare;",{"version":3,"sources":["/Users/wangzhigang/Desktop/styd/web/src/hooks/marketing/share.hook.js"],"names":["BrandMarketingBind","MarketingSharePoster","MarketingQrCode","useShare","modals","methods","$_openMarketingSharePoster","shsInfo","hasQrCodeBtn","shsPath","$modalRouter","push","name","props","$_openMarketingBind","show","$_openQrCode","qrCodeUrl","qrCode","isAuth","poster"],"mappings":"AAAA,OAAOA,kBAAP,MAA+B,yCAA/B;AACA,OAAOC,oBAAP,MAAiC,iDAAjC;AACA,OAAOC,eAAP,MAA4B,4CAA5B;AACA;;;;AAGA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,GAAM;AACrB,SAAO;AACLC,IAAAA,MAAM,EAAE;AACNJ,MAAAA,kBAAkB,EAAlBA,kBADM;AAENC,MAAAA,oBAAoB,EAApBA,oBAFM;AAGNC,MAAAA,eAAe,EAAfA;AAHM,KADH;AAMLG,IAAAA,OAAO,EAAE;AACPC,MAAAA,0BADO,4CACwD;AAAA,YAAlCC,OAAkC,QAAlCA,OAAkC;AAAA,YAAzBC,YAAyB,QAAzBA,YAAyB;AAAA,YAAXC,OAAW,QAAXA,OAAW;AAC7D,aAAKC,YAAL,CAAkBC,IAAlB,CAAuB;AACrBC,UAAAA,IAAI,EAAE,wBADe;AAErBC,UAAAA,KAAK,EAAE;AACLN,YAAAA,OAAO,EAAPA,OADK;AAELC,YAAAA,YAAY,EAAZA,YAFK;AAGLC,YAAAA,OAAO,EAAPA;AAHK;AAFc,SAAvB;AAQD,OAVM;AAWPK,MAAAA,mBAXO,iCAWe;AACpB,aAAKC,IAAL,GAAY,KAAZ;AACA,aAAKL,YAAL,CAAkBC,IAAlB,CAAuB;AACrBC,UAAAA,IAAI,EAAE;AADe,SAAvB;AAGD,OAhBM;AAiBPI,MAAAA,YAjBO,+BAiBqB;AAAA,YAAbC,SAAa,SAAbA,SAAa;AAC1B,aAAKP,YAAL,CAAkBC,IAAlB,CAAuB;AACrBC,UAAAA,IAAI,EAAE,mBADe;AAErBC,UAAAA,KAAK,EAAE;AACLI,YAAAA,SAAS,EAATA;AADK;AAFc,SAAvB;AAMD,OAxBM;;AAyBP;;;;AAIAC,MAAAA,MA7BO,yBA6BuB;AAAA,YAArBC,MAAqB,SAArBA,MAAqB;AAAA,YAAbF,SAAa,SAAbA,SAAa;;AAC5B,YAAI,CAACE,MAAL,EAAa;AACX,eAAKL,mBAAL;AACA;AACD;;AACD,aAAKE,YAAL,CAAkB;AAAEC,UAAAA,SAAS,EAATA;AAAF,SAAlB;AACD,OAnCM;;AAoCP;;;;;;;;;AASAG,MAAAA,MA7CO,yBA6C4C;AAAA,YAA1CD,MAA0C,SAA1CA,MAA0C;AAAA,YAAlCZ,OAAkC,SAAlCA,OAAkC;AAAA,YAAzBC,YAAyB,SAAzBA,YAAyB;AAAA,YAAXC,OAAW,SAAXA,OAAW;;AACjD,YAAI,CAACU,MAAL,EAAa;AACX,eAAKL,mBAAL;AACA;AACD;;AACD,aAAKR,0BAAL,CAAgC;AAAEC,UAAAA,OAAO,EAAPA,OAAF;AAAWC,UAAAA,YAAY,EAAZA,YAAX;AAAyBC,UAAAA,OAAO,EAAPA;AAAzB,SAAhC;AACD;AAnDM;AANJ,GAAP;AA4DD,CA7DD;;AA+DA,eAAeN,QAAf","sourcesContent":["import BrandMarketingBind from '@/views/biz-modals/brand/marketing/bind'\nimport MarketingSharePoster from '@/views/biz-modals/brand/marketing/share-poster'\nimport MarketingQrCode from '@/views/biz-modals/brand/marketing/qr-code'\n/**\n * 小程序营销插件分享\n */\nconst useShare = () => {\n  return {\n    modals: {\n      BrandMarketingBind,\n      MarketingSharePoster,\n      MarketingQrCode\n    },\n    methods: {\n      $_openMarketingSharePoster({ shsInfo, hasQrCodeBtn, shsPath }) {\n        this.$modalRouter.push({\n          name: 'marketing-share-poster',\n          props: {\n            shsInfo,\n            hasQrCodeBtn,\n            shsPath\n          }\n        })\n      },\n      $_openMarketingBind() {\n        this.show = false\n        this.$modalRouter.push({\n          name: 'brand-marketing-bind'\n        })\n      },\n      $_openQrCode({ qrCodeUrl }) {\n        this.$modalRouter.push({\n          name: 'marketing-qr-code',\n          props: {\n            qrCodeUrl\n          }\n        })\n      },\n      /**\n       * 分享小程序营销插件二维码\n       * params.qrCodeUrl 二维码路径\n       */\n      qrCode({ isAuth, qrCodeUrl }) {\n        if (!isAuth) {\n          this.$_openMarketingBind()\n          return\n        }\n        this.$_openQrCode({ qrCodeUrl })\n      },\n      /**\n       * 分享小程序营销插件海报\n       * params.isAuth 是否有分享海报权限\n       * params.shsPath 请求shs服务二位码\n       * params.shsInfo{\n       *  qrcode_url: [小程序码参数字段一定是qrcode_url作为key名]\n       * } 是否有分享海报权限\n       *\n       */\n      poster({ isAuth, shsInfo, hasQrCodeBtn, shsPath }) {\n        if (!isAuth) {\n          this.$_openMarketingBind()\n          return\n        }\n        this.$_openMarketingSharePoster({ shsInfo, hasQrCodeBtn, shsPath })\n      }\n    }\n  }\n}\n\nexport default useShare\n"]}]}