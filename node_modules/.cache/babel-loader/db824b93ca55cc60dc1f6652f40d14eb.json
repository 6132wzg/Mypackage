{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/staff/info/course.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/staff/info/course.vue","mtime":1600926556250},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { courseColums } from \"./columns.config\";\nimport { CourseService } from \"./course.service\";\nimport ShopSelect from '@/views/biz-components/shop/shop-select';\nimport tableMixin from '@/mixins/table.mixin';\nimport SchedulePersonalReserveInfo from '@/views/biz-modals/schedule/personal/reserve-info';\nimport SchedulePersonalTeamReserveInfo from '@/views/biz-modals/schedule/personal-team/reserve-info';\nimport ScheduleTeamReserveInfo from '@/views/biz-modals/schedule/team/reserve-info';\nimport { COURSE_TYPE } from '@/constants/staff/info';\nexport default {\n  mixins: [tableMixin],\n  modals: {\n    SchedulePersonalReserveInfo: SchedulePersonalReserveInfo,\n    SchedulePersonalTeamReserveInfo: SchedulePersonalTeamReserveInfo,\n    ScheduleTeamReserveInfo: ScheduleTeamReserveInfo\n  },\n  serviceInject: function serviceInject() {\n    return {\n      service: CourseService\n    };\n  },\n  rxState: function rxState() {\n    return {\n      courseInfo: this.service.courseInfo$,\n      loading: this.service.loading$,\n      page: this.service.page$,\n      reserveStatus: this.service.reserveStatus$\n    };\n  },\n  data: function data() {\n    return {\n      id: '',\n      COURSE_TYPE: COURSE_TYPE\n    };\n  },\n  computed: {\n    courseColums: courseColums\n  },\n  components: {\n    ShopSelect: ShopSelect\n  },\n  methods: {\n    goCourseDetai: function goCourseDetai(e) {\n      var course_type = e.course_type.id;\n      var course_id = e.course_id;\n\n      if (course_type === this.COURSE_TYPE.PERSONAL || course_type === this.COURSE_TYPE.PERSONAL_TEAM) {\n        this.$router.push({\n          name: 'brand-product-course-personal-info',\n          query: {\n            id: course_id\n          }\n        });\n      } else if (course_type === this.COURSE_TYPE.TEAM) {\n        this.$router.push({\n          name: 'brand-product-course-team-info',\n          query: {\n            courseId: course_id\n          }\n        });\n      }\n    },\n    // 查看详情 点击弹出预约详情弹窗，同【门店-课程排期-团体课】、【门店-课程排期-私教1v1】、【门店-课程排期-私教小团课】\n    onSearchDetail: function onSearchDetail(e) {\n      console.log(e);\n      var course_type = e.course_type.id;\n      var id = e.id;\n\n      switch (course_type) {\n        case 1:\n          this.$modalRouter.push({\n            name: 'schedule-team-reserve-info',\n            props: {\n              id: id\n            },\n            on: {\n              ok: function ok(res) {\n                console.log(res);\n              }\n            }\n          });\n          break;\n\n        case 2:\n          this.$modalRouter.push({\n            name: 'schedule-personal-team-reserve-info',\n            props: {\n              id: id\n            },\n            on: {\n              ok: function ok(res) {\n                console.log(res);\n              }\n            }\n          });\n          break;\n\n        case 3:\n          this.$modalRouter.push({\n            name: 'schedule-personal-reserve-info',\n            props: {\n              id: id\n            },\n            on: {\n              ok: function ok(res) {\n                console.log(res);\n              }\n            }\n          });\n          break;\n      }\n    },\n    // 日期选择\n    onChooseDate: function onChooseDate(e) {\n      this.$router.push({\n        query: {\n          id: this.$searchQuery.id,\n          start_time: moment(e[0]).format('YYYY-MM-DD'),\n          end_time: moment(e[1]).format('YYYY-MM-DD')\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["course.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA,SAAA,YAAA;AACA,SAAA,aAAA;AACA,OAAA,UAAA,MAAA,yCAAA;AACA,OAAA,UAAA,MAAA,sBAAA;AACA,OAAA,2BAAA,MAAA,mDAAA;AACA,OAAA,+BAAA,MAAA,wDAAA;AACA,OAAA,uBAAA,MAAA,+CAAA;AACA,SAAA,WAAA,QAAA,wBAAA;AACA,eAAA;AACA,EAAA,MAAA,EAAA,CAAA,UAAA,CADA;AAEA,EAAA,MAAA,EAAA;AACA,IAAA,2BAAA,EAAA,2BADA;AAEA,IAAA,+BAAA,EAAA,+BAFA;AAGA,IAAA,uBAAA,EAAA;AAHA,GAFA;AAOA,EAAA,aAPA,2BAOA;AACA,WAAA;AACA,MAAA,OAAA,EAAA;AADA,KAAA;AAGA,GAXA;AAYA,EAAA,OAZA,qBAYA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,KAAA,OAAA,CAAA,WADA;AAEA,MAAA,OAAA,EAAA,KAAA,OAAA,CAAA,QAFA;AAGA,MAAA,IAAA,EAAA,KAAA,OAAA,CAAA,KAHA;AAIA,MAAA,aAAA,EAAA,KAAA,OAAA,CAAA;AAJA,KAAA;AAMA,GAnBA;AAoBA,EAAA,IApBA,kBAoBA;AACA,WAAA;AACA,MAAA,EAAA,EAAA,EADA;AAEA,MAAA,WAAA,EAAA;AAFA,KAAA;AAIA,GAzBA;AA0BA,EAAA,QAAA,EAAA;AACA,IAAA,YAAA,EAAA;AADA,GA1BA;AA6BA,EAAA,UAAA,EAAA;AACA,IAAA,UAAA,EAAA;AADA,GA7BA;AAgCA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,yBACA,CADA,EACA;AACA,UAAA,WAAA,GAAA,CAAA,CAAA,WAAA,CAAA,EAAA;AACA,UAAA,SAAA,GAAA,CAAA,CAAA,SAAA;;AACA,UACA,WAAA,KAAA,KAAA,WAAA,CAAA,QAAA,IACA,WAAA,KAAA,KAAA,WAAA,CAAA,aAFA,EAGA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA;AACA,UAAA,IAAA,EAAA,oCADA;AAEA,UAAA,KAAA,EAAA;AACA,YAAA,EAAA,EAAA;AADA;AAFA,SAAA;AAMA,OAVA,MAUA,IAAA,WAAA,KAAA,KAAA,WAAA,CAAA,IAAA,EAAA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA;AACA,UAAA,IAAA,EAAA,gCADA;AAEA,UAAA,KAAA,EAAA;AACA,YAAA,QAAA,EAAA;AADA;AAFA,SAAA;AAMA;AACA,KAtBA;AAuBA;AACA,IAAA,cAxBA,0BAwBA,CAxBA,EAwBA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,CAAA;AACA,UAAA,WAAA,GAAA,CAAA,CAAA,WAAA,CAAA,EAAA;AACA,UAAA,EAAA,GAAA,CAAA,CAAA,EAAA;;AACA,cAAA,WAAA;AACA,aAAA,CAAA;AACA,eAAA,YAAA,CAAA,IAAA,CAAA;AACA,YAAA,IAAA,EAAA,4BADA;AAEA,YAAA,KAAA,EAAA;AACA,cAAA,EAAA,EAAA;AADA,aAFA;AAKA,YAAA,EAAA,EAAA;AACA,cAAA,EAAA,EAAA,YAAA,GAAA,EAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA;AAHA;AALA,WAAA;AAWA;;AACA,aAAA,CAAA;AACA,eAAA,YAAA,CAAA,IAAA,CAAA;AACA,YAAA,IAAA,EAAA,qCADA;AAEA,YAAA,KAAA,EAAA;AACA,cAAA,EAAA,EAAA;AADA,aAFA;AAKA,YAAA,EAAA,EAAA;AACA,cAAA,EAAA,EAAA,YAAA,GAAA,EAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA;AAHA;AALA,WAAA;AAWA;;AACA,aAAA,CAAA;AACA,eAAA,YAAA,CAAA,IAAA,CAAA;AACA,YAAA,IAAA,EAAA,gCADA;AAEA,YAAA,KAAA,EAAA;AACA,cAAA,EAAA,EAAA;AADA,aAFA;AAKA,YAAA,EAAA,EAAA;AACA,cAAA,EAAA,EAAA,YAAA,GAAA,EAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA;AAHA;AALA,WAAA;AAWA;AAvCA;AAyCA,KArEA;AAsEA;AACA,IAAA,YAvEA,wBAuEA,CAvEA,EAuEA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,KAAA,EAAA;AACA,UAAA,EAAA,EAAA,KAAA,YAAA,CAAA,EADA;AAEA,UAAA,UAAA,EAAA,MAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,MAAA,CAAA,YAAA,CAFA;AAGA,UAAA,QAAA,EAAA,MAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,MAAA,CAAA,YAAA;AAHA;AADA,OAAA;AAOA;AA/EA;AAhCA,CAAA","sourcesContent":["<template>\n  <a-row>\n    <shop-select\n      class=\"mg-r8\"\n      style=\"width: 160px\"\n      :defaultValue=\"-1\"\n      v-model=\"$searchQuery.shop_id\"\n      @change=\"onSingleSearch('shop_id', $event)\"\n    ></shop-select>\n    <a-range-picker class=\"mg-r8\" @change=\"onChooseDate\" format=\"YYYY-MM-DD\" />\n    <a-select\n      style=\"width: 160px;\"\n      :defaultValue=\"-1\"\n      placeholder=\"请选择预约状态\"\n      @change=\"onSingleSearch('schedule_status', $event)\"\n      :options=\"reserveStatus\"\n    ></a-select>\n\n    <st-input-search\n      class=\"fl-r\"\n      placeholder=\"请输入课程名称\"\n      @search=\"onSingleSearch('course_name', $event)\"\n    />\n    <a-col :lg=\"24\" class=\"mg-t16\">\n      <st-table\n        :columns=\"courseColums\"\n        :dataSource=\"courseInfo\"\n        :scroll=\"{ x: 1000 }\"\n        :loading=\"loading.getCoursesList\"\n        :page=\"page\"\n        rowKey=\"id\"\n        @change=\"onTableChange\"\n      >\n        <template slot=\"schedule_status\" slot-scope=\"text, record\">\n          <st-text\n            :status=\"{\n              success: record.schedule_status.id === 2,\n              default:\n                record.schedule_status.id === 3 ||\n                record.schedule_status.id === 4,\n              primary: record.schedule_status.id === 1\n            }\"\n          >\n            {{ record.schedule_status.name }}\n          </st-text>\n        </template>\n        <template slot=\"course_type\" slot-scope=\"text, record\">\n          <!-- 课程类型 -->\n          {{ record.course_type.name }}\n        </template>\n        <template slot=\"course_name\" slot-scope=\"text, record\">\n          <a href=\"javascript:;\" class=\"mg-r8\" @click=\"goCourseDetai(record)\">\n            {{ text }}\n          </a>\n        </template>\n        <!-- <template slot=\"action\" slot-scope=\"text, record\">\n            <st-table-actions>\n              <a href=\"javascript:;\" class=\"mg-r8\" @click=\"onSearchDetail(record)\">详情</a>\n            </st-table-actions>\n          </template> -->\n      </st-table>\n    </a-col>\n  </a-row>\n</template>\n\n<script>\nimport { courseColums } from './columns.config'\nimport { CourseService } from './course.service'\nimport ShopSelect from '@/views/biz-components/shop/shop-select'\nimport tableMixin from '@/mixins/table.mixin'\nimport SchedulePersonalReserveInfo from '@/views/biz-modals/schedule/personal/reserve-info'\nimport SchedulePersonalTeamReserveInfo from '@/views/biz-modals/schedule/personal-team/reserve-info'\nimport ScheduleTeamReserveInfo from '@/views/biz-modals/schedule/team/reserve-info'\nimport { COURSE_TYPE } from '@/constants/staff/info'\nexport default {\n  mixins: [tableMixin],\n  modals: {\n    SchedulePersonalReserveInfo,\n    SchedulePersonalTeamReserveInfo,\n    ScheduleTeamReserveInfo\n  },\n  serviceInject() {\n    return {\n      service: CourseService\n    }\n  },\n  rxState() {\n    return {\n      courseInfo: this.service.courseInfo$,\n      loading: this.service.loading$,\n      page: this.service.page$,\n      reserveStatus: this.service.reserveStatus$\n    }\n  },\n  data() {\n    return {\n      id: '',\n      COURSE_TYPE\n    }\n  },\n  computed: {\n    courseColums\n  },\n  components: {\n    ShopSelect\n  },\n  methods: {\n    goCourseDetai(e) {\n      let course_type = e.course_type.id\n      let course_id = e.course_id\n      if (\n        course_type === this.COURSE_TYPE.PERSONAL ||\n        course_type === this.COURSE_TYPE.PERSONAL_TEAM\n      ) {\n        this.$router.push({\n          name: 'brand-product-course-personal-info',\n          query: {\n            id: course_id\n          }\n        })\n      } else if (course_type === this.COURSE_TYPE.TEAM) {\n        this.$router.push({\n          name: 'brand-product-course-team-info',\n          query: {\n            courseId: course_id\n          }\n        })\n      }\n    },\n    // 查看详情 点击弹出预约详情弹窗，同【门店-课程排期-团体课】、【门店-课程排期-私教1v1】、【门店-课程排期-私教小团课】\n    onSearchDetail(e) {\n      console.log(e)\n      let course_type = e.course_type.id\n      let id = e.id\n      switch (course_type) {\n        case 1:\n          this.$modalRouter.push({\n            name: 'schedule-team-reserve-info',\n            props: {\n              id\n            },\n            on: {\n              ok: res => {\n                console.log(res)\n              }\n            }\n          })\n          break\n        case 2:\n          this.$modalRouter.push({\n            name: 'schedule-personal-team-reserve-info',\n            props: {\n              id\n            },\n            on: {\n              ok: res => {\n                console.log(res)\n              }\n            }\n          })\n          break\n        case 3:\n          this.$modalRouter.push({\n            name: 'schedule-personal-reserve-info',\n            props: {\n              id\n            },\n            on: {\n              ok: res => {\n                console.log(res)\n              }\n            }\n          })\n          break\n      }\n    },\n    // 日期选择\n    onChooseDate(e) {\n      this.$router.push({\n        query: {\n          id: this.$searchQuery.id,\n          start_time: moment(e[0]).format('YYYY-MM-DD'),\n          end_time: moment(e[1]).format('YYYY-MM-DD')\n        }\n      })\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/views/pages/brand/staff/info"}]}