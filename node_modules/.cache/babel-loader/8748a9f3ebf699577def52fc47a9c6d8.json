{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/thread-loader/dist/cjs.js!/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/biz-modals/sold/card/batch-enter-time.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/biz-modals/sold/card/batch-enter-time.vue","mtime":1591147717228},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/thread-loader/dist/cjs.js","mtime":1591062572352},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { BatchEnterTimeService } from \"./batch-enter-time.service\";\nimport { BATCH_TYPE, BATCH_INFO } from '@/constants/common/batch-operation';\nimport { cloneDeep } from 'lodash-es';\nimport ShopHourPicker from '@/views/biz-components/shop-hour-picker/shop-hour-picker';\nexport default {\n  name: 'ModalSoldCardBatchEnterTime',\n  serviceProviders: function serviceProviders() {\n    return [BatchEnterTimeService];\n  },\n  serviceInject: function serviceInject() {\n    return {\n      batchEnterTimeService: BatchEnterTimeService\n    };\n  },\n  rxState: function rxState() {\n    return {\n      loading: this.batchEnterTimeService.loading$,\n      count: this.batchEnterTimeService.count$,\n      inoutTypes: this.batchEnterTimeService.inoutTypes$\n    };\n  },\n  components: {\n    ShopHourPicker: ShopHourPicker\n  },\n  props: {\n    ids: {\n      type: Array,\n      required: true\n    },\n    searchQuery: Object\n  },\n  mounted: function mounted() {\n    this.batchEnterTimeService.fetchCardNum(this.searchQuery).subscribe();\n  },\n  data: function data() {\n    return {\n      BATCH_TYPE: BATCH_TYPE,\n      BATCH_INFO: BATCH_INFO,\n      show: false,\n      batch_type: BATCH_TYPE.SELECTED,\n      timeList: [],\n      admissionTime: 1\n    };\n  },\n  computed: {\n    helpText: function helpText() {\n      return this.count > this.BATCH_INFO.LIMIT_NUM ? this.BATCH_INFO.ERROR_TIP : '';\n    },\n    helpShow: function helpShow() {\n      return this.count > this.BATCH_INFO.LIMIT_NUM;\n    },\n    operateDataNum: function operateDataNum() {\n      return this.batch_type === this.BATCH_TYPE.SELECTED ? this.ids.length : this.count;\n    }\n  },\n  methods: {\n    onSubmit: function onSubmit() {\n      var _this = this;\n\n      this.batchEnterTimeService.setCardEnterTime({\n        sold_ids: this.ids,\n        batch_type: this.batch_type,\n        inout_type: this.admissionTime,\n        inout_time: this.timeList,\n        conditions: this.searchQuery\n      }).subscribe(function (res) {\n        _this.$emit('success');\n\n        _this.show = false;\n      });\n    }\n  }\n};",null]}