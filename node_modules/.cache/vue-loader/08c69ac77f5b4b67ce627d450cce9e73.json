{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/biz-components/package/form/form-item#/transfer-setting-form-item.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/biz-components/package/form/form-item#/transfer-setting-form-item.vue","mtime":1600926555705},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { FormService } from '../form.service'\nexport default {\n  name: 'TransferSettingFormSetting',\n  inject: ['form'],\n  data() {\n    return {\n      isTransfer: false,\n      isReset: true,\n      range: {\n        min: 0,\n        max: 99\n      }\n    }\n  },\n  serviceInject() {\n    return {\n      service: FormService\n    }\n  },\n  rxState() {\n    let { transferUnitOptions$ } = this.service\n    return {\n      transferUnitOptions$\n    }\n  },\n  computed: {\n    decorators() {\n      return this.form.decorators\n    }\n  },\n  methods: {\n    onchangeUnit(value) {\n      this.getRange(value)\n    },\n    onChange(event) {\n      this.isReset = false\n      let timer = setTimeout(() => {\n        this.isReset = true\n        clearTimeout(timer)\n      }, 100)\n      this.isTransfer = !!event[0]\n      this.form.isTransfer = !!event[0]\n    },\n    getRange(unit) {\n      let ranges = {\n        1: {\n          min: 0,\n          max: 100\n        },\n        2: {\n          min: 0,\n          max: 999999\n        }\n      }\n      this.$nextTick().then(() => {\n        unit = unit ? unit : this.form.form.getFieldValue('transfer_unit')\n        this.range = ranges[unit]\n      })\n    }\n  },\n  mounted() {\n    this.isTransfer = !!this.form.initInfo.is_allow_transfer\n    this.getRange()\n  }\n}\n",{"version":3,"sources":["transfer-setting-form-item.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"transfer-setting-form-item.vue","sourceRoot":"src/views/biz-components/package/form/form-item#","sourcesContent":["<template>\n  <!-- 转让设置 -->\n  <div :class=\"form.b('transfer-item')\">\n    <st-form-item label=\"转让设置\" :required=\"isTransfer\" labelWidth=\"148px\">\n      <a-checkbox-group\n        v-decorator=\"decorators.is_allow_transfer\"\n        @change=\"onChange\"\n      >\n        <a-checkbox :value=\"1\">\n          <span>支持转让</span>\n        </a-checkbox>\n      </a-checkbox-group>\n    </st-form-item>\n    <st-form-item\n      v-if=\"isReset\"\n      class=\"input-number\"\n      label=\"\"\n      :required=\"isTransfer\"\n    >\n      <st-input-number\n        v-decorator=\"decorators.transfer_rate\"\n        :min=\"range.min\"\n        :max=\"range.max\"\n        float\n        :disabled=\"!isTransfer\"\n        style=\"width: 141px\"\n      >\n        <a-select\n          slot=\"addonAfter\"\n          @change=\"onchangeUnit\"\n          v-decorator=\"decorators.transfer_unit\"\n          :options=\"transferUnitOptions$\"\n        ></a-select>\n      </st-input-number>\n    </st-form-item>\n  </div>\n</template>\n\n<script>\nimport { FormService } from '../form.service'\nexport default {\n  name: 'TransferSettingFormSetting',\n  inject: ['form'],\n  data() {\n    return {\n      isTransfer: false,\n      isReset: true,\n      range: {\n        min: 0,\n        max: 99\n      }\n    }\n  },\n  serviceInject() {\n    return {\n      service: FormService\n    }\n  },\n  rxState() {\n    let { transferUnitOptions$ } = this.service\n    return {\n      transferUnitOptions$\n    }\n  },\n  computed: {\n    decorators() {\n      return this.form.decorators\n    }\n  },\n  methods: {\n    onchangeUnit(value) {\n      this.getRange(value)\n    },\n    onChange(event) {\n      this.isReset = false\n      let timer = setTimeout(() => {\n        this.isReset = true\n        clearTimeout(timer)\n      }, 100)\n      this.isTransfer = !!event[0]\n      this.form.isTransfer = !!event[0]\n    },\n    getRange(unit) {\n      let ranges = {\n        1: {\n          min: 0,\n          max: 100\n        },\n        2: {\n          min: 0,\n          max: 999999\n        }\n      }\n      this.$nextTick().then(() => {\n        unit = unit ? unit : this.form.form.getFieldValue('transfer_unit')\n        this.range = ranges[unit]\n      })\n    }\n  },\n  mounted() {\n    this.isTransfer = !!this.form.initInfo.is_allow_transfer\n    this.getRange()\n  }\n}\n</script>\n\n<style></style>\n"]}]}