{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/thread-loader/dist/cjs.js!/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/biz-modals/hardware/black-list.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/biz-modals/hardware/black-list.vue","mtime":1591147717180},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/thread-loader/dist/cjs.js","mtime":1591062572352},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.set\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { columns } from \"./black-list.config\";\nimport { BlackService } from \"./black-list.service\";\nexport default {\n  serviceInject: function serviceInject() {\n    return {\n      blackService: BlackService\n    };\n  },\n  rxState: function rxState() {\n    return {\n      loading: this.blackService.loading$,\n      blackList: this.blackService.blackList$,\n      blackKeys: this.blackService.blackKeys$,\n      searchList: this.blackService.searchList$\n    };\n  },\n  bem: {\n    bPage: 'modal-shop-blacklist'\n  },\n  props: {\n    id: Number\n  },\n  data: function data() {\n    return {\n      show: false,\n      list: [],\n      page: {} // 前端分页\n\n    };\n  },\n  created: function created() {\n    this.getBlackList();\n  },\n  computed: {\n    columns: columns\n  },\n  methods: {\n    getBlackList: function getBlackList() {\n      return this.blackService.getBlackList().subscribe();\n    },\n    onSearchKeyWords: function onSearchKeyWords(val) {\n      this.blackService.onSearchKeyWords(val).subscribe();\n    },\n    joinPerson: function joinPerson(para) {\n      var _this = this;\n\n      var arr = this.blackList;\n      this.blackList = [];\n      this.blackKeys = Array.from(new Set(this.blackKeys));\n      var searchRes = this.searchList.concat(arr);\n      this.blackKeys.map(function (id) {\n        searchRes.map(function (searchItem) {\n          if (searchItem.user_id === id) {\n            _this.blackList.push(searchItem);\n          }\n        });\n      });\n    },\n    deletePerson: function deletePerson(para) {\n      this.blackKeys = this.blackKeys.filter(function (id) {\n        return id !== para.user_id;\n      });\n      this.blackList = this.blackList.filter(function (_ref) {\n        var user_id = _ref.user_id;\n        return user_id !== para.user_id;\n      });\n    },\n    onChange: function onChange(pagination, filters, sorter) {\n      this.page = pagination;\n      this.page.current_page = pagination.current;\n      this.page.size = pagination.pageSize;\n    },\n    postBlackListSetting: function postBlackListSetting() {\n      var _this2 = this;\n\n      this.blackService.postBlackListSetting({\n        black_list: this.blackList\n      }).subscribe(function (res) {\n        _this2.show = false;\n\n        _this2.$emit('success');\n      });\n    }\n  },\n  watch: {\n    // 去重\n    blackList: function blackList() {\n      for (var i = 0; i < this.blackList.length; i++) {\n        for (var j = i + 1; j < this.blackList.length; j++) {\n          if (this.blackList[i].user_id === this.blackList[j].user_id) {\n            this.blackList.splice(j, 1);\n            j--;\n          }\n        }\n      }\n    }\n  }\n};",null]}