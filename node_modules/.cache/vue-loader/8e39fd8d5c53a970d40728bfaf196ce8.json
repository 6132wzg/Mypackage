{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/biz-modals/brand/setting/personal/price-model.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/biz-modals/brand/setting/personal/price-model.vue","mtime":1591147717140},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { MessageService } from '@/services/message.service'\nimport { PriceModelService } from './price-model.service'\nimport { PERSONAL } from '@/constants/setting/personal'\nexport default {\n  serviceInject() {\n    return {\n      messageService: MessageService,\n      settingService: PriceModelService\n    }\n  },\n  rxState() {\n    return {\n      loading: this.settingService.loading$,\n      standardPrices: this.settingService.standardPrices$,\n      saleModels: this.settingService.saleModels$\n    }\n  },\n  data() {\n    return {\n      PERSONAL,\n      show: false,\n      form: this.$form.createForm(this),\n      info: {},\n      isShowPriceSet: false,\n      isShowConfirm: false\n    }\n  },\n  created() {\n    this.settingService.getInfo().subscribe(res => {\n      this.info = res\n    })\n  },\n  methods: {\n    showConfirm() {\n      this.isShowConfirm = true\n    },\n    onSaleModelChange(e) {\n      const saleModel = e.target.value\n      this.info.sale_model = saleModel\n      this.isShowPriceSet = saleModel !== this.info.origin_sale_model\n    },\n    onStandardPriceChange(e) {\n      this.info.standard_price = e.target.value\n    },\n    cancel() {\n      this.show = false\n    },\n    save() {\n      this.settingService.update({ ...this.info }).subscribe(() => {\n        this.messageService.success({\n          content: '提交成功'\n        })\n        this.show = false\n        this.$emit('change')\n      })\n    }\n  }\n}\n",null]}