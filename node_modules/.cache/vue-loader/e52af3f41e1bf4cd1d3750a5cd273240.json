{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/biz-modals/shop-staff/leave-current-shop.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/biz-modals/shop-staff/leave-current-shop.vue","mtime":1600912105891},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport StaffInfo from './staff-info'\nimport { LeaveStoreService } from './leave-current-shop.service'\nimport { LEAVE_CURRENT_SHOP } from '@/constants/shop-staff/leave-current-shop'\nexport default {\n  name: 'LeaveCurrentStore',\n  serviceInject() {\n    return {\n      service: LeaveStoreService\n    }\n  },\n  rxState() {\n    return {\n      list: this.service.list$,\n      operate: this.service.operate$\n    }\n  },\n  props: {\n    staff: {\n      type: Object,\n      default: () => {}\n    }\n  },\n  data() {\n    return {\n      LEAVE_CURRENT_SHOP,\n      show: false\n    }\n  },\n  mounted() {\n    this.service.getInfo(this.staff.id).subscribe()\n  },\n  components: {\n    StaffInfo\n  },\n  methods: {\n    onCancel() {\n      this.show = false\n    },\n    onSubmit() {\n      this.service.leaveStore(this.staff.id).subscribe(res => {\n        this.show = false\n      })\n    }\n  }\n}\n",{"version":3,"sources":["leave-current-shop.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"leave-current-shop.vue","sourceRoot":"src/views/biz-modals/shop-staff","sourcesContent":["<template>\n  <st-modal\n    title=\"解除门店关系\"\n    size=\"small\"\n    v-model=\"show\"\n    class=\"model-leave-store-container\"\n  >\n    <staff-info :staff=\"staff\"></staff-info>\n    <template v-if=\"operate === LEAVE_CURRENT_SHOP.OPERATE_TYPE\">\n      <a-row :gutter=\"8\" class=\"mg-t16\">\n        <a-col :lg=\"24\">\n          <p class=\"model-leave-store-container_tip\">\n            确认此员工不在{{ '门店名称' }}进行相关工作\n          </p>\n        </a-col>\n      </a-row>\n      <template slot=\"footer\">\n        <st-button class=\"mg-r8\" @click=\"onCancel\">取消</st-button>\n        <st-button type=\"primary\" @click=\"onSubmit\">确认</st-button>\n      </template>\n    </template>\n    <template v-else>\n      <a-row :gutter=\"8\" class=\"mg-t16\" v-if=\"list.length !== 0\">\n        <a-col :lg=\"24\">\n          <div class=\"model-leave-store-container_info\">\n            <div class=\"model-leave-store-container_same mg-b8\">\n              该员工在本门店还有未完成的事项，无法解除\n            </div>\n            <template v-for=\"item in list\">\n              <div\n                :key=\"item.type\"\n                class=\"model-leave-store-container_same mg-b8\"\n              >\n                {{ item.num }}{{ item.name }}\n              </div>\n            </template>\n          </div>\n        </a-col>\n      </a-row>\n      <template slot=\"footer\">\n        <st-button type=\"primary\" @click=\"onCancel\">知道了</st-button>\n      </template>\n    </template>\n  </st-modal>\n</template>\n<script>\nimport StaffInfo from './staff-info'\nimport { LeaveStoreService } from './leave-current-shop.service'\nimport { LEAVE_CURRENT_SHOP } from '@/constants/shop-staff/leave-current-shop'\nexport default {\n  name: 'LeaveCurrentStore',\n  serviceInject() {\n    return {\n      service: LeaveStoreService\n    }\n  },\n  rxState() {\n    return {\n      list: this.service.list$,\n      operate: this.service.operate$\n    }\n  },\n  props: {\n    staff: {\n      type: Object,\n      default: () => {}\n    }\n  },\n  data() {\n    return {\n      LEAVE_CURRENT_SHOP,\n      show: false\n    }\n  },\n  mounted() {\n    this.service.getInfo(this.staff.id).subscribe()\n  },\n  components: {\n    StaffInfo\n  },\n  methods: {\n    onCancel() {\n      this.show = false\n    },\n    onSubmit() {\n      this.service.leaveStore(this.staff.id).subscribe(res => {\n        this.show = false\n      })\n    }\n  }\n}\n</script>\n"]}]}