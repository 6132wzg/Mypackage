{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/marketing/plugin/member-points/list/flow-record.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/marketing/plugin/member-points/list/flow-record.vue","mtime":1600926556147},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport shopSelect from '@/views/biz-components/shop/shop-select'\nimport StTotal from '@/views/components/total#/total.vue'\nimport tableMixin from '@/mixins/table.mixin'\nimport { columns, totalColumns } from './flow-record.config'\nimport { FlowRecordService } from './flow-record.service'\nimport moment from 'moment'\n\nexport default {\n  name: 'BrandPlaginMemberPointsFlowRecord',\n  mixins: [tableMixin],\n  serviceInject() {\n    return {\n      service: FlowRecordService\n    }\n  },\n  rxState() {\n    let { sourceTypeOptions$, total$, list$, page$ } = this.service\n    return { sourceTypeOptions$, total$, list$, page$ }\n  },\n  bem: {\n    b: 'brand-plagin-member-points-flow-record'\n  },\n  computed: {\n    columns,\n    totalColumns\n  },\n  components: {\n    shopSelect,\n    StTotal\n  },\n  methods: {\n    moment,\n    onChangeDataDays(event) {\n      this.$searchQuery.day = event.recently_day || undefined\n      this.$searchQuery.start_date = event.start_date || undefined\n      this.$searchQuery.end_date = event.end_date || undefined\n      this.onSearch()\n    }\n  }\n}\n",{"version":3,"sources":["flow-record.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"flow-record.vue","sourceRoot":"src/views/pages/brand/marketing/plugin/member-points/list","sourcesContent":["<template>\n  <div>\n    <portal to=\"BRAND_PLUGIN_POINTS_MALL_SEARCH\">\n      <st-input-search\n        v-model=\"$searchQuery.keyword\"\n        @search=\"onKeywordsSearch('keyword', $event)\"\n        placeholder=\"搜索会员姓名或手机号\"\n        style=\"width:400px\"\n      />\n    </portal>\n    <div :class=\"b('search')\">\n      <div :class=\"b('search-left')\">\n        <a-select\n          style=\"width: 120px;\"\n          v-model=\"$searchQuery.source_type\"\n          :options=\"sourceTypeOptions$\"\n          @change=\"onSingleSearch('source_type', $event)\"\n          placeholder=\"请选择积分来源\"\n          class=\"mg-r16\"\n        ></a-select>\n        <shop-select\n          v-model=\"$searchQuery.shop_id\"\n          @change=\"onSingleSearch('shop_id', $event)\"\n        />\n      </div>\n      <div :class=\"b('search-right')\">\n        <st-recent-radio-group\n          @change=\"onChangeDataDays\"\n          :value=\"$searchQuery\"\n        ></st-recent-radio-group>\n      </div>\n    </div>\n    <div :class=\"b('content')\" class=\"mg-t16\">\n      <st-total\n        :class=\"b('total')\"\n        :indexs=\"totalColumns\"\n        :dataSource=\"total$\"\n        hasTitle\n      ></st-total>\n      <st-table\n        class=\"mg-t16\"\n        :page=\"page$\"\n        rowKey=\"id\"\n        :columns=\"columns\"\n        @change=\"onTableChange\"\n        :scroll=\"{ x: 1000 }\"\n        :dataSource=\"list$\"\n      >\n        <span slot=\"source_type\" slot-scope=\"text\">\n          {{ text.name }}\n        </span>\n      </st-table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport shopSelect from '@/views/biz-components/shop/shop-select'\nimport StTotal from '@/views/components/total#/total.vue'\nimport tableMixin from '@/mixins/table.mixin'\nimport { columns, totalColumns } from './flow-record.config'\nimport { FlowRecordService } from './flow-record.service'\nimport moment from 'moment'\n\nexport default {\n  name: 'BrandPlaginMemberPointsFlowRecord',\n  mixins: [tableMixin],\n  serviceInject() {\n    return {\n      service: FlowRecordService\n    }\n  },\n  rxState() {\n    let { sourceTypeOptions$, total$, list$, page$ } = this.service\n    return { sourceTypeOptions$, total$, list$, page$ }\n  },\n  bem: {\n    b: 'brand-plagin-member-points-flow-record'\n  },\n  computed: {\n    columns,\n    totalColumns\n  },\n  components: {\n    shopSelect,\n    StTotal\n  },\n  methods: {\n    moment,\n    onChangeDataDays(event) {\n      this.$searchQuery.day = event.recently_day || undefined\n      this.$searchQuery.start_date = event.start_date || undefined\n      this.$searchQuery.end_date = event.end_date || undefined\n      this.onSearch()\n    }\n  }\n}\n</script>\n"]}]}