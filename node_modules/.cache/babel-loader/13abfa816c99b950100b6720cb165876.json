{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/staff/role/info.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/staff/role/info.vue","mtime":1591147717370},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { InfoService } from \"./info.service\";\nimport { listToTree } from '@/utils/list-to-tree.js';\nexport default {\n  name: 'RoleInfo',\n  serviceInject: function serviceInject() {\n    return {\n      infoService: InfoService\n    };\n  },\n  rxState: function rxState() {\n    return {\n      loading: this.infoService.loading$,\n      info: this.infoService.info$,\n      brandList: this.infoService.brandList$,\n      shopList: this.infoService.shopList$,\n      dataGrantList: this.infoService.dataGrant$\n    };\n  },\n  computed: {\n    dataGrant: function dataGrant() {\n      var dataGrant = this.dataGrantList[this.info.data_grant - 1].label;\n      var departmentInfo = this.info.departments.map(function (element) {\n        return element.department_name;\n      }).join(','); // 当选择是跨部门时加上相关部门\n\n      return this.info.data_grant === 3 ? \"\".concat(dataGrant, \"  (\").concat(departmentInfo, \")\") : dataGrant;\n    },\n    brands: function brands() {\n      return listToTree(this.brandList);\n    },\n    shops: function shops() {\n      return listToTree(this.shopList);\n    }\n  }\n};",{"version":3,"sources":["info.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA,SAAA,WAAA;AACA,SAAA,UAAA,QAAA,yBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,aAFA,2BAEA;AACA,WAAA;AACA,MAAA,WAAA,EAAA;AADA,KAAA;AAGA,GANA;AAOA,EAAA,OAPA,qBAOA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,KAAA,WAAA,CAAA,QADA;AAEA,MAAA,IAAA,EAAA,KAAA,WAAA,CAAA,KAFA;AAGA,MAAA,SAAA,EAAA,KAAA,WAAA,CAAA,UAHA;AAIA,MAAA,QAAA,EAAA,KAAA,WAAA,CAAA,SAJA;AAKA,MAAA,aAAA,EAAA,KAAA,WAAA,CAAA;AALA,KAAA;AAOA,GAfA;AAgBA,EAAA,QAAA,EAAA;AACA,IAAA,SADA,uBACA;AACA,UAAA,SAAA,GAAA,KAAA,aAAA,CAAA,KAAA,IAAA,CAAA,UAAA,GAAA,CAAA,EAAA,KAAA;AACA,UAAA,cAAA,GAAA,KAAA,IAAA,CAAA,WAAA,CACA,GADA,CACA,UAAA,OAAA,EAAA;AACA,eAAA,OAAA,CAAA,eAAA;AACA,OAHA,EAIA,IAJA,CAIA,GAJA,CAAA,CAFA,CAOA;;AACA,aAAA,KAAA,IAAA,CAAA,UAAA,KAAA,CAAA,aACA,SADA,gBACA,cADA,SAEA,SAFA;AAGA,KAZA;AAaA,IAAA,MAbA,oBAaA;AACA,aAAA,UAAA,CAAA,KAAA,SAAA,CAAA;AACA,KAfA;AAgBA,IAAA,KAhBA,mBAgBA;AACA,aAAA,UAAA,CAAA,KAAA,QAAA,CAAA;AACA;AAlBA;AAhBA,CAAA","sourcesContent":["<template>\n  <a-spin :spinning=\"loading.getInfo\">\n    <div class=\"page-role-info\">\n      <a-row class=\"page-role-detail\">\n        <a-col class=\"page-role-info-item\">\n          <span class=\"label\">角色名称:</span>\n          <span class=\"value\">{{ info.name }}</span>\n        </a-col>\n        <a-col class=\"page-role-info-item\">\n          <span class=\"label\">角色描述:</span>\n          <span class=\"value\">{{ info.role_description }}</span>\n        </a-col>\n        <a-col class=\"page-role-info-item\">\n          <span class=\"label\">数据权限:</span>\n          <span class=\"value\">{{ dataGrant }}</span>\n        </a-col>\n        <a-col class=\"page-role-detail__funrole\">\n          <div class=\"label\">\n            <span>功能权限:</span>\n          </div>\n          <div class=\"jurisdiction\">\n            <st-container class=\"brand-list\">\n              <p class=\"brand-list-title\">品牌权限</p>\n              <a-tree showLine class=\"role-tree\" :treeData=\"brands\"></a-tree>\n            </st-container>\n            <st-container class=\"shop-list\">\n              <p class=\"brand-list-title\">门店权限</p>\n              <a-tree class=\"role-tree\" showLine :treeData=\"shops\"></a-tree>\n            </st-container>\n          </div>\n        </a-col>\n      </a-row>\n    </div>\n  </a-spin>\n</template>\n\n<script>\nimport { InfoService } from './info.service'\nimport { listToTree } from '@/utils/list-to-tree.js'\nexport default {\n  name: 'RoleInfo',\n  serviceInject() {\n    return {\n      infoService: InfoService\n    }\n  },\n  rxState() {\n    return {\n      loading: this.infoService.loading$,\n      info: this.infoService.info$,\n      brandList: this.infoService.brandList$,\n      shopList: this.infoService.shopList$,\n      dataGrantList: this.infoService.dataGrant$\n    }\n  },\n  computed: {\n    dataGrant() {\n      const dataGrant = this.dataGrantList[this.info.data_grant - 1].label\n      const departmentInfo = this.info.departments\n        .map(element => {\n          return element.department_name\n        })\n        .join(',')\n      // 当选择是跨部门时加上相关部门\n      return this.info.data_grant === 3\n        ? `${dataGrant}  (${departmentInfo})`\n        : dataGrant\n    },\n    brands() {\n      return listToTree(this.brandList)\n    },\n    shops() {\n      return listToTree(this.shopList)\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/views/pages/brand/staff/role"}]}