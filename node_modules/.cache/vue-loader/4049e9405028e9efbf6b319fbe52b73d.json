{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/product/card/member/number/add.vue?vue&type=template&id=6b81b2ca&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/product/card/member/number/add.vue","mtime":1597396799960},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":1591062572376},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["\n<st-mina-panel\n  responsivePreview\n  class=\"page-brand-basic-card page-brand-add-number-card\"\n>\n  <h5-container slot=\"preview\" fixed>\n    <template v-slot:title>\n      购卡\n    </template>\n    <template v-slot:default>\n      <member-card\n        :data=\"h5CardInfo\"\n        :cardType=\"MEMBER_CARD.NUMBER_CARD\"\n        :isAdd=\"true\"\n      ></member-card>\n    </template>\n  </h5-container>\n\n  <div slot=\"actions\">\n    <st-button\n      :loading=\"addLoading.addCard\"\n      type=\"primary\"\n      @click=\"onHandleSubmit\"\n    >\n      保 存\n    </st-button>\n  </div>\n\n  <div class=\"page-content\">\n    <st-form :form=\"form\" labelWidth=\"118px\">\n      <st-form-item label=\"次卡名称\" required>\n        <a-input\n          v-decorator=\"decorators.cardData.card_name\"\n          maxlength=\"30\"\n          class=\"page-content-card-input\"\n          placeholder=\"请输入次卡名称\"\n          @change=\"syncName\"\n        ></a-input>\n      </st-form-item>\n      <st-form-item class=\"page-content-card-line\" label=\"特别说明\">\n        <a-input\n          class=\"page-content-card-input\"\n          v-decorator=\"decorators.cardData.special_note\"\n          maxlength=\"20\"\n          placeholder=\"最多显示20个字符\"\n          @change=\"syncSpecialNote\"\n        ></a-input>\n      </st-form-item>\n      <st-hr class=\"mg-y32\"></st-hr>\n      <a-row :gutter=\"8\" v-if=\"isFamilyCard\">\n        <a-col :lg=\"23\">\n          <st-form-item\n            class=\"page-content-card-admission-range mg-t4\"\n            required\n          >\n            <template slot=\"label\">\n              支持入场人数\n              <st-help-tooltip id=\"TBMCDC003\" />\n            </template>\n            <a-select\n              v-decorator=\"decorators.cardData.support_member_num\"\n              placeholder=\"请选择入场人数\"\n              class=\"page-content-card-input\"\n            >\n              <a-select-option\n                v-for=\"(item, index) in supportMemberNums\"\n                :key=\"index\"\n                :value=\"item.value\"\n              >\n                {{ item.label }}\n              </a-select-option>\n            </a-select>\n          </st-form-item>\n        </a-col>\n      </a-row>\n\n      <a-row :gutter=\"8\">\n        <a-col :lg=\"23\">\n          <st-form-item\n            class=\"page-content-card-admission-range mg-t4\"\n            required\n          >\n            <template slot=\"label\">\n              支持入场范围\n              <st-help-tooltip id=\"TBMCTC001\" />\n            </template>\n            <a-radio-group\n              @change=\"admission_range\"\n              v-decorator=\"decorators.cardData.admission_range\"\n            >\n              <a-radio\n                v-for=\"item in admissionRange\"\n                :key=\"item.value\"\n                :value=\"item.value\"\n              >\n                {{ item.label }}\n              </a-radio>\n            </a-radio-group>\n            <div\n              class=\"page-admission-range-shop\"\n              v-if=\"\n                cardData.admission_range === ADMISSION_RANGE.GENERAL_STORE\n              \"\n            >\n              <p class=\"page-admission-range-shop__describe\">\n                设置支持此{{ $c('member_card') }}出入场馆范围\n              </p>\n              <select-shop\n                :shopIds=\"cardData.admission_shop_list\"\n                @change=\"admission_range_change\"\n              ></select-shop>\n            </div>\n          </st-form-item>\n        </a-col>\n      </a-row>\n      <a-row :gutter=\"8\">\n        <a-col :span=\"24\">\n          <st-form-item\n            class=\"page-content-card-price-setting mg-t4\"\n            required\n            :help=\"priceValidatorText\"\n          >\n            <template slot=\"label\">\n              价格设置\n              <st-help-tooltip id=\"TBMCTC002\" />\n            </template>\n            <a-radio-group\n              @change=\"price_range\"\n              v-show=\"cardData.admission_range === ADMISSION_RANGE.ONLY_STORE\"\n              v-decorator=\"decorators.cardData.price_setting\"\n            >\n              <a-radio\n                v-for=\"item in priceSetting\"\n                :key=\"item.value\"\n                :value=\"item.value\"\n              >\n                {{ item.label }}\n              </a-radio>\n            </a-radio-group>\n            <div\n              class=\"page-price-setting-set\"\n              :class=\"{\n                error: !priceIsOk,\n                'brand-set':\n                  cardData.price_setting === PRICE_SETTING.UNIFORM_PRICE &&\n                  cardData.admission_range === ADMISSION_RANGE.ONLY_STORE\n              }\"\n              v-if=\"cardData.price_setting === PRICE_SETTING.UNIFORM_PRICE\"\n            >\n              <st-form-table>\n                <colgroup>\n                  <col />\n                  <col />\n                  <col style=\"width:25%;\" />\n                  <col />\n                  <col />\n                  <col style=\"width:60px;\" />\n                </colgroup>\n                <thead>\n                  <tr>\n                    <th>入场次数/次</th>\n                    <th>售价/元</th>\n                    <th>有效期</th>\n                    <th class=\"white-nowrap\">允许冻结/天</th>\n                    <th class=\"white-nowrap\">赠送上限/天</th>\n                    <th>操作</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr>\n                    <td colspan=\"6\" class=\"pd-y0 pd-x0\">\n                      <st-button\n                        :disabled=\"rallyPriceList.length >= 12\"\n                        type=\"dashed\"\n                        icon=\"add\"\n                        class=\"page-price-setting-set__add\"\n                        block\n                        @click=\"brand_price_add\"\n                      >\n                        新增定价规格（{{ rallyPriceList.length }}/12）\n                      </st-button>\n                    </td>\n                  </tr>\n                  <tr\n                    v-for=\"(item, index) in rallyPriceList\"\n                    :key=\"`${index}brand`\"\n                  >\n                    <td>\n                      <st-input-number\n                        :min=\"1\"\n                        :max=\"99999\"\n                        placeholder=\"入场次数\"\n                        @change=\"\n                          e =>\n                            brandPriceSettingHandleChange({\n                              value: e,\n                              key: index,\n                              col: 'validity_times'\n                            })\n                        \"\n                      ></st-input-number>\n                    </td>\n                    <td>\n                      <st-input-number\n                        :float=\"true\"\n                        :min=\"0\"\n                        :max=\"999999.9\"\n                        placeholder=\"售价\"\n                        @change=\"\n                          e =>\n                            brandPriceSettingHandleChange({\n                              value: e,\n                              key: index,\n                              col: 'rally_price'\n                            })\n                        \"\n                      ></st-input-number>\n                    </td>\n                    <td>\n                      <st-input-number\n                        :min=\"1\"\n                        :max=\"99999\"\n                        :value=\"item.time.num\"\n                        placeholder=\"有效期\"\n                        @change=\"\n                          e =>\n                            brandPriceSettingHandleChange({\n                              value: e,\n                              key: index,\n                              col: 'time',\n                              prop: 'num'\n                            })\n                        \"\n                      >\n                        <a-select\n                          slot=\"addonAfter\"\n                          :value=\"item.time.unit\"\n                          @change=\"\n                            e =>\n                              brandPriceSettingHandleChange({\n                                value: e,\n                                key: index,\n                                col: 'time',\n                                prop: 'unit'\n                              })\n                          \"\n                        >\n                          <a-select-option\n                            v-for=\"(item, index) in unit_list\"\n                            :value=\"item.value\"\n                            :key=\"index\"\n                          >\n                            {{ item.label }}\n                          </a-select-option>\n                        </a-select>\n                      </st-input-number>\n                    </td>\n                    <td>\n                      <st-input-number\n                        :min=\"0\"\n                        :max=\"99999\"\n                        placeholder=\"冻结天数\"\n                        @change=\"\n                          e =>\n                            brandPriceSettingHandleChange({\n                              value: e,\n                              key: index,\n                              col: 'frozen_day'\n                            })\n                        \"\n                      ></st-input-number>\n                    </td>\n                    <td>\n                      <st-input-number\n                        :min=\"0\"\n                        :max=\"99999\"\n                        placeholder=\"赠送上限\"\n                        @change=\"\n                          e =>\n                            brandPriceSettingHandleChange({\n                              value: e,\n                              key: index,\n                              col: 'gift_unit'\n                            })\n                        \"\n                      ></st-input-number>\n                    </td>\n                    <td>\n                      <a @click=\"brand_price_delete(index)\">删除</a>\n                    </td>\n                  </tr>\n                </tbody>\n              </st-form-table>\n            </div>\n            <div\n              class=\"page-price-setting-set\"\n              :class=\"{\n                error: !priceIsOk,\n                'shop-set':\n                  cardData.price_setting === PRICE_SETTING.SHOP_PRICE &&\n                  cardData.admission_range === ADMISSION_RANGE.ONLY_STORE\n              }\"\n              v-if=\"cardData.price_setting === PRICE_SETTING.SHOP_PRICE\"\n            >\n              <st-form-table>\n                <colgroup>\n                  <col />\n                  <col />\n                  <col style=\"width:20%;\" />\n                  <col />\n                  <col />\n                  <col style=\"width:60px;\" />\n                </colgroup>\n                <thead>\n                  <tr>\n                    <th>入场次数/次</th>\n                    <th>售价范围/元</th>\n                    <th>有效期</th>\n                    <th class=\"white-nowrap\">冻结天数/天</th>\n                    <th>赠送上限/天</th>\n                    <th>操作</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr>\n                    <td colspan=\"6\" class=\"pd-y0 pd-x0\">\n                      <st-button\n                        :disabled=\"shopPriceList.length >= 12\"\n                        type=\"dashed\"\n                        icon=\"add\"\n                        class=\"page-price-setting-set__add\"\n                        block\n                        @click=\"shop_price_add\"\n                      >\n                        新增定价规格（{{ shopPriceList.length }}/12）\n                      </st-button>\n                    </td>\n                  </tr>\n                  <tr\n                    v-for=\"(item, index) in shopPriceList\"\n                    :key=\"`${index}shop`\"\n                  >\n                    <td>\n                      <st-input-number\n                        :min=\"1\"\n                        :max=\"99999\"\n                        placeholder=\"入场次数\"\n                        @change=\"\n                          e =>\n                            shopPriceSettingHandleChange({\n                              value: e,\n                              key: index,\n                              col: 'validity_times'\n                            })\n                        \"\n                      ></st-input-number>\n                    </td>\n                    <td>\n                      <st-input-number\n                        style=\"width:45%\"\n                        :float=\"true\"\n                        :min=\"0\"\n                        placeholder=\"售价下限\"\n                        :max=\"999999.9\"\n                        @change=\"\n                          e =>\n                            shopPriceSettingHandleChange({\n                              value: e,\n                              key: index,\n                              col: 'rally_price',\n                              prop: 'min_price'\n                            })\n                        \"\n                      ></st-input-number>\n                      ~\n                      <st-input-number\n                        style=\"width:45%\"\n                        placeholder=\"售价上限\"\n                        :float=\"true\"\n                        :min=\"0\"\n                        :max=\"999999.9\"\n                        @change=\"\n                          e =>\n                            shopPriceSettingHandleChange({\n                              value: e,\n                              key: index,\n                              col: 'rally_price',\n                              prop: 'max_price'\n                            })\n                        \"\n                      ></st-input-number>\n                    </td>\n                    <td>\n                      <st-input-number\n                        :min=\"1\"\n                        :max=\"99999\"\n                        :value=\"item.time.num\"\n                        placeholder=\"有效期\"\n                        @change=\"\n                          e =>\n                            shopPriceSettingHandleChange({\n                              value: e,\n                              key: index,\n                              col: 'time',\n                              prop: 'num'\n                            })\n                        \"\n                      >\n                        <a-select\n                          slot=\"addonAfter\"\n                          :value=\"item.time.unit\"\n                          @change=\"\n                            e =>\n                              shopPriceSettingHandleChange({\n                                value: e,\n                                key: index,\n                                col: 'time',\n                                prop: 'unit'\n                              })\n                          \"\n                        >\n                          <a-select-option\n                            v-for=\"(item, index) in unit_list\"\n                            :value=\"item.value\"\n                            :key=\"index\"\n                          >\n                            {{ item.label }}\n                          </a-select-option>\n                        </a-select>\n                      </st-input-number>\n                    </td>\n                    <td>\n                      <st-input-number\n                        :min=\"0\"\n                        :max=\"99999\"\n                        placeholder=\"冻结天数\"\n                        @change=\"\n                          e =>\n                            shopPriceSettingHandleChange({\n                              value: e,\n                              key: index,\n                              col: 'frozen_day'\n                            })\n                        \"\n                      ></st-input-number>\n                    </td>\n                    <td>\n                      <st-input-number\n                        :min=\"0\"\n                        :max=\"99999\"\n                        placeholder=\"赠送上限\"\n                        @change=\"\n                          e =>\n                            shopPriceSettingHandleChange({\n                              value: e,\n                              key: index,\n                              col: 'gift_unit'\n                            })\n                        \"\n                      ></st-input-number>\n                    </td>\n                    <td>\n                      <a @click=\"shop_price_delete(index)\">删除</a>\n                    </td>\n                  </tr>\n                </tbody>\n              </st-form-table>\n            </div>\n          </st-form-item>\n        </a-col>\n      </a-row>\n      <a-row :gutter=\"8\">\n        <a-col :lg=\"23\">\n          <st-form-item\n            class=\"page-content-card-support-sales mg-t4\"\n            label=\"支持售卖门店\"\n            required\n          >\n            <a-radio-group\n              @change=\"support_range\"\n              v-decorator=\"decorators.cardData.support_sales\"\n            >\n              <a-radio\n                v-for=\"item in support_sales_list\"\n                :key=\"item.value\"\n                :value=\"item.value\"\n              >\n                {{ item.label }}\n              </a-radio>\n            </a-radio-group>\n            <div\n              class=\"page-support-sales-shop\"\n              :class=\"{\n                'page-lot-shop':\n                  cardData.admission_range === ADMISSION_RANGE.GENERAL_STORE\n              }\"\n              v-if=\"cardData.support_sales === SUPPORT_SALES.SPECIFIED_STORE\"\n            >\n              <p class=\"page-support-sales-shop__describe\">\n                设置支持此{{ $c('member_card') }}售卖场馆范围\n              </p>\n              <select-shop @change=\"sales_shop_change\"></select-shop>\n            </div>\n          </st-form-item>\n        </a-col>\n      </a-row>\n      <a-row :gutter=\"8\">\n        <a-col :lg=\"20\">\n          <st-form-item\n            class=\"page-content-card-time\"\n            label=\"支持售卖时间\"\n            required\n          >\n            <a-form-item class=\"page-a-form\">\n              <a-date-picker\n                :disabledDate=\"disabledStartDate\"\n                v-decorator=\"decorators.start_time\"\n                format=\"YYYY-MM-DD\"\n                placeholder=\"开始时间\"\n                :showToday=\"false\"\n                @openChange=\"handleStartOpenChange\"\n                @change=\"start_time_change\"\n              />\n            </a-form-item>\n            ~\n            <a-form-item class=\"page-a-form\">\n              <a-date-picker\n                :disabledDate=\"disabledEndDate\"\n                v-decorator=\"decorators.end_time\"\n                format=\"YYYY-MM-DD\"\n                placeholder=\"结束时间\"\n                :showToday=\"false\"\n                :open=\"cardData.endOpen\"\n                @openChange=\"handleEndOpenChange\"\n                @change=\"end_time_change\"\n              />\n            </a-form-item>\n          </st-form-item>\n        </a-col>\n      </a-row>\n      <a-row :gutter=\"8\">\n        <a-col :lg=\"20\">\n          <st-form-item class=\"page-content-card-transfer\" label=\"转让设置\">\n            <div class=\"page-content-card-transfer-body\">\n              <a-checkbox class=\"page-checkbox\" @change=\"transfer\">\n                支持转让\n              </a-checkbox>\n              <st-input-number\n                v-decorator=\"decorators.cardData.num\"\n                class=\"page-input-group page-content-card-num-input\"\n                :float=\"cardData.unit === UNIT.RMB\"\n                :disabled=\"!cardData._is_transfer\"\n                :min=\"transferMin\"\n                :max=\"transferMax\"\n              >\n                <a-select\n                  slot=\"addonAfter\"\n                  v-model=\"cardData.unit\"\n                  :disabled=\"!cardData._is_transfer\"\n                >\n                  <a-select-option\n                    v-for=\"item in unit\"\n                    :key=\"item.value\"\n                    :value=\"item.value\"\n                  >\n                    {{ item.label }}\n                  </a-select-option>\n                </a-select>\n              </st-input-number>\n            </div>\n          </st-form-item>\n        </a-col>\n      </a-row>\n      <a-row :gutter=\"8\">\n        <a-col :lg=\"20\">\n          <st-form-item\n            class=\"page-content-card-sell-type\"\n            label=\"售卖方式\"\n            required\n          >\n            <a-checkbox-group v-model=\"cardData.sell_type\">\n              <a-checkbox\n                v-for=\"item in sell_type_list\"\n                :key=\"item.value\"\n                :value=\"item.value\"\n              >\n                {{ item.label }}\n              </a-checkbox>\n            </a-checkbox-group>\n          </st-form-item>\n        </a-col>\n      </a-row>\n      <a-row :gutter=\"8\">\n        <a-col :lg=\"20\">\n          <st-form-item\n            class=\"page-content-card-bg\"\n            label=\"卡背景\"\n            required\n            :help=\"cardBgValidatorText\"\n          >\n            <card-bg-radio\n              @change=\"onCardBgChange\"\n              v-model=\"cardData.card_bg\"\n              :isFamilyCard=\"isFamilyCard\"\n            />\n          </st-form-item>\n        </a-col>\n      </a-row>\n      <a-row :gutter=\"8\">\n        <a-col :lg=\"22\">\n          <st-form-item\n            class=\"page-content-card-introduction mg-t4\"\n            :label=\"`${$c('member_card')}介绍`\"\n          >\n            <st-editor v-model=\"cardData.card_introduction\"></st-editor>\n          </st-form-item>\n        </a-col>\n      </a-row>\n      <a-row :gutter=\"8\">\n        <a-col :lg=\"22\">\n          <st-form-item class=\"page-content-card-contents mg-t4\" label=\"备注\">\n            <st-textarea\n              v-model=\"cardData.card_contents\"\n              maxlength=\"500\"\n              class=\"page-content-card-textarea\"\n              placeholder=\"请输入\"\n            />\n          </st-form-item>\n        </a-col>\n      </a-row>\n    </st-form>\n  </div>\n</st-mina-panel>\n",null]}