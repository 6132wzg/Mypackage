{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/biz-modals/shop/add-lable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/biz-modals/shop/add-lable.vue","mtime":1600926555912},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { AddLableService } from './add-lable.service'\nimport ShopNewLable from '@/views/biz-modals/shop/new-lable'\nexport default {\n  serviceInject() {\n    return {\n      Service: AddLableService\n    }\n  },\n  modals: {\n    ShopNewLable\n  },\n  components: {\n    VNodes: {\n      functional: true,\n      render: (h, ctx) => ctx.props.vnodes\n    }\n  },\n  name: 'newLable',\n  props: {\n    memberIds: {\n      type: Array,\n      default() {\n        return []\n      }\n    }\n  },\n  data() {\n    return {\n      show: false,\n      lableList: [],\n      selectLable: '',\n      flag: false\n    }\n  },\n  created() {\n    let self = this\n    this.getLableList()\n  },\n  methods: {\n    onModalTest() {\n      this.getLableList()\n    },\n    changeFunc() {\n      this.flag = false\n    },\n    blurFunc() {\n      this.flag = false\n    },\n    focusFunc() {\n      this.flag = true\n    },\n    getLableList() {\n      let self = this\n      self.Service.getMemberLableList().subscribe(state => {\n        self.lableList = state.list\n      })\n    },\n    save(e) {\n      let self = this\n      e.preventDefault()\n      let data = {\n        id: this.memberIds,\n        tag_id: self.selectLable\n      }\n      self.Service.setMemberLabelCreate(data).subscribe(state => {\n        self.show = false\n        self.$emit('success', true)\n      })\n    },\n    addLable() {\n      this.flag = false\n    }\n  },\n  watch: {}\n}\n",{"version":3,"sources":["add-lable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"add-lable.vue","sourceRoot":"src/views/biz-modals/shop","sourcesContent":["<template>\n  <st-modal\n    :title=\"\n      memberIds.length === 1\n        ? '新增标签'\n        : `给选中的${memberIds.length}个人新增标签`\n    \"\n    @ok=\"save\"\n    v-model=\"show\"\n    width=\"328px\"\n  >\n    <section>\n      <a-select\n        v-model=\"selectLable\"\n        style=\"width: 100%\"\n        :open=\"flag\"\n        @mouseenter=\"focusFunc\"\n        @blur=\"changeFunc\"\n        @change=\"changeFunc\"\n      >\n        <div slot=\"dropdownRender\" slot-scope=\"menu\">\n          <v-nodes :vnodes=\"menu\" />\n          <a-divider style=\"margin: 4px 0;\" />\n          <div style=\"padding: 8px; cursor: pointer;\" @click=\"addLable\">\n            <a\n              v-modal-link=\"{\n                name: 'shop-new-lable',\n                on: { done: onModalTest }\n              }\"\n              @click=\"addLable\"\n            >\n              <a-icon type=\"plus\" />\n              标签\n            </a>\n          </div>\n        </div>\n        <a-select-option\n          v-for=\"item in lableList\"\n          :value=\"item.id\"\n          :key=\"item.id\"\n        >\n          {{ item.tag_name }}\n        </a-select-option>\n      </a-select>\n    </section>\n  </st-modal>\n</template>\n<script>\nimport { AddLableService } from './add-lable.service'\nimport ShopNewLable from '@/views/biz-modals/shop/new-lable'\nexport default {\n  serviceInject() {\n    return {\n      Service: AddLableService\n    }\n  },\n  modals: {\n    ShopNewLable\n  },\n  components: {\n    VNodes: {\n      functional: true,\n      render: (h, ctx) => ctx.props.vnodes\n    }\n  },\n  name: 'newLable',\n  props: {\n    memberIds: {\n      type: Array,\n      default() {\n        return []\n      }\n    }\n  },\n  data() {\n    return {\n      show: false,\n      lableList: [],\n      selectLable: '',\n      flag: false\n    }\n  },\n  created() {\n    let self = this\n    this.getLableList()\n  },\n  methods: {\n    onModalTest() {\n      this.getLableList()\n    },\n    changeFunc() {\n      this.flag = false\n    },\n    blurFunc() {\n      this.flag = false\n    },\n    focusFunc() {\n      this.flag = true\n    },\n    getLableList() {\n      let self = this\n      self.Service.getMemberLableList().subscribe(state => {\n        self.lableList = state.list\n      })\n    },\n    save(e) {\n      let self = this\n      e.preventDefault()\n      let data = {\n        id: this.memberIds,\n        tag_id: self.selectLable\n      }\n      self.Service.setMemberLabelCreate(data).subscribe(state => {\n        self.show = false\n        self.$emit('success', true)\n      })\n    },\n    addLable() {\n      this.flag = false\n    }\n  },\n  watch: {}\n}\n</script>\n"]}]}