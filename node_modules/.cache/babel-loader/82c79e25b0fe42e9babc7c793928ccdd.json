{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/thread-loader/dist/cjs.js!/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/pages/shop/product/course/manage/small-course/info.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/pages/shop/product/course/manage/small-course/info.vue","mtime":1596188219753},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/thread-loader/dist/cjs.js","mtime":1591062572352},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { InfoService } from \"./info.service\";\nimport { MessageService } from '@/services/message.service';\nimport { CLASS_STATUS } from '@/constants/course/small-course';\nexport default {\n  bem: {\n    b: 'page-group-course-info'\n  },\n  name: 'SmallCourseInfo',\n  serviceInject: function serviceInject() {\n    return {\n      infoService: InfoService,\n      messageService: MessageService\n    };\n  },\n  rxState: function rxState() {\n    return {\n      groupCourseHeaderInfo: this.infoService.groupCourseHeaderInfo$\n    };\n  },\n  computed: {\n    image: function image() {\n      return this.groupCourseHeaderInfo && this.groupCourseHeaderInfo.image.image_key;\n    },\n    btnOptions: function btnOptions() {\n      return [{\n        text: '编辑',\n        click: this.onGoEdit,\n        if: this.groupCourseHeaderInfo.auth['shop:product:small_class_course|edit']\n      }, {\n        text: '去退款',\n        click: this.onGoOrder,\n        if: this.groupCourseHeaderInfo.auth['shop:product:small_class_course|refund']\n      }, {\n        text: '立即成班',\n        click: this.onBeGroup,\n        if: this.groupCourseHeaderInfo.auth['shop:product:small_class_course|finish']\n      }, {\n        text: '删除',\n        click: this.onDelGroup,\n        if: this.groupCourseHeaderInfo.auth['shop:product:small_class_course|del']\n      }, {\n        text: '发布',\n        click: this.onPublish,\n        if: this.groupCourseHeaderInfo.auth['shop:product:small_class_course|publish']\n      }];\n    }\n  },\n  data: function data() {\n    return {\n      CLASS_STATUS: CLASS_STATUS,\n      tabs: [{\n        label: '基础信息',\n        route: {\n          name: 'shop-product-course-manage-small-course-info-basic',\n          query: {\n            courseId: this.$searchQuery.courseId,\n            status: this.groupCourseHeaderInfo.class_status\n          }\n        }\n      }, {\n        label: '班级信息',\n        route: {\n          name: 'shop-product-course-manage-small-course-info-class',\n          query: {\n            courseId: this.$searchQuery.courseId,\n            status: this.groupCourseHeaderInfo.class_status\n          }\n        }\n      }]\n    };\n  },\n  methods: {\n    onGoOrder: function onGoOrder() {\n      this.$router.push({\n        path: '/shop/sold/course/list/small-course',\n        query: {\n          course_id: this.groupCourseHeaderInfo.course_id\n        }\n      });\n    },\n    onGoEdit: function onGoEdit() {\n      this.$router.push({\n        path: '/shop/product/course/manage/small-course/edit',\n        query: {\n          id: this.groupCourseHeaderInfo.course_id,\n          type: this.groupCourseHeaderInfo.small_course_type + ''\n        }\n      });\n    },\n    onBeGroup: function onBeGroup() {\n      var _this = this;\n\n      this.infoService.beGroup(this.groupCourseHeaderInfo.course_id).subscribe(function () {\n        _this.messageService.success({\n          content: '状态已变更成功'\n        });\n\n        _this.$router.reload();\n      });\n    },\n    onDelGroup: function onDelGroup() {\n      var that = this;\n      this.$confirm({\n        title: '提示',\n        content: '一旦删除则无法恢复，确认删除吗',\n        okText: '确定',\n        cancelText: '取消',\n        onOk: function onOk() {\n          that.infoService.deleteGroup(that.groupCourseHeaderInfo.course_id).subscribe(function () {\n            that.$router.push({\n              path: '/shop/product/course/manage/small-course/list'\n            });\n          });\n        },\n        onCancel: function onCancel() {}\n      });\n    },\n    onPublish: function onPublish() {\n      var _this2 = this;\n\n      this.infoService.publish(this.groupCourseHeaderInfo.course_id).subscribe(function () {\n        _this2.messageService.success({\n          content: '状态已变更成功'\n        });\n\n        _this2.$router.reload();\n      });\n    }\n  }\n};",null]}