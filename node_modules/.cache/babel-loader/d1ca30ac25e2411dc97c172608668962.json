{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/thread-loader/dist/cjs.js!/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/biz-components/notice-tpl/notice-item.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/biz-components/notice-tpl/notice-item.vue","mtime":1591147717108},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/thread-loader/dist/cjs.js","mtime":1591062572352},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { UserService } from '@/services/user.service';\nimport BrandSettingSmsNotice from '@/views/biz-modals/brand/setting/sms/notice';\nvar componentName = 'components-notice-tpl-item';\nexport default {\n  name: 'NoticeItem',\n  bem: {\n    tpl: componentName\n  },\n  serviceInject: function serviceInject() {\n    return {\n      userService: UserService\n    };\n  },\n  rxState: function rxState() {\n    return {\n      notifyRule: this.userService.getOptions$('setting.notify_rule'),\n      notifyHour: this.userService.getOptions$('setting.notify_time_hour')\n    };\n  },\n  modals: {\n    BrandSettingSmsNotice: BrandSettingSmsNotice\n  },\n  data: function data() {\n    return {\n      isShowContent: 0,\n      isShowPre: 0,\n      isShowEdit: 0,\n      isShowPhone: false,\n      // 默认不展示输入手机号\n      rule: {},\n      typeMap: {\n        mini_programs: 1,\n        app: 2\n      },\n      params: {\n        id: '',\n        msg_suffix: '',\n        msg_preffix: '',\n        custom_phone: '',\n        course_type: {\n          team_course: {\n            value: 0,\n            name: '团课'\n          },\n          personal_course: {\n            value: 0,\n            name: '私教课'\n          },\n          small_course: {\n            value: 0,\n            name: this.$c('small_course')\n          }\n        },\n        order_type: {\n          advance: {\n            value: 0,\n            name: '定金'\n          },\n          deposit: {\n            value: 0,\n            name: '押金'\n          },\n          product: {\n            value: 0,\n            name: '商品'\n          },\n          poundage: {\n            value: 0,\n            name: '手续费'\n          }\n        },\n        receiver: {\n          coach: {\n            value: 0,\n            name: this.$c('coach')\n          },\n          member: {\n            value: 0,\n            name: '会员'\n          },\n          seller: {\n            value: 0,\n            name: '销售'\n          },\n          custom: {\n            value: 0,\n            name: '自定义'\n          },\n          leader: {\n            value: 0,\n            name: '负责人'\n          }\n        },\n        notify_time: '',\n        notify_number: '',\n        notify_mode: {\n          sms: 0,\n          app: 0,\n          mini_programs: 0\n        }\n      }\n    };\n  },\n  props: {\n    info: {\n      type: Object,\n      default: function _default() {}\n    },\n    auth: {\n      type: Object,\n      default: function _default() {\n        return {\n          sms: true,\n          app: true,\n          mina: true,\n          edit: true\n        };\n      }\n    }\n  },\n  created: function created() {\n    if (Object.keys(this.info.order_type).length > 0) {\n      this.params.order_type = this.info.order_type;\n    }\n\n    if (Object.keys(this.info.course_type).length > 0) {\n      this.params.course_type = this.info.course_type;\n    }\n\n    if (Object.keys(this.info.receiver).length > 0) {\n      this.params.receiver = this.info.receiver;\n    }\n\n    this.params.notify_time = this.info.notify_time.value;\n    this.params.notify_number = this.info.notify_number;\n    this.params.msg_preffix = this.info.msg_preffix;\n    this.params.msg_suffix = this.info.msg_suffix;\n    this.params.custom_phone = this.info.custom_phone.join(' ');\n    this.params.notify_mode = {\n      sms: this.info.notify_mode.sms && this.info.notify_mode.sms.value,\n      app: this.info.notify_mode.app && this.info.notify_mode.app.value,\n      mini_programs: this.info.notify_mode.mini_programs && this.info.notify_mode.mini_programs.value\n    };\n  },\n  methods: {\n    showEdit: function showEdit() {\n      this.isShowEdit = 1;\n    },\n    cancel: function cancel() {\n      this.isShowEdit = 0;\n    },\n    save: function save() {\n      var course_type = {};\n      var order_type = {};\n      var receiver = {};\n\n      if (this.info.course_type.team_course) {\n        course_type.team_course = 0;\n      }\n\n      if (this.info.course_type.personal_course) {\n        course_type.personal_course = 0;\n      }\n\n      if (this.info.course_type.small_course) {\n        course_type.small_course = 0;\n      }\n\n      if (this.info.order_type.advance) {\n        order_type.advance = 0;\n      }\n\n      if (this.info.order_type.deposit) {\n        order_type.deposit = 0;\n      }\n\n      if (this.info.order_type.product) {\n        order_type.product = 0;\n      }\n\n      if (this.info.order_type.poundage) {\n        order_type.poundage = 0;\n      }\n\n      if (this.info.receiver.coach) {\n        receiver.coach = 0;\n      }\n\n      if (this.info.receiver.member) {\n        receiver.member = 0;\n      }\n\n      if (this.info.receiver.custom) {\n        receiver.custom = 0;\n      }\n\n      if (this.info.receiver.seller) {\n        receiver.seller = 0;\n      }\n\n      if (this.info.receiver.leader) {\n        receiver.leader = 0;\n      }\n\n      if (this.info.course_type.team_course) {\n        course_type.team_course = this.params.course_type.team_course.value ? 1 : 0;\n      }\n\n      if (this.info.course_type.personal_course) {\n        course_type.personal_course = this.params.course_type.personal_course.value ? 1 : 0;\n      }\n\n      if (this.info.course_type.small_course) {\n        course_type.small_course = this.params.course_type.small_course.value ? 1 : 0;\n      }\n\n      if (this.info.order_type.advance) {\n        order_type.advance = this.params.order_type.advance.value ? 1 : 0;\n      }\n\n      if (this.info.order_type.deposit) {\n        order_type.deposit = this.params.order_type.deposit.value ? 1 : 0;\n      }\n\n      if (this.info.order_type.product) {\n        order_type.product = this.params.order_type.product.value ? 1 : 0;\n      }\n\n      if (this.info.order_type.poundage) {\n        order_type.poundage = this.params.order_type.poundage.value ? 1 : 0;\n      }\n\n      if (this.info.receiver.coach) {\n        receiver.coach = this.params.receiver.coach.value ? 1 : 0;\n      }\n\n      if (this.info.receiver.member) {\n        receiver.member = this.params.receiver.member.value ? 1 : 0;\n      }\n\n      if (this.info.receiver.custom) {\n        receiver.custom = this.params.receiver.custom.value ? 1 : 0;\n      }\n\n      if (this.info.receiver.seller) {\n        receiver.seller = this.params.receiver.seller.value ? 1 : 0;\n      }\n\n      if (this.info.receiver.leader) {\n        receiver.leader = this.params.receiver.leader.value ? 1 : 0;\n      }\n\n      console.log(111);\n      console.log(this.params.receiver);\n      var para = Object.assign({}, this.params, {\n        id: this.info.id,\n        custom_phone: this.params.custom_phone.length > 0 ? this.params.custom_phone.split(',') : [],\n        order_type: order_type,\n        receiver: receiver,\n        course_type: course_type\n      });\n      this.$emit('editInfo', para);\n      this.isShowEdit = 0;\n    }\n  },\n  watch: {\n    'params.receiver.custom.value': function paramsReceiverCustomValue(oldVal, newVal) {\n      if (oldVal) {\n        this.isShowPhone = true;\n      } else {\n        this.isShowPhone = false;\n      }\n    }\n  }\n};",null]}