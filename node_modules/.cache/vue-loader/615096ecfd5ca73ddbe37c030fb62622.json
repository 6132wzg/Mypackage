{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/setting/general/course/personal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/setting/general/course/personal.vue","mtime":1600926556189},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { MessageService } from '@/services/message.service'\nimport { PersonalService } from './personal.service'\nimport BrandSettingPersonalPriceModel from '@/views/biz-modals/brand/setting/personal/price-model'\nimport BrandSettingPersonalReserve from '@/views/biz-modals/brand/setting/personal/reserve'\nexport default {\n  serviceInject() {\n    return {\n      personalService: PersonalService\n    }\n  },\n  rxState() {\n    const personalService = this.personalService\n    return {\n      loading: personalService.loading$,\n      resData: personalService.resData$,\n      auth: personalService.auth$\n    }\n  },\n  modals: {\n    BrandSettingPersonalPriceModel,\n    BrandSettingPersonalReserve\n  },\n  computed: {\n    pricingInfo() {\n      return this.resData[0]\n    },\n    reserveInfo() {\n      return this.resData[1].info\n    }\n  },\n  methods: {\n    onChange() {\n      this.$router.push({})\n    },\n    onEditPricingSetting() {\n      const isChanged = this.pricingInfo.is_changed\n      const that = this\n      const msg = this.pricingInfo.changed_desc\n      if (isChanged) {\n        this.$confirm({\n          title: '',\n          content: msg,\n          okText: '保持切换',\n          cancelText: '放弃切换',\n          /**\n           * 保持切换\n           */\n          onOk() {},\n          /**\n           * 放弃切换\n           */\n          onCancel() {\n            that.personalService.del().subscribe(that.onChange)\n          }\n        })\n      } else {\n        this.showPricingSettingModal()\n      }\n    },\n    showPricingSettingModal() {\n      this.$modalRouter.push({\n        name: 'brand-setting-personal-price-model',\n        on: {\n          change: this.onChange\n        }\n      })\n    }\n  }\n}\n",{"version":3,"sources":["personal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"personal.vue","sourceRoot":"src/views/pages/brand/setting/general/course","sourcesContent":["<template>\n  <div style=\"min-height: 70vh\">\n    <!-- 私教课程定价设置 -->\n    <section v-if=\"auth.priceGet\">\n      <a-row>\n        <a-col :span=\"16\"><st-t2>私教课程定价设置</st-t2></a-col>\n        <a-col :span=\"8\" class=\"ta-r\">\n          <st-info-action\n            icon=\"edit\"\n            text=\"编辑\"\n            v-if=\"auth.priceEdit\"\n            @click=\"onEditPricingSetting\"\n          />\n        </a-col>\n      </a-row>\n\n      <!-- 私教课程定价设置 -->\n      <st-t4 class=\"mg-t24\">私教课程定价设置</st-t4>\n      <!-- 教练统一定价 -->\n      <div class=\"st-des\" v-if=\"pricingInfo.price_model === 1\">\n        {{ $c('coach') }}统一定价（每一个私教课程，所授课的{{\n          $c('coach')\n        }}的课程售出价格一致）\n      </div>\n      <!-- 教练分级定价 -->\n      <div class=\"st-des\" v-if=\"pricingInfo.price_model === 2\">\n        {{ $c('coach') }}分级定价（每一个私教课程，按{{\n          $c('coach')\n        }}等级进行差异化定价）\n      </div>\n      <st-hr></st-hr>\n      <!-- 私教课程售卖模式 -->\n      <st-t4>私教课程售卖模式</st-t4>\n      <!-- 教练谈单模式 -->\n      <div class=\"st-des\" v-if=\"pricingInfo.sale_model === 1\">\n        {{ $c('coach') }}谈单模式（ 1.设置课程最低课时费和最高课时费\n        2.超过售卖价格范围时，不支持购买 3.不支持在小程序直接购买私教课 ）\n      </div>\n      <!-- 统一标价模式 -->\n      <div class=\"st-des\" v-if=\"pricingInfo.sale_model === 2\">\n        统一标价模式（ 1.设置课程的固定课时费 2. 支持用户在小程序在线购买 ）\n      </div>\n      <st-hr></st-hr>\n    </section>\n\n    <!-- 这个地方按照产品需求先隐藏 -->\n    <!-- 私教课程预约设置 -->\n    <section>\n      <a-row>\n        <a-col :span=\"16\"><st-t2>私教课程预约设置</st-t2></a-col>\n        <a-col :span=\"8\" class=\"ta-r\">\n          <st-info-action\n            icon=\"edit\"\n            text=\"编辑\"\n            v-if=\"auth.reserveEdit\"\n            v-modal-link=\"{\n              name: 'brand-setting-personal-reserve',\n              on: {\n                change: onChange\n              }\n            }\"\n          />\n        </a-col>\n      </a-row>\n      <!-- 私教课程定价模式 -->\n      <st-t4 class=\"mg-t24\">预约范围</st-t4>\n      <div class=\"st-des\">\n        用户可预约{{\n          reserveInfo.reserve_start | enumFilter('setting.reserve_start')\n        }}\n        到{{\n          reserveInfo.reserve_range | enumFilter('setting.reserve_range')\n        }}以内的私教课程，员工代预约不受此限制\n      </div>\n      <st-hr></st-hr>\n      <!-- 取消预约 -->\n      <st-t4>取消预约设置</st-t4>\n      <div class=\"st-des\">\n        允许用户在私教课程开始前{{\n          reserveInfo.cancel_reserve | enumFilter('setting.cancel_reserve')\n        }}取消预约，员工代取消不受此限制\n      </div>\n      <st-hr></st-hr>\n      <!-- 预约提醒 -->\n      <st-t4>预约提醒</st-t4>\n      <div class=\"st-des\">\n        在课程开始前{{\n          reserveInfo.reserve_remind | enumFilter('setting.reserve_remind')\n        }}提醒用户上课\n      </div>\n      <st-hr></st-hr>\n      <!-- 签到方式 -->\n      <st-t4>签到方式</st-t4>\n      <div class=\"st-des\">\n        {{ reserveInfo.is_sign ? '支持' : '不支持' }}用户自主签到\n      </div>\n      <st-hr></st-hr>\n      <!-- 签到时间 -->\n      <st-t4>签到时间</st-t4>\n      <div class=\"st-des\">\n        开课后{{\n          reserveInfo.sign_time | enumFilter('setting.sign_time')\n        }}允许签到\n      </div>\n      <st-hr></st-hr>\n      <!-- 自动签到 -->\n      <st-t4>自动签到</st-t4>\n      <div class=\"st-des\">\n        {{ reserveInfo.is_auto_sign ? '支持' : '不支持' }}系统自动签到\n      </div>\n      <st-hr></st-hr>\n      <!-- 约课间隔时间 -->\n      <st-t4>约课间隔时间</st-t4>\n      <div class=\"st-des\">\n        {{\n          reserveInfo.reserve_interval_time\n            | enumFilter('personal_course.schedule_interval')\n        }}\n      </div>\n    </section>\n  </div>\n</template>\n<script>\nimport { MessageService } from '@/services/message.service'\nimport { PersonalService } from './personal.service'\nimport BrandSettingPersonalPriceModel from '@/views/biz-modals/brand/setting/personal/price-model'\nimport BrandSettingPersonalReserve from '@/views/biz-modals/brand/setting/personal/reserve'\nexport default {\n  serviceInject() {\n    return {\n      personalService: PersonalService\n    }\n  },\n  rxState() {\n    const personalService = this.personalService\n    return {\n      loading: personalService.loading$,\n      resData: personalService.resData$,\n      auth: personalService.auth$\n    }\n  },\n  modals: {\n    BrandSettingPersonalPriceModel,\n    BrandSettingPersonalReserve\n  },\n  computed: {\n    pricingInfo() {\n      return this.resData[0]\n    },\n    reserveInfo() {\n      return this.resData[1].info\n    }\n  },\n  methods: {\n    onChange() {\n      this.$router.push({})\n    },\n    onEditPricingSetting() {\n      const isChanged = this.pricingInfo.is_changed\n      const that = this\n      const msg = this.pricingInfo.changed_desc\n      if (isChanged) {\n        this.$confirm({\n          title: '',\n          content: msg,\n          okText: '保持切换',\n          cancelText: '放弃切换',\n          /**\n           * 保持切换\n           */\n          onOk() {},\n          /**\n           * 放弃切换\n           */\n          onCancel() {\n            that.personalService.del().subscribe(that.onChange)\n          }\n        })\n      } else {\n        this.showPricingSettingModal()\n      }\n    },\n    showPricingSettingModal() {\n      this.$modalRouter.push({\n        name: 'brand-setting-personal-price-model',\n        on: {\n          change: this.onChange\n        }\n      })\n    }\n  }\n}\n</script>\n"]}]}