{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/node_modules/ts-loader/index.js??ref--13-2!/Users/wangzhigang/Desktop/styd/web/src/views/pages/shop/store/add.config.ts","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/pages/shop/store/add.config.ts","mtime":1591147717469},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/ts-loader/index.js","mtime":1591062571609}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.match\";\nexport var ruleOptions = function ruleOptions(vm) {\n  var pattern = vm.pattern;\n  return {\n    // 活动名称\n    product_name: {\n      rules: [{\n        validator: function validator(field, value, values) {\n          if (!value) {\n            return '请填写商品名称';\n          }\n\n          if (!value.match(pattern.CN_EN_NUM_SPACE('1-30'))) {\n            return '请输入商品名称，支持格式长度1~30中英文';\n          }\n        }\n      }]\n    },\n    // 参团人数\n    category_id: {\n      rules: [{\n        validator: function validator(field, value, values) {\n          if (!vm.classList.some(function (item) {\n            return item.category_id === value;\n          })) {\n            value = '';\n          }\n\n          if (!value) {\n            return '请选择商品分类';\n          }\n        }\n      }]\n    },\n    // 配送方式\n    delivery_type: {\n      rules: [{\n        validator: function validator(field, value, values) {\n          if (!value) {\n            return '请选择配送方式';\n          }\n        }\n      }]\n    },\n    sale_type: {\n      rules: [{\n        validator: function validator(field, value, values) {\n          if (!value) {\n            return '请选择售卖方式';\n          }\n        }\n      }]\n    }\n  };\n};\nexport var skuColumns = function skuColumns(vm) {\n  var list = [{\n    title: '划线价',\n    dataIndex: 'market_price',\n    width: 208,\n    slots: {\n      title: 'market_price'\n    },\n    scopedSlots: {\n      customRender: 'market_price'\n    }\n  }, {\n    title: '售价',\n    dataIndex: 'selling_price',\n    width: 208,\n    slots: {\n      title: 'selling_price'\n    },\n    scopedSlots: {\n      customRender: 'selling_price'\n    }\n  }];\n  list = vm.sku.concat(list);\n\n  if (!vm.isEditMode) {\n    list.push({\n      title: '库存',\n      dataIndex: 'stock_amount',\n      width: 208,\n      slots: {\n        title: 'stock_amount'\n      },\n      scopedSlots: {\n        customRender: 'stock_amount'\n      }\n    });\n  }\n\n  return list;\n};",{"version":3,"sources":["/Users/wangzhigang/Desktop/styd/web/src/views/pages/shop/store/add.config.ts"],"names":[],"mappings":";AACA,OAAO,IAAM,WAAW,GAAG,SAAd,WAAc,CAAC,EAAD,EAAY;AACrC,MAAM,OAAO,GAAG,EAAE,CAAC,OAAnB;AACA,SAAO;AACL;AACA,IAAA,YAAY,EAAE;AACZ,MAAA,KAAK,EAAE,CACL;AACE,QAAA,SAAS,EAAE,mBAAC,KAAD,EAAa,KAAb,EAAyB,MAAzB,EAAwC;AACjD,cAAI,CAAC,KAAL,EAAY;AACV,mBAAO,SAAP;AACD;;AACD,cAAI,CAAC,KAAK,CAAC,KAAN,CAAY,OAAO,CAAC,eAAR,CAAwB,MAAxB,CAAZ,CAAL,EAAmD;AACjD,mBAAO,uBAAP;AACD;AACF;AARH,OADK;AADK,KAFT;AAgBL;AACA,IAAA,WAAW,EAAE;AACX,MAAA,KAAK,EAAE,CACL;AACE,QAAA,SAAS,EAAE,mBAAC,KAAD,EAAa,KAAb,EAAyB,MAAzB,EAAwC;AACjD,cAAI,CAAC,EAAE,CAAC,SAAH,CAAa,IAAb,CAAkB,UAAC,IAAD;AAAA,mBAAe,IAAI,CAAC,WAAL,KAAqB,KAApC;AAAA,WAAlB,CAAL,EAAmE;AACjE,YAAA,KAAK,GAAG,EAAR;AACD;;AACD,cAAI,CAAC,KAAL,EAAY;AACV,mBAAO,SAAP;AACD;AACF;AARH,OADK;AADI,KAjBR;AA+BL;AACA,IAAA,aAAa,EAAE;AACb,MAAA,KAAK,EAAE,CACL;AACE,QAAA,SAAS,EAAE,mBAAC,KAAD,EAAa,KAAb,EAAyB,MAAzB,EAAwC;AACjD,cAAI,CAAC,KAAL,EAAY;AACV,mBAAO,SAAP;AACD;AACF;AALH,OADK;AADM,KAhCV;AA2CL,IAAA,SAAS,EAAE;AACT,MAAA,KAAK,EAAE,CACL;AACE,QAAA,SAAS,EAAE,mBAAC,KAAD,EAAa,KAAb,EAAyB,MAAzB,EAAwC;AACjD,cAAI,CAAC,KAAL,EAAY;AACV,mBAAO,SAAP;AACD;AACF;AALH,OADK;AADE;AA3CN,GAAP;AAuDD,CAzDM;AA0DP,OAAO,IAAM,UAAU,GAAG,SAAb,UAAa,CAAC,EAAD,EAAY;AACpC,MAAI,IAAI,GAAG,CACT;AACE,IAAA,KAAK,EAAE,KADT;AAEE,IAAA,SAAS,EAAE,cAFb;AAGE,IAAA,KAAK,EAAE,GAHT;AAIE,IAAA,KAAK,EAAE;AAAE,MAAA,KAAK,EAAE;AAAT,KAJT;AAKE,IAAA,WAAW,EAAE;AAAE,MAAA,YAAY,EAAE;AAAhB;AALf,GADS,EAQT;AACE,IAAA,KAAK,EAAE,IADT;AAEE,IAAA,SAAS,EAAE,eAFb;AAGE,IAAA,KAAK,EAAE,GAHT;AAIE,IAAA,KAAK,EAAE;AAAE,MAAA,KAAK,EAAE;AAAT,KAJT;AAKE,IAAA,WAAW,EAAE;AAAE,MAAA,YAAY,EAAE;AAAhB;AALf,GARS,CAAX;AAgBA,EAAA,IAAI,GAAG,EAAE,CAAC,GAAH,CAAO,MAAP,CAAc,IAAd,CAAP;;AACA,MAAI,CAAC,EAAE,CAAC,UAAR,EAAoB;AAClB,IAAA,IAAI,CAAC,IAAL,CAAU;AACR,MAAA,KAAK,EAAE,IADC;AAER,MAAA,SAAS,EAAE,cAFH;AAGR,MAAA,KAAK,EAAE,GAHC;AAIR,MAAA,KAAK,EAAE;AAAE,QAAA,KAAK,EAAE;AAAT,OAJC;AAKR,MAAA,WAAW,EAAE;AAAE,QAAA,YAAY,EAAE;AAAhB;AALL,KAAV;AAOD;;AACD,SAAO,IAAP;AACD,CA5BM","sourcesContent":["import moment from 'moment'\nexport const ruleOptions = (vm: any) => {\n  const pattern = vm.pattern\n  return {\n    // 活动名称\n    product_name: {\n      rules: [\n        {\n          validator: (field: any, value: any, values: any) => {\n            if (!value) {\n              return '请填写商品名称'\n            }\n            if (!value.match(pattern.CN_EN_NUM_SPACE('1-30'))) {\n              return '请输入商品名称，支持格式长度1~30中英文'\n            }\n          }\n        }\n      ]\n    },\n    // 参团人数\n    category_id: {\n      rules: [\n        {\n          validator: (field: any, value: any, values: any) => {\n            if (!vm.classList.some((item: any) => item.category_id === value)) {\n              value = ''\n            }\n            if (!value) {\n              return '请选择商品分类'\n            }\n          }\n        }\n      ]\n    },\n    // 配送方式\n    delivery_type: {\n      rules: [\n        {\n          validator: (field: any, value: any, values: any) => {\n            if (!value) {\n              return '请选择配送方式'\n            }\n          }\n        }\n      ]\n    },\n    sale_type: {\n      rules: [\n        {\n          validator: (field: any, value: any, values: any) => {\n            if (!value) {\n              return '请选择售卖方式'\n            }\n          }\n        }\n      ]\n    }\n  }\n}\nexport const skuColumns = (vm: any) => {\n  let list = [\n    {\n      title: '划线价',\n      dataIndex: 'market_price',\n      width: 208,\n      slots: { title: 'market_price' },\n      scopedSlots: { customRender: 'market_price' }\n    },\n    {\n      title: '售价',\n      dataIndex: 'selling_price',\n      width: 208,\n      slots: { title: 'selling_price' },\n      scopedSlots: { customRender: 'selling_price' }\n    }\n  ]\n  list = vm.sku.concat(list)\n  if (!vm.isEditMode) {\n    list.push({\n      title: '库存',\n      dataIndex: 'stock_amount',\n      width: 208,\n      slots: { title: 'stock_amount' },\n      scopedSlots: { customRender: 'stock_amount' }\n    })\n  }\n  return list\n}\n"],"sourceRoot":""}]}