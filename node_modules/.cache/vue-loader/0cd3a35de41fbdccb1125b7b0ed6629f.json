{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/marketing/plugin/invitation/index/data.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/marketing/plugin/invitation/index/data.vue","mtime":1591147717319},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { AppConfig } from '@/constants/config'\nimport { columnsActivity, columnsUser } from './data.config'\nimport { DataService } from './data.service'\nimport { IndexService } from '../index.service'\nexport default {\n  name: 'PageBrandMarketingInviationData',\n  bem: {\n    inviation: 'page-brand-marketing-inviation-data'\n  },\n  serviceInject() {\n    return {\n      config: AppConfig,\n      dataService: DataService,\n      indexService: IndexService\n    }\n  },\n  rxState() {\n    return {\n      isOpen: this.indexService.isOpen$,\n      dataLoading: this.dataService.loading$,\n      statInfo: this.dataService.statInfo$,\n      reportList: this.dataService.reportList$,\n      reportPage: this.dataService.reportPage$,\n      inviteeList: this.dataService.inviteeList$,\n      inviteePage: this.dataService.inviteePage$\n    }\n  },\n  computed: {\n    stReportList() {\n      let array = []\n      this.reportList.forEach(i => {\n        let key = parseInt(Math.random() * 999999).toString()\n        array.push({ ...i, key: key })\n      })\n      return array\n    },\n    stInviteeList() {\n      let array = []\n      this.inviteeList.forEach(i => {\n        let key = parseInt(Math.random() * 999999).toString()\n        array.push({ ...i, key: key })\n      })\n      return array\n    }\n  },\n  data() {\n    return {\n      columnsActivity,\n      columnsUser,\n      selectedRowKeys: [],\n      selectedRows: [],\n      // 表格类别 0活动效果 1邀请用户\n      tableType: 0\n    }\n  },\n  methods: {\n    // 去开启\n    onGoOpen() {\n      this.$router.push({\n        name: 'brand-marketing-plugin-invitation-index-setting',\n        params: {\n          from: 'data'\n        }\n      })\n    },\n    // 清空列表选择\n    onClear() {\n      this.selectedRowKeys = []\n      this.selectedRows = []\n    },\n    // 列表选择\n    onSelectChange(selectedRowKeys, selectedRows) {\n      this.selectedRowKeys = selectedRowKeys\n      this.selectedRows = selectedRows\n    },\n    // 分页\n    onReportPageChange(data) {\n      this.onClear()\n      this.dataService\n        .getInviteReport({\n          page: data.current,\n          size: data.pageSize\n        })\n        .subscribe()\n    },\n    onInviteePageChange(data) {\n      console.log(data)\n      console.log(this.dataService)\n      this.onClear()\n      this.dataService\n        .getInviteInvitee({\n          page: data.current,\n          size: data.pageSize\n        })\n        .subscribe()\n    },\n    // 批量导出\n    onExport() {\n      console.log('导出')\n      this.onClear()\n    },\n    onTabChange() {\n      this.onClear()\n    }\n  }\n}\n",null]}