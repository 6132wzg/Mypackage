{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/node_modules/ts-loader/index.js??ref--13-2!/Users/wangzhigang/Desktop/styd/web/src/views/biz-components/payment/payment.service.ts","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/biz-components/payment/payment.service.ts","mtime":1600926555709},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/ts-loader/index.js","mtime":1591062571609}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\nimport _classCallCheck from \"/Users/wangzhigang/Desktop/styd/web/node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wangzhigang/Desktop/styd/web/node_modules/@babel/runtime-corejs2/helpers/esm/createClass\";\n\nvar _a;\n\nimport { __decorate, __metadata } from \"tslib\";\nimport { Injectable } from 'vue-service-app';\nimport { State, Effect } from 'rx-state';\nimport { TransactionApi } from '@/api/v1/sold/transaction';\nimport { tap } from 'rxjs/operators';\n\nvar PaymentService = /*#__PURE__*/function () {\n  function PaymentService(transactionApi) {\n    _classCallCheck(this, PaymentService);\n\n    this.transactionApi = transactionApi;\n    this.payments$ = new State([]);\n  }\n\n  _createClass(PaymentService, [{\n    key: \"getPaymentMethodList\",\n    value: function getPaymentMethodList(order_id) {\n      var _this = this;\n\n      return this.transactionApi.getPaymentMethodList(order_id).pipe(tap(function (res) {\n        var PosList = res.list.filter(function (payment) {\n          return payment.payment_type > 32;\n        });\n        var NoPosList = res.list.filter(function (payment) {\n          return payment.payment_type <= 32;\n        });\n        var list = PosList.concat(NoPosList);\n        console.log('PosList', PosList);\n        console.log('NoPosList', NoPosList);\n        console.log('list', list);\n\n        _this.payments$.commit(function () {\n          return list;\n        });\n      }));\n    }\n  }]);\n\n  return PaymentService;\n}();\n\n__decorate([Effect(), __metadata(\"design:type\", Function), __metadata(\"design:paramtypes\", [Number]), __metadata(\"design:returntype\", void 0)], PaymentService.prototype, \"getPaymentMethodList\", null);\n\nPaymentService = __decorate([Injectable(), __metadata(\"design:paramtypes\", [typeof (_a = typeof TransactionApi !== \"undefined\" && TransactionApi) === \"function\" ? _a : Object])], PaymentService);\nexport { PaymentService };",{"version":3,"sources":["/Users/wangzhigang/Desktop/styd/web/src/views/biz-components/payment/payment.service.ts"],"names":[],"mappings":";;;;;;;AAAA,SAAS,UAAT,QAA2B,iBAA3B;AACA,SAAS,KAAT,EAAgB,MAAhB,QAA8B,UAA9B;AACA,SAAS,cAAT,QAA+B,2BAA/B;AACA,SAAS,GAAT,QAAoB,gBAApB;;AAGA,IAAa,cAAb;AAEE,0BAAoB,cAApB,EAAkD;AAAA;;AAA9B,SAAA,cAAA,GAAA,cAAA;AADpB,SAAA,SAAA,GAAY,IAAI,KAAJ,CAAU,EAAV,CAAZ;AACsD;;AAFxD;AAAA;AAAA,yCAIuB,QAJvB,EAIuC;AAAA;;AACnC,aAAO,KAAK,cAAL,CAAoB,oBAApB,CAAyC,QAAzC,EAAmD,IAAnD,CACL,GAAG,CAAC,UAAC,GAAD,EAAa;AACf,YAAI,OAAO,GAAG,GAAG,CAAC,IAAJ,CAAS,MAAT,CAAgB,UAAA,OAAO;AAAA,iBAAI,OAAO,CAAC,YAAR,GAAuB,EAA3B;AAAA,SAAvB,CAAd;AACA,YAAI,SAAS,GAAG,GAAG,CAAC,IAAJ,CAAS,MAAT,CAAgB,UAAA,OAAO;AAAA,iBAAI,OAAO,CAAC,YAAR,IAAwB,EAA5B;AAAA,SAAvB,CAAhB;AACA,YAAI,IAAI,GAAG,OAAO,CAAC,MAAR,CAAe,SAAf,CAAX;AACA,QAAA,OAAO,CAAC,GAAR,CAAY,SAAZ,EAAuB,OAAvB;AACA,QAAA,OAAO,CAAC,GAAR,CAAY,WAAZ,EAAyB,SAAzB;AACA,QAAA,OAAO,CAAC,GAAR,CAAY,MAAZ,EAAoB,IAApB;;AACA,QAAA,KAAI,CAAC,SAAL,CAAe,MAAf,CAAsB;AAAA,iBAAM,IAAN;AAAA,SAAtB;AACD,OARE,CADE,CAAP;AAWD;AAhBH;;AAAA;AAAA,GAAA;;AAIE,UAAA,CAAA,CADC,MAAM,EACP,E,mCAAA,E,yCAAA,E,uCAAA,CAAA,E,wBAAA,E,sBAAA,EAYC,IAZD,CAAA;;AAJW,cAAc,GAAA,UAAA,CAAA,CAD1B,UAAU,EACgB,E,qDAEW,c,KAAc,W,IAAd,c,MAAc,U,GAAA,E,GAAA,M,EAFzB,CAAA,EAAd,cAAc,CAAd;SAAA,c","sourcesContent":["import { Injectable } from 'vue-service-app'\nimport { State, Effect } from 'rx-state'\nimport { TransactionApi } from '@/api/v1/sold/transaction'\nimport { tap } from 'rxjs/operators'\n\n@Injectable()\nexport class PaymentService {\n  payments$ = new State([])\n  constructor(private transactionApi: TransactionApi) {}\n  @Effect()\n  getPaymentMethodList(order_id: number) {\n    return this.transactionApi.getPaymentMethodList(order_id).pipe(\n      tap((res: any) => {\n        let PosList = res.list.filter(payment => payment.payment_type > 32)\n        let NoPosList = res.list.filter(payment => payment.payment_type <= 32)\n        let list = PosList.concat(NoPosList)\n        console.log('PosList', PosList)\n        console.log('NoPosList', NoPosList)\n        console.log('list', list)\n        this.payments$.commit(() => list)\n      })\n    )\n  }\n}\n"],"sourceRoot":""}]}