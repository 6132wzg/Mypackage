{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/pages/styleguide/component#/select-scroll.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/pages/styleguide/component#/select-scroll.vue","mtime":1600926556691},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  bem: {\n    b: 'style-guide-select-scroll'\n  },\n  data() {\n    return {\n      model: 0,\n      keyword: '优惠券',\n      isLoading: false,\n      isEnd: false,\n      page: {\n        current_page: 1,\n        total_pages: 5,\n        size: 10\n      },\n      listValue: 1,\n      propsColumns: [\n        {\n          title: `参数`,\n          width: 200,\n          dataIndex: 'key'\n        },\n        {\n          title: `说明`,\n          dataIndex: 'desc'\n        },\n        {\n          title: `类型`,\n          width: 100,\n          dataIndex: 'type'\n        },\n        {\n          title: `默认值`,\n          width: 200,\n          dataIndex: 'value'\n        }\n      ],\n      propsList: [\n        {\n          key: '_label',\n          desc: 'label字段名转译',\n          type: 'string',\n          value: 'label'\n        },\n        {\n          key: '_value',\n          desc: 'value字段名转译',\n          type: 'string',\n          value: 'value'\n        },\n        {\n          key: '_keyword',\n          desc: '搜索关键词字段名转译',\n          type: 'string',\n          value: 'keyword'\n        },\n        {\n          key: 'labelHtml',\n          desc: '自定义格式化label, 默认为搜索关键词高亮',\n          type: 'string',\n          value: `function(label, keyword){}`\n        },\n        {\n          key: 'loading',\n          desc: '接口请求状态',\n          type: 'boolean',\n          value: 'false'\n        },\n        {\n          key: 'isSrcoll',\n          desc: '是否可以滚动',\n          type: 'boolean',\n          value: 'true'\n        },\n        {\n          key: 'isEnd',\n          desc:\n            '是否滚动已到底部, 可用page对象代替（page即为列表接口的page对象）',\n          type: 'boolean',\n          value: 'true'\n        },\n        {\n          key: 'page',\n          desc:\n            '是否滚动已到底部, page为列表接口的page对象, {current_page, total_pages}',\n          type: 'object',\n          value: 'true'\n        },\n        {\n          key: 'showSearch',\n          desc: '是否开启搜索模式',\n          type: 'boolean',\n          value: 'true'\n        },\n        {\n          key: 'showArrow',\n          desc: '是否展示使用下拉箭头',\n          type: 'boolean',\n          value: 'false'\n        },\n        {\n          key: 'allowClear',\n          desc:\n            '是否启用清除功能 (清除功能也受showSearch控制，当showSearch为true时，启用清除功能)',\n          type: 'boolean',\n          value: 'false'\n        },\n        {\n          key: 'query',\n          desc: '联动条件',\n          type: 'object',\n          value: ''\n        },\n        {\n          key: 'notContent',\n          desc: '无数据插槽',\n          type: 'slot',\n          value: '无数据'\n        },\n        {\n          key: 'notFoundContent',\n          desc: 'notFoundContent',\n          type: 'slot',\n          value: ''\n        },\n        {\n          key: 'suffixIcon',\n          desc:\n            '图标插槽（showArrow属性与suffixIcon 存在冲突，所以showArrow为false时不传）',\n          type: 'string|slot',\n          value: ''\n        }\n      ],\n      eventColumns: [\n        {\n          title: `事件名称`,\n          width: 200,\n          dataIndex: 'key'\n        },\n        {\n          title: `说明`,\n          dataIndex: 'desc'\n        },\n        {\n          title: `回调参数`,\n          width: 200,\n          dataIndex: 'value'\n        }\n      ],\n      eventList: [\n        {\n          key: 'change',\n          desc: '选择变更事件',\n          value: 'function(selected){}'\n        },\n        {\n          key: 'refresh',\n          desc: '联动条件变化触发刷新',\n          value: `function({ [_keyword]: '', ...query } ){}`\n        },\n        {\n          key: 'search',\n          desc: '查询关键词变化触发搜索',\n          value: `function({ [_keyword]: '', ...query } ){}`\n        },\n        {\n          key: 'scroll',\n          desc: '下拉滚动，加载更多',\n          value: `function({ [_keyword]: '', ...query } ){}`\n        }\n      ],\n      list: [\n        { name: '优惠券1', id: 1 },\n        { name: '优惠券2', id: 2 },\n        { name: '优惠券3', id: 3 },\n        { name: '优惠券4', id: 4 },\n        { name: '优惠券5', id: 5 },\n        { name: '优惠券6', id: 6 },\n        { name: '优惠券7', id: 7 },\n        { name: '优惠券8', id: 8 },\n        { name: '优惠券9', id: 9 },\n        { name: '优惠券10', id: 10 }\n      ],\n      list2Value: 1,\n      list2: [\n        { name: '优惠券1', id: 1 },\n        { name: '优惠券2', id: 2 },\n        { name: '优惠券3', id: 3 },\n        { name: '优惠券4', id: 4 },\n        { name: '优惠券5', id: 5 },\n        { name: '优惠券6', id: 6 },\n        { name: '优惠券7', id: 7 },\n        { name: '优惠券8', id: 8 },\n        { name: '优惠券9', id: 9 },\n        { name: '优惠券10', id: 10 }\n      ]\n    }\n  },\n  methods: {\n    // mock逻辑仅供参考\n    onSearch(isReload, query) {\n      if (query && query.coupon_name) this.keyword = query.coupon_name\n      if (isReload) {\n        this.page.current_page = 1\n        this.isEnd = false\n        this.page.total_pages = Math.floor(Math.random() * 7) + 3\n      } else {\n        this.page.current_page += 1\n      }\n      this.isLoading = true\n      if (this.page.current_page > this.page.total_pages) return\n      clearTimeout(this.timer)\n      this.timer = setTimeout(() => {\n        const list = []\n        for (\n          let i = 0, len = this.page.size * this.page.current_page;\n          i < len;\n          i++\n        ) {\n          list.push({\n            name: this.keyword + (i + 1),\n            id: i + 1\n          })\n        }\n        this.list = list\n        this.isLoading = false\n        this.isEnd = this.page.current_page >= this.page.total_pages\n      }, (Math.floor(Math.random() * 12) + 3) * 100)\n    },\n    onChange(e) {\n      console.log('change', e)\n    }\n  }\n}\n",{"version":3,"sources":["select-scroll.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"select-scroll.vue","sourceRoot":"src/views/pages/styleguide/component#","sourcesContent":["<template>\n  <div :class=\"b()\">\n    <p>默认的搜索</p>\n    <st-select-scroll\n      style=\"width: 150px\"\n      class=\"mg-r24 mg-b12\"\n      _label=\"name\"\n      _value=\"id\"\n      _keyword=\"coupon_name\"\n      v-model=\"listValue\"\n      :loading=\"isLoading\"\n      :page=\"page\"\n      :options=\"list\"\n      @change=\"onChange\"\n      @refresh=\"onSearch(true, $event)\"\n      @search=\"onSearch(true, $event)\"\n      @scroll=\"onSearch(false, $event)\"\n    ></st-select-scroll>\n    <p>默认的搜索 + showArrow为true</p>\n    <st-select-scroll\n      style=\"width: 150px\"\n      class=\"mg-r24 mg-b12\"\n      _label=\"name\"\n      _value=\"id\"\n      _keyword=\"coupon_name\"\n      showArrow\n      v-model=\"listValue\"\n      :loading=\"isLoading\"\n      :isEnd=\"isEnd\"\n      :options=\"list\"\n      @change=\"onChange\"\n      @refresh=\"onSearch(true, $event)\"\n      @search=\"onSearch(true, $event)\"\n      @scroll=\"onSearch(false, $event)\"\n    ></st-select-scroll>\n    <p>关闭搜索、showArrow为true (建议直接用st-select）</p>\n    <st-select-scroll\n      style=\"width: 150px\"\n      class=\"mg-r24 mg-b12\"\n      _label=\"name\"\n      _value=\"id\"\n      _keyword=\"coupon_name\"\n      showArrow\n      v-model=\"list2Value\"\n      :isScroll=\"false\"\n      :showSearch=\"false\"\n      :options=\"list2\"\n      @change=\"onChange\"\n    ></st-select-scroll>\n    <st-table\n      class=\"props-table\"\n      :columns=\"propsColumns\"\n      :dataSource=\"propsList\"\n      :page=\"false\"\n      :stripe=\"false\"\n    ></st-table>\n    <st-table\n      class=\"event-table\"\n      :columns=\"eventColumns\"\n      :dataSource=\"eventList\"\n      :page=\"false\"\n      :stripe=\"false\"\n    ></st-table>\n  </div>\n</template>\n\n<script>\nexport default {\n  bem: {\n    b: 'style-guide-select-scroll'\n  },\n  data() {\n    return {\n      model: 0,\n      keyword: '优惠券',\n      isLoading: false,\n      isEnd: false,\n      page: {\n        current_page: 1,\n        total_pages: 5,\n        size: 10\n      },\n      listValue: 1,\n      propsColumns: [\n        {\n          title: `参数`,\n          width: 200,\n          dataIndex: 'key'\n        },\n        {\n          title: `说明`,\n          dataIndex: 'desc'\n        },\n        {\n          title: `类型`,\n          width: 100,\n          dataIndex: 'type'\n        },\n        {\n          title: `默认值`,\n          width: 200,\n          dataIndex: 'value'\n        }\n      ],\n      propsList: [\n        {\n          key: '_label',\n          desc: 'label字段名转译',\n          type: 'string',\n          value: 'label'\n        },\n        {\n          key: '_value',\n          desc: 'value字段名转译',\n          type: 'string',\n          value: 'value'\n        },\n        {\n          key: '_keyword',\n          desc: '搜索关键词字段名转译',\n          type: 'string',\n          value: 'keyword'\n        },\n        {\n          key: 'labelHtml',\n          desc: '自定义格式化label, 默认为搜索关键词高亮',\n          type: 'string',\n          value: `function(label, keyword){}`\n        },\n        {\n          key: 'loading',\n          desc: '接口请求状态',\n          type: 'boolean',\n          value: 'false'\n        },\n        {\n          key: 'isSrcoll',\n          desc: '是否可以滚动',\n          type: 'boolean',\n          value: 'true'\n        },\n        {\n          key: 'isEnd',\n          desc:\n            '是否滚动已到底部, 可用page对象代替（page即为列表接口的page对象）',\n          type: 'boolean',\n          value: 'true'\n        },\n        {\n          key: 'page',\n          desc:\n            '是否滚动已到底部, page为列表接口的page对象, {current_page, total_pages}',\n          type: 'object',\n          value: 'true'\n        },\n        {\n          key: 'showSearch',\n          desc: '是否开启搜索模式',\n          type: 'boolean',\n          value: 'true'\n        },\n        {\n          key: 'showArrow',\n          desc: '是否展示使用下拉箭头',\n          type: 'boolean',\n          value: 'false'\n        },\n        {\n          key: 'allowClear',\n          desc:\n            '是否启用清除功能 (清除功能也受showSearch控制，当showSearch为true时，启用清除功能)',\n          type: 'boolean',\n          value: 'false'\n        },\n        {\n          key: 'query',\n          desc: '联动条件',\n          type: 'object',\n          value: ''\n        },\n        {\n          key: 'notContent',\n          desc: '无数据插槽',\n          type: 'slot',\n          value: '无数据'\n        },\n        {\n          key: 'notFoundContent',\n          desc: 'notFoundContent',\n          type: 'slot',\n          value: ''\n        },\n        {\n          key: 'suffixIcon',\n          desc:\n            '图标插槽（showArrow属性与suffixIcon 存在冲突，所以showArrow为false时不传）',\n          type: 'string|slot',\n          value: ''\n        }\n      ],\n      eventColumns: [\n        {\n          title: `事件名称`,\n          width: 200,\n          dataIndex: 'key'\n        },\n        {\n          title: `说明`,\n          dataIndex: 'desc'\n        },\n        {\n          title: `回调参数`,\n          width: 200,\n          dataIndex: 'value'\n        }\n      ],\n      eventList: [\n        {\n          key: 'change',\n          desc: '选择变更事件',\n          value: 'function(selected){}'\n        },\n        {\n          key: 'refresh',\n          desc: '联动条件变化触发刷新',\n          value: `function({ [_keyword]: '', ...query } ){}`\n        },\n        {\n          key: 'search',\n          desc: '查询关键词变化触发搜索',\n          value: `function({ [_keyword]: '', ...query } ){}`\n        },\n        {\n          key: 'scroll',\n          desc: '下拉滚动，加载更多',\n          value: `function({ [_keyword]: '', ...query } ){}`\n        }\n      ],\n      list: [\n        { name: '优惠券1', id: 1 },\n        { name: '优惠券2', id: 2 },\n        { name: '优惠券3', id: 3 },\n        { name: '优惠券4', id: 4 },\n        { name: '优惠券5', id: 5 },\n        { name: '优惠券6', id: 6 },\n        { name: '优惠券7', id: 7 },\n        { name: '优惠券8', id: 8 },\n        { name: '优惠券9', id: 9 },\n        { name: '优惠券10', id: 10 }\n      ],\n      list2Value: 1,\n      list2: [\n        { name: '优惠券1', id: 1 },\n        { name: '优惠券2', id: 2 },\n        { name: '优惠券3', id: 3 },\n        { name: '优惠券4', id: 4 },\n        { name: '优惠券5', id: 5 },\n        { name: '优惠券6', id: 6 },\n        { name: '优惠券7', id: 7 },\n        { name: '优惠券8', id: 8 },\n        { name: '优惠券9', id: 9 },\n        { name: '优惠券10', id: 10 }\n      ]\n    }\n  },\n  methods: {\n    // mock逻辑仅供参考\n    onSearch(isReload, query) {\n      if (query && query.coupon_name) this.keyword = query.coupon_name\n      if (isReload) {\n        this.page.current_page = 1\n        this.isEnd = false\n        this.page.total_pages = Math.floor(Math.random() * 7) + 3\n      } else {\n        this.page.current_page += 1\n      }\n      this.isLoading = true\n      if (this.page.current_page > this.page.total_pages) return\n      clearTimeout(this.timer)\n      this.timer = setTimeout(() => {\n        const list = []\n        for (\n          let i = 0, len = this.page.size * this.page.current_page;\n          i < len;\n          i++\n        ) {\n          list.push({\n            name: this.keyword + (i + 1),\n            id: i + 1\n          })\n        }\n        this.list = list\n        this.isLoading = false\n        this.isEnd = this.page.current_page >= this.page.total_pages\n      }, (Math.floor(Math.random() * 12) + 3) * 100)\n    },\n    onChange(e) {\n      console.log('change', e)\n    }\n  }\n}\n</script>\n<style lang=\"less\">\n.style-guide-select-scroll {\n  .st-table .ant-table .ant-table-tbody tr > td {\n    padding-right: 24px;\n  }\n  .st-table .ant-table .ant-table-tbody tr > td:first-child {\n    font-size: 12px;\n    color: #003a8c;\n  }\n\n  .props-table .ant-table .ant-table-tbody tr > td:nth-last-child(2) {\n    font-size: 12px;\n    color: #c41d7f;\n  }\n  .event-table .ant-table .ant-table-tbody tr > td:nth-last-child(1) {\n    font-size: 12px;\n    color: #c41d7f;\n  }\n}\n</style>\n"]}]}