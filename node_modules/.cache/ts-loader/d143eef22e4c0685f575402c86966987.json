{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/thread-loader/dist/cjs.js!/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/node_modules/ts-loader/index.js??ref--13-3!/Users/wangzhigang/Desktop/styd/web/src/services/i18n.service.ts","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/services/i18n.service.ts","mtime":1591147717086},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/thread-loader/dist/cjs.js","mtime":1591062572352},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/ts-loader/index.js","mtime":1591062571609}],"contextDependencies":[],"result":["import _classCallCheck from \"/Users/wangzhigang/Desktop/styd/web/node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wangzhigang/Desktop/styd/web/node_modules/@babel/runtime-corejs2/helpers/esm/createClass\";\n\nvar _a;\n\nimport { __decorate, __metadata } from \"tslib\";\nimport { State, computed } from 'rx-state';\nimport { Injectable } from 'vue-service-app';\nimport VueI18n from 'vue-i18n';\nimport Cookie from 'js-cookie'; // @ts-ignore\n\nimport zh_CN_Antd from 'ant-design-vue/lib/locale-provider/zh_CN'; // @ts-ignore\n\nimport en_US_Antd from 'ant-design-vue/lib/locale-provider/en_US'; // TODO: i18nService 与 httpService 相互依赖 i18n->api->http->i18n\n\nvar I18NService = /*#__PURE__*/function () {\n  function I18NService(vueI18n) {\n    _classCallCheck(this, I18NService);\n\n    this.vueI18n = vueI18n;\n    this.firstInit = false;\n    this.locale$ = new State(Cookie.get('language') || 'zh_CN');\n    this.antdLocaleMessages$ = computed(function (locale) {\n      if (locale === 'zh_CN') {\n        return zh_CN_Antd;\n      }\n\n      if (locale === 'en_US') {\n        return en_US_Antd;\n      }\n    }, [this.locale$]);\n  }\n\n  _createClass(I18NService, [{\n    key: \"setLocale\",\n    value: function setLocale(locale) {\n      this.locale$.commit(function () {\n        return locale;\n      });\n      this.vueI18n.locale = locale;\n    }\n  }, {\n    key: \"t\",\n    value: function t(key) {\n      var _this$vueI18n;\n\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      return (_this$vueI18n = this.vueI18n).t.apply(_this$vueI18n, [key].concat(args));\n    }\n  }]);\n\n  return I18NService;\n}();\n\nI18NService = __decorate([Injectable(), __metadata(\"design:paramtypes\", [typeof (_a = typeof VueI18n !== \"undefined\" && VueI18n) === \"function\" ? _a : Object])], I18NService);\nexport { I18NService };",null]}