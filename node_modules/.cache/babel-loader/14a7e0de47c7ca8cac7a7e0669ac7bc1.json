{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/marketing/activity.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/marketing/activity.vue","mtime":1600926382327},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { H5WrapperService } from '@/views/pages/brand/setting/mina/components#/h5/h5-wrapper.service';\nimport RowContainerComponent from '@/views/pages/brand/setting/mina/components#/h5/row-container.component';\nimport H5Component from '@/views/pages/brand/setting/mina/components#/h5/h5.component';\nimport SliderComponent from \"./components#/slider.component\";\nimport EventComponent from \"./components#/event.component\";\nimport { NotificationService } from '@/services/notification.service';\nimport { ActivityService } from \"./activity.service\";\nimport { cloneDeep } from 'lodash-es';\nexport default {\n  name: 'H5WrapperComponent',\n  components: {\n    RowContainerComponent: RowContainerComponent,\n    H5Component: H5Component,\n    SliderComponent: SliderComponent,\n    EventComponent: EventComponent\n  },\n  props: {},\n  bem: {\n    activity: 'brand-marketing-activity'\n  },\n  serviceInject: function serviceInject() {\n    return {\n      h5WrapperService: H5WrapperService,\n      notificationService: NotificationService,\n      activityService: ActivityService\n    };\n  },\n  rxState: function rxState() {\n    return {\n      sliderInfo: this.h5WrapperService.sliderInfo$,\n      eventInfo: this.h5WrapperService.eventInfo$,\n      loading: this.h5WrapperService.loading$,\n      actList: this.activityService.actList$,\n      info: this.activityService.info$\n    };\n  },\n  data: function data() {\n    return {\n      sliderLoaded: false,\n      openStatus: 0,\n      openMiniFlag: false,\n      isFixed: false,\n      offsetTop: 0\n    };\n  },\n  created: function created() {\n    if (this.info.is_auth === 0) {\n      var that = this;\n      this.$confirm({\n        title: '提示',\n        content: '请先开通小程序后使用此功能',\n        okText: '去绑定小程序',\n        cancelText: '返回',\n        onOk: function onOk() {\n          that.$router.push({\n            path: '/brand/setting/mina/index'\n          });\n        },\n        onCancel: function onCancel() {\n          that.$router.back();\n        }\n      });\n    } else {\n      this.getH5Info();\n    } // this.getActList()\n\n  },\n  mounted: function mounted() {\n    this.offsetTop = document.querySelector('#h5').offsetTop;\n    window.addEventListener('scroll', this.handleScroll);\n  },\n  destroyed: function destroyed() {\n    window.removeEventListener('scroll', this.handleScroll);\n  },\n  watch: {\n    openStatus: function openStatus(newVal) {\n      newVal ? this.openMiniFlag = true : this.openMiniFlag = false;\n    }\n  },\n  methods: {\n    handleScroll: function handleScroll() {\n      var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;\n      var offsetTop = this.offsetTop;\n\n      if (scrollTop > offsetTop) {\n        this.isFixed = true;\n      } else {\n        this.isFixed = false;\n      }\n    },\n    onOpenStatusChange: function onOpenStatusChange(data) {\n      var _this = this;\n\n      if (!data) {\n        this.$confirm({\n          title: '提示',\n          content: \"\\u4E00\\u65E6\\u5173\\u95ED\\uFF0C\\u5C0F\\u7A0B\\u5E8F\\u4F1A\\u5173\\u95ED\\u9996\\u9875\\u8425\\u9500\\u4F4D\\uFF0C\\u8BF7\\u8C28\\u614E\\u64CD\\u4F5C\\u3002\",\n          onCancel: function onCancel() {\n            _this.openStatus = 1;\n          },\n          onOk: function onOk() {//this.openStatus === 3\n          }\n        });\n      }\n    },\n    saveConfirm: function saveConfirm(is_status) {\n      var _this2 = this;\n\n      var content = '';\n      if (is_status === 1) content = '是否确认将当前配置信息发布到小程序？';\n      if (is_status === 2) content = '是否确认将当前配置信息发布到小程序？';\n      this.$confirm({\n        content: content,\n        onOk: function onOk() {\n          _this2.save(is_status);\n        }\n      });\n    },\n    save: function save(is_status) {\n      var _this3 = this;\n\n      var saveForm = {\n        info: []\n      };\n\n      for (var i = 0; i < this.sliderInfo.length; i++) {\n        this.sliderInfo[i].activity_id = this.sliderInfo[i].activity_id[1] || this.sliderInfo[i].activity_id;\n      }\n\n      for (var _i = 0; _i < this.eventInfo.length; _i++) {\n        this.eventInfo[_i].activity_id = this.eventInfo[_i].activity_id[1] || this.eventInfo[_i].activity_id;\n      }\n\n      saveForm.info.push({\n        category: 1,\n        content: this.sliderInfo,\n        status: is_status\n      });\n      saveForm.info.push({\n        category: 3,\n        content: this.eventInfo,\n        status: this.openStatus ? 2 : 3\n      });\n      this.h5WrapperService.save(saveForm).subscribe(function (res) {\n        if (res.is_success === 1) {\n          _this3.notificationService.success({\n            title: '保存成功',\n            content: '成功'\n          });\n        } else if (res.is_success === 0) {\n          _this3.notificationService.error({\n            title: '保存失败',\n            content: res.message\n          });\n        }\n      });\n    },\n    setCoashIDs: function setCoashIDs() {\n      var coach = cloneDeep(this.coach);\n      coach.staff_id_list = [];\n      this.coachInfo.forEach(function (item) {\n        coach.staff_id_list.push(item.id);\n      });\n      return coach;\n    },\n    getActList: function getActList() {\n      this.activityService.getInfo().subscribe();\n    },\n    getH5Info: function getH5Info() {\n      var _this4 = this;\n\n      var that = this;\n      this.h5WrapperService.getH5Info({\n        category: 1\n      }).subscribe(function () {\n        _this4.sliderLoaded = true;\n      });\n      this.h5WrapperService.getH5Info({\n        category: 2\n      }).subscribe();\n      this.h5WrapperService.getH5Info({\n        category: 3\n      }).subscribe(function (res) {\n        _this4.openStatus = res.status;\n      });\n      this.h5WrapperService.getH5Info({\n        category: 4\n      }).subscribe(function (res) {\n        var staff_id = [];\n\n        if (res.content) {\n          staff_id = res.content.staff_id_list;\n        }\n\n        that.h5WrapperService.getCoachInfo({\n          staff_id: staff_id\n        }).subscribe();\n      });\n      this.h5WrapperService.getH5Info({\n        category: 5\n      }).subscribe();\n      this.h5WrapperService.getMenu().subscribe();\n    }\n  }\n};",{"version":3,"sources":["activity.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <st-mina-panel :class=\"activity()\" initial>\n    <h5-component\n      slot=\"preview\"\n      id=\"h5\"\n      :class=\"{ fixed: isFixed }\"\n      :openMiniFlag=\"openMiniFlag\"\n    ></h5-component>\n\n    <st-tabs defaultActiveKey=\"1\">\n      <st-tab-pane tab=\"活动轮播图\" key=\"1\">\n        <row-container-component\n          title=\"头图活动广告\"\n          subTitle=\"拖动图片进行排序，最多添加5张轮播图广告\"\n        >\n          <slider-component v-if=\"sliderLoaded\"></slider-component>\n        </row-container-component>\n      </st-tab-pane>\n      <st-tab-pane tab=\"营销位活动\" key=\"2\" forceRender>\n        <row-container-component\n          title=\"营销活动推广设置\"\n          subTitle=\"推广活动数量会对图片尺寸有不同要求\"\n        >\n          <st-form>\n            <st-form-item label=\"功能开关\" labelWidth=\"71px\" required>\n              <st-switch v-model=\"openStatus\" @change=\"onOpenStatusChange\" />\n              <span class=\"mg-l12 mg-r12\">\n                {{ openMiniFlag ? '已' : '未' }}开启\n              </span>\n              <span v-if=\"!openMiniFlag\">\n                （一旦开启，将会在小程序展示，如需关闭，请谨慎操作。）\n              </span>\n            </st-form-item>\n          </st-form>\n          <event-component v-if=\"openMiniFlag\"></event-component>\n        </row-container-component>\n      </st-tab-pane>\n    </st-tabs>\n    <div slot=\"actions\" v-if=\"info.is_auth === 1\">\n      <st-button type=\"primary\" :loading=\"loading.save\" @click=\"saveConfirm(2)\">\n        保存并提交\n      </st-button>\n    </div>\n  </st-mina-panel>\n</template>\n<script>\nimport { H5WrapperService } from '@/views/pages/brand/setting/mina/components#/h5/h5-wrapper.service'\nimport RowContainerComponent from '@/views/pages/brand/setting/mina/components#/h5/row-container.component'\nimport H5Component from '@/views/pages/brand/setting/mina/components#/h5/h5.component'\nimport SliderComponent from './components#/slider.component'\nimport EventComponent from './components#/event.component'\nimport { NotificationService } from '@/services/notification.service'\nimport { ActivityService } from './activity.service'\nimport { cloneDeep } from 'lodash-es'\nexport default {\n  name: 'H5WrapperComponent',\n  components: {\n    RowContainerComponent,\n    H5Component,\n    SliderComponent,\n    EventComponent\n  },\n  props: {},\n  bem: {\n    activity: 'brand-marketing-activity'\n  },\n  serviceInject() {\n    return {\n      h5WrapperService: H5WrapperService,\n      notificationService: NotificationService,\n      activityService: ActivityService\n    }\n  },\n  rxState() {\n    return {\n      sliderInfo: this.h5WrapperService.sliderInfo$,\n      eventInfo: this.h5WrapperService.eventInfo$,\n      loading: this.h5WrapperService.loading$,\n      actList: this.activityService.actList$,\n      info: this.activityService.info$\n    }\n  },\n  data() {\n    return {\n      sliderLoaded: false,\n      openStatus: 0,\n      openMiniFlag: false,\n      isFixed: false,\n      offsetTop: 0\n    }\n  },\n  created() {\n    if (this.info.is_auth === 0) {\n      let that = this\n      this.$confirm({\n        title: '提示',\n        content: '请先开通小程序后使用此功能',\n        okText: '去绑定小程序',\n        cancelText: '返回',\n        onOk() {\n          that.$router.push({ path: '/brand/setting/mina/index' })\n        },\n        onCancel() {\n          that.$router.back()\n        }\n      })\n    } else {\n      this.getH5Info()\n    }\n    // this.getActList()\n  },\n  mounted() {\n    this.offsetTop = document.querySelector('#h5').offsetTop\n    window.addEventListener('scroll', this.handleScroll)\n  },\n  destroyed() {\n    window.removeEventListener('scroll', this.handleScroll)\n  },\n  watch: {\n    openStatus(newVal) {\n      newVal ? (this.openMiniFlag = true) : (this.openMiniFlag = false)\n    }\n  },\n  methods: {\n    handleScroll() {\n      let scrollTop =\n        window.pageYOffset ||\n        document.documentElement.scrollTop ||\n        document.body.scrollTop\n      let offsetTop = this.offsetTop\n      if (scrollTop > offsetTop) {\n        this.isFixed = true\n      } else {\n        this.isFixed = false\n      }\n    },\n    onOpenStatusChange(data) {\n      if (!data) {\n        this.$confirm({\n          title: '提示',\n          content: `一旦关闭，小程序会关闭首页营销位，请谨慎操作。`,\n          onCancel: () => {\n            this.openStatus = 1\n          },\n          onOk: () => {\n            //this.openStatus === 3\n          }\n        })\n      }\n    },\n    saveConfirm(is_status) {\n      let content = ''\n      if (is_status === 1) content = '是否确认将当前配置信息发布到小程序？'\n      if (is_status === 2) content = '是否确认将当前配置信息发布到小程序？'\n      this.$confirm({\n        content: content,\n        onOk: () => {\n          this.save(is_status)\n        }\n      })\n    },\n    save(is_status) {\n      let saveForm = {\n        info: []\n      }\n      for (let i = 0; i < this.sliderInfo.length; i++) {\n        this.sliderInfo[i].activity_id =\n          this.sliderInfo[i].activity_id[1] || this.sliderInfo[i].activity_id\n      }\n      for (let i = 0; i < this.eventInfo.length; i++) {\n        this.eventInfo[i].activity_id =\n          this.eventInfo[i].activity_id[1] || this.eventInfo[i].activity_id\n      }\n      saveForm.info.push({\n        category: 1,\n        content: this.sliderInfo,\n        status: is_status\n      })\n      saveForm.info.push({\n        category: 3,\n        content: this.eventInfo,\n        status: this.openStatus ? 2 : 3\n      })\n      this.h5WrapperService.save(saveForm).subscribe(res => {\n        if (res.is_success === 1) {\n          this.notificationService.success({\n            title: '保存成功',\n            content: '成功'\n          })\n        } else if (res.is_success === 0) {\n          this.notificationService.error({\n            title: '保存失败',\n            content: res.message\n          })\n        }\n      })\n    },\n    setCoashIDs() {\n      let coach = cloneDeep(this.coach)\n      coach.staff_id_list = []\n      this.coachInfo.forEach(item => {\n        coach.staff_id_list.push(item.id)\n      })\n      return coach\n    },\n    getActList() {\n      this.activityService.getInfo().subscribe()\n    },\n    getH5Info() {\n      let that = this\n      this.h5WrapperService.getH5Info({ category: 1 }).subscribe(() => {\n        this.sliderLoaded = true\n      })\n      this.h5WrapperService.getH5Info({ category: 2 }).subscribe()\n      this.h5WrapperService.getH5Info({ category: 3 }).subscribe(res => {\n        this.openStatus = res.status\n      })\n      this.h5WrapperService.getH5Info({ category: 4 }).subscribe(res => {\n        let staff_id = []\n        if (res.content) {\n          staff_id = res.content.staff_id_list\n        }\n        that.h5WrapperService.getCoachInfo({ staff_id: staff_id }).subscribe()\n      })\n      this.h5WrapperService.getH5Info({ category: 5 }).subscribe()\n      this.h5WrapperService.getMenu().subscribe()\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/views/pages/brand/marketing"}]}