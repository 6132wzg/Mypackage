{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/setting/general/course/personal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/setting/general/course/personal.vue","mtime":1594718340384},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { MessageService } from '@/services/message.service'\nimport { PersonalService } from './personal.service'\nimport BrandSettingPersonalPriceModel from '@/views/biz-modals/brand/setting/personal/price-model'\nimport BrandSettingPersonalReserve from '@/views/biz-modals/brand/setting/personal/reserve'\nexport default {\n  serviceInject() {\n    return {\n      personalService: PersonalService\n    }\n  },\n  rxState() {\n    const personalService = this.personalService\n    return {\n      loading: personalService.loading$,\n      resData: personalService.resData$,\n      auth: personalService.auth$\n    }\n  },\n  modals: {\n    BrandSettingPersonalPriceModel,\n    BrandSettingPersonalReserve\n  },\n  computed: {\n    pricingInfo() {\n      return this.resData[0]\n    },\n    reserveInfo() {\n      return this.resData[1].info\n    }\n  },\n  methods: {\n    onChange() {\n      this.$router.push({})\n    },\n    onEditPricingSetting() {\n      const isChanged = this.pricingInfo.is_changed\n      const that = this\n      const msg = this.pricingInfo.changed_desc\n      if (isChanged) {\n        this.$confirm({\n          title: '',\n          content: msg,\n          okText: '保持切换',\n          cancelText: '放弃切换',\n          /**\n           * 保持切换\n           */\n          onOk() {},\n          /**\n           * 放弃切换\n           */\n          onCancel() {\n            that.personalService.del().subscribe(that.onChange)\n          }\n        })\n      } else {\n        this.showPricingSettingModal()\n      }\n    },\n    showPricingSettingModal() {\n      this.$modalRouter.push({\n        name: 'brand-setting-personal-price-model',\n        on: {\n          change: this.onChange\n        }\n      })\n    }\n  }\n}\n",null]}