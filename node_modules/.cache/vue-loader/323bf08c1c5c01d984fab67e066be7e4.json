{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/biz-components/custom-link/custom-link.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/biz-components/custom-link/custom-link.vue","mtime":1597895241978},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport BrandAppCustomDecorateCustomLink from '@/views/biz-modals/custom-decorate/custom-link'\nimport { cloneDeep } from 'lodash-es'\nexport default {\n  name: '',\n\n  bem: {\n    b: 'brand-setting-mina-custom-link'\n  },\n\n  components: {},\n\n  modals: { BrandAppCustomDecorateCustomLink },\n\n  props: {\n    link: {\n      type: Object,\n      default: () => {}\n    },\n    modules: {\n      type: Array,\n      defaut: () => []\n    }\n  },\n\n  data() {\n    return {\n      module_select: [],\n      options: [],\n      customOption: {\n        id: -1,\n        type: 99,\n        path: '',\n        name: '自定义页面路径'\n      }\n    }\n  },\n\n  computed: {},\n\n  async: {},\n\n  mounted() {},\n\n  watch: {\n    modules: {\n      handler(newV) {\n        if (newV && newV.length) {\n          this.options = [...newV, this.customOption]\n        }\n      },\n      immediate: true\n    },\n    link: {\n      handler(newV) {\n        if (newV) {\n          let select = newV.id\n          this.module_select = cloneDeep(select)\n        }\n      },\n      deep: true,\n      immediate: true\n    }\n  },\n\n  methods: {\n    displayRender(data) {\n      let { labels, selectedOptions } = data\n      if (\n        selectedOptions &&\n        selectedOptions.length === 1 &&\n        selectedOptions[0]['id'] === -1\n      ) {\n        return selectedOptions[0]['path']\n      }\n      return labels[labels.length - 1]\n    },\n    changeModule(args, selectedOptions) {\n      let currentId = args[args.length - 1]\n      let currentOption = selectedOptions[selectedOptions.length - 1]\n      if (currentId === -1) {\n        if (!currentOption.path) this.module_select = []\n        this.$modalRouter.push({\n          name: 'brand-app-custom-decorate-custom-link',\n          props: {\n            customPath: this.customOption.path\n          },\n          on: {\n            change: res => {\n              this.options[this.options.length - 1] = res\n              this.customOption = res\n              this.$emit('change', {\n                ...res,\n                id: [res.id]\n              })\n              this.module_select = [-1]\n            }\n          }\n        })\n      } else {\n        this.options[this.options.length - 1] = {\n          id: -1,\n          type: 99,\n          path: '',\n          name: '自定义页面路径'\n        }\n        this.customOption = {\n          id: -1,\n          type: 99,\n          path: '',\n          name: '自定义页面路径'\n        }\n        this.$emit('change', {\n          id: args,\n          // name: currentOption.name, // 自定义的话和path一样\n          type: currentOption.type,\n          path: currentOption.path\n        })\n      }\n    }\n  }\n}\n",{"version":3,"sources":["custom-link.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"custom-link.vue","sourceRoot":"src/views/biz-components/custom-link","sourcesContent":["<template>\n  <div :class=\"b()\" ref=\"container\">\n    <a-cascader\n      :display-render=\"displayRender\"\n      popupClassName=\"brand-setting-mina-custom-link__popupClass\"\n      placeholder=\"选择链接功能\"\n      :allowClear=\"false\"\n      v-model=\"module_select\"\n      :fieldNames=\"{\n        label: 'name',\n        value: 'id',\n        children: 'children'\n      }\"\n      :options=\"options\"\n      @change=\"changeModule\"\n      style=\"width: 100%\"\n    ></a-cascader>\n  </div>\n</template>\n\n<script>\nimport BrandAppCustomDecorateCustomLink from '@/views/biz-modals/custom-decorate/custom-link'\nimport { cloneDeep } from 'lodash-es'\nexport default {\n  name: '',\n\n  bem: {\n    b: 'brand-setting-mina-custom-link'\n  },\n\n  components: {},\n\n  modals: { BrandAppCustomDecorateCustomLink },\n\n  props: {\n    link: {\n      type: Object,\n      default: () => {}\n    },\n    modules: {\n      type: Array,\n      defaut: () => []\n    }\n  },\n\n  data() {\n    return {\n      module_select: [],\n      options: [],\n      customOption: {\n        id: -1,\n        type: 99,\n        path: '',\n        name: '自定义页面路径'\n      }\n    }\n  },\n\n  computed: {},\n\n  async: {},\n\n  mounted() {},\n\n  watch: {\n    modules: {\n      handler(newV) {\n        if (newV && newV.length) {\n          this.options = [...newV, this.customOption]\n        }\n      },\n      immediate: true\n    },\n    link: {\n      handler(newV) {\n        if (newV) {\n          let select = newV.id\n          this.module_select = cloneDeep(select)\n        }\n      },\n      deep: true,\n      immediate: true\n    }\n  },\n\n  methods: {\n    displayRender(data) {\n      let { labels, selectedOptions } = data\n      if (\n        selectedOptions &&\n        selectedOptions.length === 1 &&\n        selectedOptions[0]['id'] === -1\n      ) {\n        return selectedOptions[0]['path']\n      }\n      return labels[labels.length - 1]\n    },\n    changeModule(args, selectedOptions) {\n      let currentId = args[args.length - 1]\n      let currentOption = selectedOptions[selectedOptions.length - 1]\n      if (currentId === -1) {\n        if (!currentOption.path) this.module_select = []\n        this.$modalRouter.push({\n          name: 'brand-app-custom-decorate-custom-link',\n          props: {\n            customPath: this.customOption.path\n          },\n          on: {\n            change: res => {\n              this.options[this.options.length - 1] = res\n              this.customOption = res\n              this.$emit('change', {\n                ...res,\n                id: [res.id]\n              })\n              this.module_select = [-1]\n            }\n          }\n        })\n      } else {\n        this.options[this.options.length - 1] = {\n          id: -1,\n          type: 99,\n          path: '',\n          name: '自定义页面路径'\n        }\n        this.customOption = {\n          id: -1,\n          type: 99,\n          path: '',\n          name: '自定义页面路径'\n        }\n        this.$emit('change', {\n          id: args,\n          // name: currentOption.name, // 自定义的话和path一样\n          type: currentOption.type,\n          path: currentOption.path\n        })\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped></style>\n"]}]}