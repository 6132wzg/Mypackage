{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/biz-components/custom-link/custom-link.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/biz-components/custom-link/custom-link.vue","mtime":1600926555676},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"/Users/wangzhigang/Desktop/styd/web/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"/Users/wangzhigang/Desktop/styd/web/node_modules/@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport BrandAppCustomDecorateCustomLink from '@/views/biz-modals/custom-decorate/custom-link';\nimport { cloneDeep } from 'lodash-es';\nexport default {\n  name: '',\n  bem: {\n    b: 'brand-setting-mina-custom-link'\n  },\n  components: {},\n  modals: {\n    BrandAppCustomDecorateCustomLink: BrandAppCustomDecorateCustomLink\n  },\n  props: {\n    link: {\n      type: Object,\n      default: function _default() {}\n    },\n    modules: {\n      type: Array,\n      defaut: function defaut() {\n        return [];\n      }\n    }\n  },\n  data: function data() {\n    return {\n      module_select: [],\n      options: [],\n      customOption: {\n        id: -1,\n        type: 99,\n        path: '',\n        name: '自定义页面路径'\n      }\n    };\n  },\n  computed: {},\n  async: {},\n  mounted: function mounted() {},\n  watch: {\n    modules: {\n      handler: function handler(newV) {\n        if (newV && newV.length) {\n          this.options = [].concat(_toConsumableArray(newV), [this.customOption]);\n        }\n      },\n      immediate: true\n    },\n    link: {\n      handler: function handler(newV) {\n        if (newV) {\n          var select = newV.id;\n          this.module_select = cloneDeep(select);\n\n          if (select && select.length && select[0] === -1) {\n            this.customOption.path = newV.path;\n          } else {\n            this.customOption.path = '';\n          }\n        }\n      },\n      deep: true,\n      immediate: true\n    }\n  },\n  methods: {\n    displayRender: function displayRender(data) {\n      var labels = data.labels,\n          selectedOptions = data.selectedOptions;\n\n      if (selectedOptions && selectedOptions.length === 1 && selectedOptions[0]['id'] === -1) {\n        return selectedOptions[0]['path'];\n      }\n\n      return labels[labels.length - 1];\n    },\n    changeModule: function changeModule(args, selectedOptions) {\n      var _this = this;\n\n      var currentId = args[args.length - 1];\n      var currentOption = selectedOptions[selectedOptions.length - 1];\n\n      if (currentId === -1) {\n        if (!currentOption.path) this.module_select = [];\n        this.$modalRouter.push({\n          name: 'brand-app-custom-decorate-custom-link',\n          props: {\n            customPath: this.customOption.path\n          },\n          on: {\n            change: function change(res) {\n              _this.options[_this.options.length - 1] = res;\n              _this.customOption = res;\n\n              _this.$emit('change', _objectSpread({}, res, {\n                id: [res.id]\n              }));\n\n              _this.module_select = [-1];\n            }\n          }\n        });\n      } else {\n        this.options[this.options.length - 1] = {\n          id: -1,\n          type: 99,\n          path: '',\n          name: '自定义页面路径'\n        };\n        this.customOption = {\n          id: -1,\n          type: 99,\n          path: '',\n          name: '自定义页面路径'\n        };\n        this.$emit('change', {\n          id: args,\n          // name: currentOption.name, // 自定义的话和path一样\n          type: currentOption.type,\n          path: currentOption.path\n        });\n      }\n    }\n  }\n};",{"version":3,"sources":["custom-link.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div :class=\"b()\" ref=\"container\">\n    <a-cascader\n      :display-render=\"displayRender\"\n      popupClassName=\"brand-setting-mina-custom-link__popupClass\"\n      placeholder=\"选择链接功能\"\n      :allowClear=\"false\"\n      v-model=\"module_select\"\n      :fieldNames=\"{\n        label: 'name',\n        value: 'id',\n        children: 'children'\n      }\"\n      :options=\"options\"\n      @change=\"changeModule\"\n      style=\"width: 100%\"\n    ></a-cascader>\n  </div>\n</template>\n\n<script>\nimport BrandAppCustomDecorateCustomLink from '@/views/biz-modals/custom-decorate/custom-link'\nimport { cloneDeep } from 'lodash-es'\nexport default {\n  name: '',\n\n  bem: {\n    b: 'brand-setting-mina-custom-link'\n  },\n\n  components: {},\n\n  modals: { BrandAppCustomDecorateCustomLink },\n\n  props: {\n    link: {\n      type: Object,\n      default: () => {}\n    },\n    modules: {\n      type: Array,\n      defaut: () => []\n    }\n  },\n\n  data() {\n    return {\n      module_select: [],\n      options: [],\n      customOption: {\n        id: -1,\n        type: 99,\n        path: '',\n        name: '自定义页面路径'\n      }\n    }\n  },\n\n  computed: {},\n\n  async: {},\n\n  mounted() {},\n\n  watch: {\n    modules: {\n      handler(newV) {\n        if (newV && newV.length) {\n          this.options = [...newV, this.customOption]\n        }\n      },\n      immediate: true\n    },\n    link: {\n      handler(newV) {\n        if (newV) {\n          let select = newV.id\n          this.module_select = cloneDeep(select)\n          if (select && select.length && select[0] === -1) {\n            this.customOption.path = newV.path\n          } else {\n            this.customOption.path = ''\n          }\n        }\n      },\n      deep: true,\n      immediate: true\n    }\n  },\n\n  methods: {\n    displayRender(data) {\n      let { labels, selectedOptions } = data\n      if (\n        selectedOptions &&\n        selectedOptions.length === 1 &&\n        selectedOptions[0]['id'] === -1\n      ) {\n        return selectedOptions[0]['path']\n      }\n      return labels[labels.length - 1]\n    },\n    changeModule(args, selectedOptions) {\n      let currentId = args[args.length - 1]\n      let currentOption = selectedOptions[selectedOptions.length - 1]\n      if (currentId === -1) {\n        if (!currentOption.path) this.module_select = []\n        this.$modalRouter.push({\n          name: 'brand-app-custom-decorate-custom-link',\n          props: {\n            customPath: this.customOption.path\n          },\n          on: {\n            change: res => {\n              this.options[this.options.length - 1] = res\n              this.customOption = res\n              this.$emit('change', {\n                ...res,\n                id: [res.id]\n              })\n              this.module_select = [-1]\n            }\n          }\n        })\n      } else {\n        this.options[this.options.length - 1] = {\n          id: -1,\n          type: 99,\n          path: '',\n          name: '自定义页面路径'\n        }\n        this.customOption = {\n          id: -1,\n          type: 99,\n          path: '',\n          name: '自定义页面路径'\n        }\n        this.$emit('change', {\n          id: args,\n          // name: currentOption.name, // 自定义的话和path一样\n          type: currentOption.type,\n          path: currentOption.path\n        })\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped></style>\n"],"sourceRoot":"src/views/biz-components/custom-link"}]}