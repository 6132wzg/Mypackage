{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/node_modules/ts-loader/index.js??ref--13-2!/Users/wangzhigang/Desktop/styd/web/src/router/routes.ts","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/router/routes.ts","mtime":1600912105153},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/ts-loader/index.js","mtime":1591062571609}],"contextDependencies":[],"result":["import \"core-js/modules/es6.string.starts-with\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\nimport _toConsumableArray from \"/Users/wangzhigang/Desktop/styd/web/node_modules/@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport pageRoutes from \"./auto-generated-routes\";\nimport { routeMapConfig } from \"./route-map.config\";\nimport { AppTokenGuard } from '@/guards/app-token.guard';\nimport { AppInfoGuard } from '@/guards/app-info.gurad.';\nimport { ProgressGuard } from '@/guards/progress.guard';\nimport { AppTabRedirectGuard } from '@/guards/app-tab-redirect.guard';\nimport { UdeskGuard } from '@/guards/udesk.guard';\nimport { AppTitleGuard } from '@/guards/app-title.guard';\nimport { TrackGuard } from '@/guards/track.guard';\nimport { AppInsertId } from '@/guards/app-insert-id';\nvar routes = [{\n  path: '/',\n  redirect: '/index'\n}, {\n  path: '/brand/product/card/deposit-card/shop-sale-list',\n  redirect: '/brand/product/card/deposit-card/shop-sale-list/brand'\n}].concat(_toConsumableArray(pageRoutes));\n\nvar walkRoutes = function walkRoutes(routes) {\n  routes.forEach(function (route) {\n    if (!route.meta) {\n      route.meta = {};\n    }\n\n    if (!route.name) {\n      route.name = '';\n    } // guards 配置\n\n\n    if (route.name.startsWith('test') || route.name.startsWith('styleguide') || route.name.startsWith('welcome')) {\n      route.guards = [ProgressGuard, AppTitleGuard];\n    } else if (route.path.startsWith('/') && !route.redirect) {\n      var appGuards = [ProgressGuard, TrackGuard, AppTokenGuard, AppInfoGuard, AppTitleGuard, AppTabRedirectGuard, AppInsertId, UdeskGuard];\n      route.guards = appGuards;\n    } // if (route.name) {\n    //   route.meta.title = `${route.name}.title`\n    // }\n\n\n    route.meta.layout = 'default'; // if (route.name.startsWith('shop')) {\n    //   route.meta.layout = 'default-shop'\n    // }\n\n    if (route.name in routeMapConfig) {\n      // @ts-ignore\n      routeMapConfig[route.name](route);\n    }\n\n    if (route.children && route.children.length) {\n      walkRoutes(route.children);\n    }\n  });\n};\n\nwalkRoutes(routes);\nexport default routes;",{"version":3,"sources":["/Users/wangzhigang/Desktop/styd/web/src/router/routes.ts"],"names":[],"mappings":";;;;AACA,OAAO,UAAP;AACA,SAAS,cAAT;AAEA,SAAS,aAAT,QAA8B,0BAA9B;AACA,SAAS,YAAT,QAA6B,0BAA7B;AACA,SAAS,aAAT,QAA8B,yBAA9B;AACA,SAAS,mBAAT,QAAoC,iCAApC;AACA,SAAS,UAAT,QAA2B,sBAA3B;AACA,SAAS,aAAT,QAA8B,0BAA9B;AACA,SAAS,UAAT,QAA2B,sBAA3B;AACA,SAAS,WAAT,QAA4B,wBAA5B;AAEA,IAAM,MAAM,IACV;AACE,EAAA,IAAI,EAAE,GADR;AAEE,EAAA,QAAQ,EAAE;AAFZ,CADU,EAKV;AACE,EAAA,IAAI,EAAE,iDADR;AAEE,EAAA,QAAQ,EAAE;AAFZ,CALU,4BASP,UATO,EAAZ;;AAYA,IAAM,UAAU,GAAG,SAAb,UAAa,CAAC,MAAD,EAAiC;AAClD,EAAA,MAAM,CAAC,OAAP,CAAe,UAAA,KAAK,EAAG;AACrB,QAAI,CAAC,KAAK,CAAC,IAAX,EAAiB;AACf,MAAA,KAAK,CAAC,IAAN,GAAa,EAAb;AACD;;AACD,QAAI,CAAC,KAAK,CAAC,IAAX,EAAiB;AACf,MAAA,KAAK,CAAC,IAAN,GAAa,EAAb;AACD,KANoB,CAQrB;;;AACA,QACE,KAAK,CAAC,IAAN,CAAW,UAAX,CAAsB,MAAtB,KACA,KAAK,CAAC,IAAN,CAAW,UAAX,CAAsB,YAAtB,CADA,IAEA,KAAK,CAAC,IAAN,CAAW,UAAX,CAAsB,SAAtB,CAHF,EAIE;AACA,MAAA,KAAK,CAAC,MAAN,GAAe,CAAC,aAAD,EAAgB,aAAhB,CAAf;AACD,KAND,MAMO,IAAI,KAAK,CAAC,IAAN,CAAW,UAAX,CAAsB,GAAtB,KAA8B,CAAC,KAAK,CAAC,QAAzC,EAAmD;AACxD,UAAM,SAAS,GAAU,CACvB,aADuB,EAEvB,UAFuB,EAGvB,aAHuB,EAIvB,YAJuB,EAKvB,aALuB,EAMvB,mBANuB,EAOvB,WAPuB,EAQvB,UARuB,CAAzB;AAUA,MAAA,KAAK,CAAC,MAAN,GAAe,SAAf;AACD,KA3BoB,CA4BrB;AACA;AACA;;;AACA,IAAA,KAAK,CAAC,IAAN,CAAW,MAAX,GAAoB,SAApB,CA/BqB,CAiCrB;AACA;AACA;;AAEA,QAAI,KAAK,CAAC,IAAN,IAAc,cAAlB,EAAkC;AAChC;AACA,MAAA,cAAc,CAAC,KAAK,CAAC,IAAP,CAAd,CAA2B,KAA3B;AACD;;AAED,QAAI,KAAK,CAAC,QAAN,IAAkB,KAAK,CAAC,QAAN,CAAe,MAArC,EAA6C;AAC3C,MAAA,UAAU,CAAC,KAAK,CAAC,QAAP,CAAV;AACD;AACF,GA7CD;AA8CD,CA/CD;;AAiDA,UAAU,CAAC,MAAD,CAAV;AAEA,eAAe,MAAf","sourcesContent":["import { ServiceRouteConfig } from 'vue-service-app'\nimport pageRoutes from './auto-generated-routes'\nimport { routeMapConfig } from './route-map.config'\n\nimport { AppTokenGuard } from '@/guards/app-token.guard'\nimport { AppInfoGuard } from '@/guards/app-info.gurad.'\nimport { ProgressGuard } from '@/guards/progress.guard'\nimport { AppTabRedirectGuard } from '@/guards/app-tab-redirect.guard'\nimport { UdeskGuard } from '@/guards/udesk.guard'\nimport { AppTitleGuard } from '@/guards/app-title.guard'\nimport { TrackGuard } from '@/guards/track.guard'\nimport { AppInsertId } from '@/guards/app-insert-id'\n\nconst routes: any[] = [\n  {\n    path: '/',\n    redirect: '/index'\n  },\n  {\n    path: '/brand/product/card/deposit-card/shop-sale-list',\n    redirect: '/brand/product/card/deposit-card/shop-sale-list/brand'\n  },\n  ...pageRoutes\n]\n\nconst walkRoutes = (routes: ServiceRouteConfig[]) => {\n  routes.forEach(route => {\n    if (!route.meta) {\n      route.meta = {}\n    }\n    if (!route.name) {\n      route.name = ''\n    }\n\n    // guards 配置\n    if (\n      route.name.startsWith('test') ||\n      route.name.startsWith('styleguide') ||\n      route.name.startsWith('welcome')\n    ) {\n      route.guards = [ProgressGuard, AppTitleGuard]\n    } else if (route.path.startsWith('/') && !route.redirect) {\n      const appGuards: any[] = [\n        ProgressGuard,\n        TrackGuard,\n        AppTokenGuard,\n        AppInfoGuard,\n        AppTitleGuard,\n        AppTabRedirectGuard,\n        AppInsertId,\n        UdeskGuard\n      ]\n      route.guards = appGuards\n    }\n    // if (route.name) {\n    //   route.meta.title = `${route.name}.title`\n    // }\n    route.meta.layout = 'default'\n\n    // if (route.name.startsWith('shop')) {\n    //   route.meta.layout = 'default-shop'\n    // }\n\n    if (route.name in routeMapConfig) {\n      // @ts-ignore\n      routeMapConfig[route.name](route)\n    }\n\n    if (route.children && route.children.length) {\n      walkRoutes(route.children)\n    }\n  })\n}\n\nwalkRoutes(routes)\n\nexport default routes\n"],"sourceRoot":""}]}