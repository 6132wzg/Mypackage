{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/thread-loader/dist/cjs.js!/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/src/views/biz-components/chart/filters.js","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/biz-components/chart/filters.js","mtime":1598250255714},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/thread-loader/dist/cjs.js","mtime":1591062572352},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.number.constructor\";\nimport { isObject } from 'lodash-es';\n/**\n * 销售金额过滤器\n * 0 -> 0\n * 256 -> 256\n * 2500 -> 2.5K\n * 25000 -> 2.5万\n */\n\nexport var toKFilter = function toKFilter(v) {\n  v = Number(v);\n  if (!v) return 0;\n  var T1 = Math.pow(10, 3);\n  var T2 = Math.pow(10, 4);\n  if (v >= T2) return (v / T2).toFixed(1).replace('.0', '') + '万'; // if (v >= T1 && v) return (v / T1).toFixed(1).replace('.0', '') + 'k'\n\n  if (v >= 0 && String(v).indexOf('.') + 1) return v.toFixed(1);\n  return v;\n};\n/**\n * 千分位过滤器\n */\n\nexport var thousandsFilter = function thousandsFilter(v) {\n  var fixed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  var result = Number(v).toFixed(fixed).replace(/\\B(?=(?:\\d{3})+\\b)/g, ',').replace(/[\\.]?0+$/, '');\n  return result;\n};\n/**\n * 小数点保留1位, 并去除小数点后多余的0\n */\n\nexport var decimalFilter = function decimalFilter(v) {\n  var fixed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  if (!v) return 0;\n  var result = Number(v).toFixed(fixed);\n  return result;\n};\nexport var colorToRgba = function colorToRgba() {\n  var str = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var opacity = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  var reg = /^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;\n  var color = str.toLowerCase();\n\n  if (reg.test(color)) {\n    if (color.length === 4) {\n      var colorNew = '#';\n\n      for (var i = 1; i < 4; i += 1) {\n        colorNew += color.slice(i, i + 1).concat(color.slice(i, i + 1));\n      }\n\n      color = colorNew;\n    }\n\n    var colorChange = [];\n\n    for (var _i = 1; _i < 7; _i += 2) {\n      colorChange.push(parseInt('0x' + color.slice(_i, _i + 2)));\n    }\n\n    return \"RGB(\".concat(colorChange.join(','), \",\").concat(opacity, \")\");\n  } else {\n    return color;\n  }\n};\nvar colorObj = [{\n  key: 0,\n  name: 'empty',\n  value: '#E9EDF2'\n}, {\n  key: 1,\n  name: '会员卡|会员卡(次卡)',\n  value: '#1C97FF'\n}, {\n  key: 1,\n  name: '会员卡(期卡)',\n  value: '#1160D6'\n}, {\n  key: 2,\n  name: '私教课|私教课(单人)',\n  value: '#FF647C'\n}, {\n  key: 2,\n  name: '私教课(多人)',\n  value: '#AD1F85'\n}, {\n  key: 3,\n  name: '团体课',\n  value: '#FDAFBB'\n}, {\n  key: 4,\n  name: '课程包|课程包(限次)',\n  value: '#BE52F2'\n}, {\n  key: 15,\n  name: '课程包(不限次)',\n  value: '#DBA5F5'\n}, {\n  key: 5,\n  name: '储值卡',\n  value: '#FFA940'\n}, {\n  key: 6,\n  name: '小班课',\n  value: '#A5AFFB'\n}, {\n  key: 8,\n  name: '定金',\n  value: '#14B580'\n}, {\n  key: 9,\n  name: '押金',\n  value: '#46E2DC'\n}, {\n  key: 10,\n  name: '储物柜',\n  value: '#55D1FF'\n}, {\n  key: 12,\n  name: '云店',\n  value: '#FF7A45'\n}, {\n  key: 13,\n  name: '场地预约',\n  value: '#9CDD89'\n}, {\n  key: -1,\n  name: '全部|总营收',\n  value: '#545B94'\n}, {\n  key: -2,\n  name: '其它|其他',\n  value: '#C59854'\n}];\nexport var setColorMap = function setColorMap() {\n  var fieldsOpts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var colors = arguments.length > 1 ? arguments[1] : undefined;\n  var isQueue = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  // fieldsKey 为 key 的list\n  var fields = fieldsOpts.fieldsKey || []; // fieldsObj 为 key: name 对象\n\n  var fieldsObj = fieldsOpts.fieldsObj || {};\n  var colorMap = fieldsOpts.colorMap || colorObj;\n  var cMap = {};\n  fields.map(function (key, idx) {\n    // isQueue 为true 代表不使用colorMap，而使用colors数组，按照当前下标从colos中取色\n    if (isQueue) {\n      cMap[fieldsObj[key]] = colors[idx % colors.length];\n    } else if (Array.isArray(colorMap)) {\n      // colorMap为数组对象\n      var obj = // 首先匹配key，匹配到即终止\n      colorMap.find(function (item) {\n        return item.key === key;\n      }) || // 再匹配name，匹配到即终止\n      colorMap.find(function (item) {\n        return item.name === key;\n      }) || // 再判断key是否包含name，匹配到即终止\n      colorMap.find(function (item) {\n        return key && key.toString().includes(item.name);\n      }) || // 再判断name是否包含key，匹配到即终止\n      colorMap.find(function (item) {\n        return item.name && item.name.toString().includes(key);\n      }) || {}; // 如果以上没有找到匹配项，则使用colors数组，按照当前下标从colos中取色\n\n      cMap[fieldsObj[key]] = obj.value || colors[idx % colors.length];\n    } else {\n      // colorMap为对象 即 key: color\n      cMap[fieldsObj[key]] = colorMap[key] || colors[idx % colors.length];\n    }\n  });\n  console.log(cMap);\n  return cMap;\n};",null]}