{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"shop-sold-course-info-small-course\"],{6503:function(t,n,s){\"use strict\";s.r(n),s.d(n,\"InfoService\",(function(){return d}));var o,e,i=s(\"d225\"),a=s(\"b0b4\"),r=s(\"9ab4\"),c=s(\"0cd5\"),l=s(\"df29\"),f=s(\"64d2\"),u=s(\"c4cc\"),_=s(\"2cbb\"),d=function(){function t(n,s){Object(i[\"a\"])(this,t),this.smallCourseApi=n,this.authService=s,this.info$=new l[\"d\"]({}),this.id=\"\",this.loading$=new l[\"d\"]({}),this.auth$=new l[\"d\"]({}),this.authTabs$=this.authService.getAuthTabs$(\"shop-sold-course-info-small-course-info\",{withQuery:[\"id\"]})}return Object(a[\"a\"])(t,[{key:\"getInfo\",value:function(t){var n=this;return this.smallCourseApi.getSmallCourseInfo(t).pipe(Object(u[\"a\"])((function(t){n.info$.commit((function(){return t.info})),n.auth$.commit((function(){return t.auth}))})))}},{key:\"beforeEach\",value:function(t){return this.id=t.meta.query.id,this.getInfo(t.meta.query.id)}}]),t}();d=Object(r[\"b\"])([Object(c[\"b\"])(),Object(r[\"d\"])(\"design:paramtypes\",[\"function\"===typeof(o=\"undefined\"!==typeof f[\"a\"]&&f[\"a\"])?o:Object,\"function\"===typeof(e=\"undefined\"!==typeof _[\"a\"]&&_[\"a\"])?e:Object])],d)},ac9c:function(t,n,s){\"use strict\";s.r(n);var o=function(){var t=this,n=t.$createElement,s=t._self._c||n;return s(\"st-panel-layout\",{class:t.basic()},[s(\"st-panel\",{attrs:{title:t.$c(\"small_course\")+\"详情\"}},[s(\"div\",{attrs:{slot:\"actions\"},slot:\"actions\"},[s(\"st-btn-actions\",{attrs:{options:t.btnOptions}})],1),s(\"a-row\",{attrs:{gutter:24}},[s(\"a-col\",{attrs:{span:9}},[s(\"st-info\",[s(\"st-info-item\",{attrs:{label:\"课程名称\"}},[t._v(\"\\n            \"+t._s(t.info.course_name)+\"\\n          \")]),s(\"st-info-item\",{attrs:{label:\"类型\"}},[t._v(t._s(t.info.type))]),s(\"st-info-item\",{attrs:{label:\"剩余课时\"}},[t._v(\"\\n            \"+t._s(t.info.last_course_num)+\"节\\n          \")]),s(\"st-info-item\",{attrs:{label:\"购买课时\"}},[t._v(\"\\n            \"+t._s(t.info.init_course_num)+\"节\\n          \")]),s(\"st-info-item\",{attrs:{label:\"班级时间\"}},[t._v(\"\\n            \"+t._s(t.info.course_begin_time)+\" 至 \"+t._s(t.info.course_end_time)+\"\\n          \")])],1)],1),s(\"a-col\",{attrs:{span:9}},[s(\"st-info\",[s(\"st-info-item\",{attrs:{label:\"所属会员\"}},[t._v(\"\\n            \"+t._s(t.info.member_name)+\"\\n          \")]),1===t.info.is_minors?[s(\"st-info-item\",{attrs:{label:\"家长手机号\"}},[t._v(\"\\n              \"+t._s(t.info.parent_mobile)+\"\\n            \")]),s(\"st-info-item\",{attrs:{label:\"家长姓名\"}},[t._v(\"\\n              \"+t._s(t.info.parent_name)+\"(\"+t._s(t.info.parent_user_role)+\")\\n            \")])]:[s(\"st-info-item\",{attrs:{label:\"手机号\"}},[t._v(\"\\n              \"+t._s(t.info.mobile)+\"\\n            \")])],s(\"st-info-item\",{attrs:{label:\"订单号\"}},[t._v(\"\\n            \"+t._s(t.info.order_id)+\"\\n          \")]),s(\"st-info-item\",{attrs:{label:\"合同编号\"}},[t._v(\"\\n            \"+t._s(t.info.contract_number)+\"\\n          \")])],2)],1),s(\"a-col\",{attrs:{span:6}},[s(\"st-info\",[s(\"st-info-item\",{attrs:{label:\"允许转让\"}},[t._v(\"\\n            \"+t._s(t.info.is_transfer)+\"\\n          \")]),s(\"st-info-item\",{attrs:{label:\"转让手续费\"}},[t._v(\"\\n            \"+t._s(t.info.transfer_num)+t._s(t.info.transfer_fee)+\"\\n          \")]),s(\"st-info-item\",{attrs:{label:\"当前状态\"}},[t._v(\"\\n            \"+t._s(t.info.course_status)+\"\\n          \")]),s(\"st-info-item\",{attrs:{label:\"订单状态\"}},[t._v(\"\\n            \"+t._s(t.info.order_status)+\"\\n          \")])],1)],1),s(\"a-col\",{attrs:{span:24}},[s(\"st-info\",[s(\"st-info-item\",{staticClass:\"mg-b0\",attrs:{label:\"备注\"}},[t._v(\"\\n            \"+t._s(t.info.description||\"无\")+\"\\n          \")])],1)],1)],1)],1),s(\"st-panel\",{staticClass:\"mg-t12\",attrs:{app:\"\",tabs:t.authTabs}},[s(\"router-view\")],1)],1)},e=[],i=s(\"6503\"),a=function(t){return[{if:t.auth[\"shop:sold:sold_small_class_course|export_contract\"],text:\"查看合同\",click:t.toContract},{if:t.auth[\"shop:sold:sold_small_class_course|transfer\"],text:\"转让\",click:t.onTransfer},{if:t.auth[\"shop:sold:sold_small_class_course|exchange\"],text:\"换班\",click:t.onChangeSmallCourse},{if:t.auth[\"shop:product:small_class_course|refund\"],text:\"退款\",click:t.onRefund},{text:\"修改合同备注\",click:t.onEditContractDescription,if:t.auth[\"shop:sold:sold_small_class_course|edit_contract_remark\"]},{text:\"对内备注\",click:t.onInternalNote,if:t.auth[\"shop:sold:sold_small_class_course|internal_description\"]}]},r=s(\"3bd1\"),c=s(\"c262\"),l=s(\"1687\"),f={name:\"PageShopSoldSmallCourseInfo\",bem:{basic:\"page-shop-sold-info\"},serviceInject:function(){return{infoService:i[\"InfoService\"]}},rxState:function(){return{info:this.infoService.info$,authTabs:this.infoService.authTabs$,auth:this.infoService.auth$}},beforeCreate:function(){var t=this;this.smallCourseActions.$on(\"refresh\",(function(n){t.$router.reload()}))},hooks:function(){return{smallCourseActions:Object(r[\"a\"])(),internalNoteActions:Object(c[\"a\"])(),contractActions:Object(l[\"a\"])(this)}},computed:{btnOptions:a},methods:{toContract:function(){var t=this.info,n=\"\".concat(window.location.origin,\"/common/contract-preview?id=\").concat(t.order_id);window.open(n)},onTransfer:function(){this.smallCourseActions.onTrasnfer({id:this.$searchQuery.id})},onChangeSmallCourse:function(){this.smallCourseActions.onChangeSmallCourse({id:this.$searchQuery.id})},onRefund:function(){this.smallCourseActions.onRefund({id:this.$searchQuery.id})},onInternalNote:function(){this.internalNoteActions.onOpenModal({id:this.infoService.id})},onEditContractDescription:function(){var t=this.info,n=t.order_id,s=t.description;this.contractActions.editDescription({order_id:n,description:s})}}},u=f,_=s(\"2877\"),d=Object(_[\"a\"])(u,o,e,!1,null,null,null);n[\"default\"]=d.exports}}]);","extractedComments":[]}