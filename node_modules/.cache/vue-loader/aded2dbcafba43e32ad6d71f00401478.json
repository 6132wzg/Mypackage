{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/setting/mina/components#/h5/h5-my.component.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/setting/mina/components#/h5/h5-my.component.vue","mtime":1600926556209},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  props: {\n    moduleDatas: {\n      type: Array,\n      default: function() {\n        return []\n      }\n    },\n    sortListParent: {\n      type: Array,\n      default: function() {\n        return []\n      }\n    },\n    // true-动态数据（我的页面），false-静态数据（tabbar页面）\n    isMy: {\n      type: Boolean,\n      default: true\n    },\n    selectIndex: {\n      type: [String, Number],\n      default: -1\n    },\n    // 累计上课隐藏\n    courseHide: {\n      type: Boolean,\n      default: true\n    }\n  },\n  bem: {\n    h5Reserve: 'h5-my'\n  },\n  data() {\n    return {\n      // activeTab: 0,\n      // 0-会员资产、1-累计上课、2-更多服务\n      checkSelect: 0,\n      assetsData: [],\n      courseData: {},\n      serviceData: [],\n      sortList: [],\n      serviceTitle: ''\n    }\n  },\n  watch: {\n    selectIndex: {\n      handler(val) {\n        console.log('selectIndex--', val)\n        this.checkSelect = val\n      },\n      deep: true,\n      immediate: true\n    },\n    courseList(val) {\n      if (val.length > 0) {\n        this.activeTab = val[0].type\n      }\n    },\n    sortListParent: {\n      handler(val) {\n        console.log(111111, val)\n        if (val.length === 0) return\n        this.sortList = JSON.parse(JSON.stringify(val))\n        console.log(3333, this.sortList)\n      },\n      deep: true,\n      immediate: true\n    },\n    moduleDatas: {\n      handler(val) {\n        console.log('isMy---', this.isMy)\n        if (this.isMy) {\n          if (val.length > 0) {\n            console.log('val-----', val)\n            let assetsData = JSON.parse(JSON.stringify(val[0].content.list))\n            this.assetsData = assetsData\n            this.sortList = []\n            val.forEach((ele, i) => {\n              if (i > 0) {\n                this.sortList.push({ module_tag: ele.module_tag })\n              }\n              if (ele.module_tag === 'total_course') {\n                this.courseData = {\n                  module_name: ele.module_name,\n                  exercise_title: ele.content.exercise_title,\n                  image_url: ele.content.image.image_url,\n                  module_is_display: ele.module_is_display\n                }\n                console.log('1---', ele, ele.module_is_display)\n              } else if (ele.module_tag === 'more_service') {\n                this.serviceData = ele.content.list\n                this.serviceTitle = ele.module_name\n              }\n            })\n            console.log('122---', this.sortList)\n          }\n        } else {\n          const assetsData = [\n            {\n              default_title: '私教课',\n              title: '私教课',\n              type: 'my_personal',\n              is_display: 1,\n              number: 8\n            },\n            {\n              default_title: '课程包',\n              title: '课程包',\n              type: 'my_package',\n              is_display: 1,\n              number: 2\n            },\n            {\n              default_title: '小班课',\n              title: '小班课',\n              type: 'my_small_course',\n              is_display: 1,\n              number: 0\n            },\n            {\n              default_title: '卡包',\n              title: '卡包',\n              type: 'my_card',\n              is_display: 1,\n              number: 0\n            }\n          ]\n          const serviceData = [\n            {\n              title: '预约日程',\n              type: 'reserve_calendar',\n              icon_path:\n                'https://styd-frontend.oss-cn-shanghai.aliyuncs.com/images/my-options-reserve_calendar.png',\n              is_display: 1\n            },\n            {\n              title: '我的订单',\n              icon_path:\n                'https://styd-frontend.oss-cn-shanghai.aliyuncs.com/images/my-options-my_order.png',\n              type: 'my_order',\n              is_display: 1\n            },\n            {\n              title: '我的拼团',\n              icon_path:\n                'https://styd-frontend.oss-cn-shanghai.aliyuncs.com/images/my-options-group_order.png',\n              type: 'group_order',\n              is_display: 1\n            },\n            {\n              title: '我的优惠券',\n              icon_path:\n                'https://styd-frontend.oss-cn-shanghai.aliyuncs.com/images/my-options-my_coupon.png',\n              type: 'my_coupon',\n              is_display: 1\n            },\n            {\n              title: '我的票券',\n              icon_path:\n                'https://styd-frontend.oss-cn-shanghai.aliyuncs.com/images/my-options-my_ticket.png',\n              type: 'my_ticket',\n              is_display: 1\n            },\n            {\n              title: '我的兑换券',\n              icon_path:\n                'https://styd-frontend.oss-cn-shanghai.aliyuncs.com/images/my-options-exchange_certificate.png',\n              type: 'exchange_certificate',\n              is_display: 1\n            },\n            {\n              title: '我的储物柜',\n              icon_path:\n                'https://styd-frontend.oss-cn-shanghai.aliyuncs.com/images/my-options-my_cabinet.png',\n              type: 'my_cabinet',\n              is_display: 1\n            },\n            {\n              title: '分享有礼',\n              icon_path:\n                'https://styd-frontend.oss-cn-shanghai.aliyuncs.com/images/my-options-action_share.png',\n              type: 'action_share',\n              is_display: 1\n            },\n            {\n              title: '收货地址',\n              icon_path:\n                'https://styd-frontend.oss-cn-shanghai.aliyuncs.com/images/my-options-my_address.png',\n              type: 'my_address',\n              is_display: 1\n            },\n            {\n              title: '门店跑步机',\n              icon_path:\n                'https://styd-frontend.oss-cn-shanghai.aliyuncs.com/images/my-options-shop_treadmill.png',\n              type: 'shop_treadmill',\n              is_display: 1\n            }\n          ]\n          const courseData = {\n            module_name: '累计上课',\n            exercise_title: '已运动',\n            image_url:\n              'https://styd-frontend.oss-cn-shanghai.aliyuncs.com/images/my_user_duration.png',\n            module_is_display: 1\n          }\n          const sortList = [\n            {\n              module_tag: 'total_course'\n            },\n            {\n              module_tag: 'more_service'\n            }\n          ]\n          this.courseData = courseData\n          this.assetsData = assetsData\n          this.serviceData = serviceData\n          this.sortList = sortList\n          this.serviceTitle = '更多服务'\n        }\n      },\n      deep: true,\n      immediate: true\n    }\n  },\n  methods: {\n    changeTab(li) {\n      this.activeTab = li.type\n    },\n    tapSlide(index) {\n      if (!this.imMy) {\n        console.log('-----', index)\n        this.$emit('tapSlide', index)\n      }\n    }\n  }\n}\n",{"version":3,"sources":["h5-my.component.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"h5-my.component.vue","sourceRoot":"src/views/pages/brand/setting/mina/components#/h5","sourcesContent":["<template>\n  <div :class=\"h5Reserve()\">\n    <div :class=\"h5Reserve('title')\"></div>\n    <div :class=\"h5Reserve('bg')\"></div>\n    <div :class=\"h5Reserve('info__user')\">\n      <img\n        src=\"https://styd-frontend.oss-cn-shanghai.aliyuncs.com/images/avatar.png\"\n        :class=\"h5Reserve('account__img')\"\n      />\n      <div :class=\"h5Reserve('account')\">\n        <div :class=\"h5Reserve('account__nickname')\">\n          <div class=\"nickname\">\n            会员名称\n          </div>\n        </div>\n        <div :class=\"h5Reserve('account__phone')\">\n          <st-icon\n            type=\"bind-phone\"\n            calss=\"phone__icon\"\n            color=\"#222\"\n            size=\"22px\"\n          />\n          188****0686\n        </div>\n      </div>\n    </div>\n    <!-- 会员资产 -->\n    <div\n      :class=\"[\n        'info__assets',\n        'modal-box',\n        isMy && checkSelect == 0 ? 'border-select' : ''\n      ]\"\n    >\n      <div\n        :class=\"['info__assets__wrap', isMy ? 'h5-my--cursor-pointer' : '']\"\n        @click=\"tapSlide(0)\"\n      >\n        <div\n          class=\"info__assets--item\"\n          v-for=\"item in assetsData\"\n          :key=\"item.default_title\"\n          v-show=\"item.is_display\"\n        >\n          <div class=\"item__main\">\n            <div class=\"item__main--number\">\n              {{ item.asset || item.number || 0 }}\n            </div>\n            <div class=\"item__main--label\">\n              {{ item.title || item.default_title }}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div v-for=\"(item, index) in sortList\" :key=\"item.module_tag\">\n      <template\n        v-if=\"\n          item.module_tag === 'total_course' && courseData.module_is_display\n        \"\n      >\n        <!-- 累计上课 -->\n        <div :class=\"h5Reserve('space')\"></div>\n        <div\n          v-show=\"courseData.module_is_display\"\n          :class=\"\n            h5Reserve({\n              course: true,\n              'modal-box': true,\n              'cursor-pointer': isMy,\n              'border-select': courseHide && isMy && checkSelect == index + 1\n            })\n          \"\n          @click=\"tapSlide(index + 1)\"\n        >\n          <div :class=\"h5Reserve('course__wrap')\">\n            <img :src=\"courseData.image_url\" class=\"course_bg\" />\n            <div :class=\"h5Reserve('course__content')\">\n              <div :class=\"h5Reserve('course__title')\">\n                {{ courseData.module_name }}\n              </div>\n              <div :class=\"h5Reserve('course__desc')\">\n                <span class=\"time\">162</span>\n                分钟，本周{{ courseData.exercise_title }} 0 分钟\n              </div>\n            </div>\n            <div :class=\"h5Reserve('course--tips')\">\n              您预约的 空中瑜伽课 还有 18 分钟就要开始啦~\n            </div>\n          </div>\n        </div>\n      </template>\n      <template v-if=\"item.module_tag === 'more_service'\">\n        <!-- 更多服务 -->\n        <div :class=\"h5Reserve('space')\"></div>\n        <div\n          :class=\"\n            h5Reserve({\n              service: true,\n              'cursor-pointer': isMy,\n              'modal-box': true,\n              'border-select': isMy && checkSelect == index + 1\n            })\n          \"\n          @click=\"tapSlide(index + 1)\"\n        >\n          <div :class=\"h5Reserve('service__wrap')\">\n            <p :class=\"h5Reserve('service__title')\">\n              {{ serviceTitle }}\n            </p>\n            <div :class=\"h5Reserve('service__content__wrap')\">\n              <div\n                :class=\"h5Reserve('service__content')\"\n                v-for=\"(item, index) in serviceData\"\n                :key=\"index\"\n                v-show=\"item.is_display\"\n              >\n                <div :class=\"h5Reserve('service__icon')\">\n                  <img :src=\"item.icon_path\" class=\"service__img\" />\n                </div>\n                <div :class=\"h5Reserve('service__name')\">\n                  {{ item.title }}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </template>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  props: {\n    moduleDatas: {\n      type: Array,\n      default: function() {\n        return []\n      }\n    },\n    sortListParent: {\n      type: Array,\n      default: function() {\n        return []\n      }\n    },\n    // true-动态数据（我的页面），false-静态数据（tabbar页面）\n    isMy: {\n      type: Boolean,\n      default: true\n    },\n    selectIndex: {\n      type: [String, Number],\n      default: -1\n    },\n    // 累计上课隐藏\n    courseHide: {\n      type: Boolean,\n      default: true\n    }\n  },\n  bem: {\n    h5Reserve: 'h5-my'\n  },\n  data() {\n    return {\n      // activeTab: 0,\n      // 0-会员资产、1-累计上课、2-更多服务\n      checkSelect: 0,\n      assetsData: [],\n      courseData: {},\n      serviceData: [],\n      sortList: [],\n      serviceTitle: ''\n    }\n  },\n  watch: {\n    selectIndex: {\n      handler(val) {\n        console.log('selectIndex--', val)\n        this.checkSelect = val\n      },\n      deep: true,\n      immediate: true\n    },\n    courseList(val) {\n      if (val.length > 0) {\n        this.activeTab = val[0].type\n      }\n    },\n    sortListParent: {\n      handler(val) {\n        console.log(111111, val)\n        if (val.length === 0) return\n        this.sortList = JSON.parse(JSON.stringify(val))\n        console.log(3333, this.sortList)\n      },\n      deep: true,\n      immediate: true\n    },\n    moduleDatas: {\n      handler(val) {\n        console.log('isMy---', this.isMy)\n        if (this.isMy) {\n          if (val.length > 0) {\n            console.log('val-----', val)\n            let assetsData = JSON.parse(JSON.stringify(val[0].content.list))\n            this.assetsData = assetsData\n            this.sortList = []\n            val.forEach((ele, i) => {\n              if (i > 0) {\n                this.sortList.push({ module_tag: ele.module_tag })\n              }\n              if (ele.module_tag === 'total_course') {\n                this.courseData = {\n                  module_name: ele.module_name,\n                  exercise_title: ele.content.exercise_title,\n                  image_url: ele.content.image.image_url,\n                  module_is_display: ele.module_is_display\n                }\n                console.log('1---', ele, ele.module_is_display)\n              } else if (ele.module_tag === 'more_service') {\n                this.serviceData = ele.content.list\n                this.serviceTitle = ele.module_name\n              }\n            })\n            console.log('122---', this.sortList)\n          }\n        } else {\n          const assetsData = [\n            {\n              default_title: '私教课',\n              title: '私教课',\n              type: 'my_personal',\n              is_display: 1,\n              number: 8\n            },\n            {\n              default_title: '课程包',\n              title: '课程包',\n              type: 'my_package',\n              is_display: 1,\n              number: 2\n            },\n            {\n              default_title: '小班课',\n              title: '小班课',\n              type: 'my_small_course',\n              is_display: 1,\n              number: 0\n            },\n            {\n              default_title: '卡包',\n              title: '卡包',\n              type: 'my_card',\n              is_display: 1,\n              number: 0\n            }\n          ]\n          const serviceData = [\n            {\n              title: '预约日程',\n              type: 'reserve_calendar',\n              icon_path:\n                'https://styd-frontend.oss-cn-shanghai.aliyuncs.com/images/my-options-reserve_calendar.png',\n              is_display: 1\n            },\n            {\n              title: '我的订单',\n              icon_path:\n                'https://styd-frontend.oss-cn-shanghai.aliyuncs.com/images/my-options-my_order.png',\n              type: 'my_order',\n              is_display: 1\n            },\n            {\n              title: '我的拼团',\n              icon_path:\n                'https://styd-frontend.oss-cn-shanghai.aliyuncs.com/images/my-options-group_order.png',\n              type: 'group_order',\n              is_display: 1\n            },\n            {\n              title: '我的优惠券',\n              icon_path:\n                'https://styd-frontend.oss-cn-shanghai.aliyuncs.com/images/my-options-my_coupon.png',\n              type: 'my_coupon',\n              is_display: 1\n            },\n            {\n              title: '我的票券',\n              icon_path:\n                'https://styd-frontend.oss-cn-shanghai.aliyuncs.com/images/my-options-my_ticket.png',\n              type: 'my_ticket',\n              is_display: 1\n            },\n            {\n              title: '我的兑换券',\n              icon_path:\n                'https://styd-frontend.oss-cn-shanghai.aliyuncs.com/images/my-options-exchange_certificate.png',\n              type: 'exchange_certificate',\n              is_display: 1\n            },\n            {\n              title: '我的储物柜',\n              icon_path:\n                'https://styd-frontend.oss-cn-shanghai.aliyuncs.com/images/my-options-my_cabinet.png',\n              type: 'my_cabinet',\n              is_display: 1\n            },\n            {\n              title: '分享有礼',\n              icon_path:\n                'https://styd-frontend.oss-cn-shanghai.aliyuncs.com/images/my-options-action_share.png',\n              type: 'action_share',\n              is_display: 1\n            },\n            {\n              title: '收货地址',\n              icon_path:\n                'https://styd-frontend.oss-cn-shanghai.aliyuncs.com/images/my-options-my_address.png',\n              type: 'my_address',\n              is_display: 1\n            },\n            {\n              title: '门店跑步机',\n              icon_path:\n                'https://styd-frontend.oss-cn-shanghai.aliyuncs.com/images/my-options-shop_treadmill.png',\n              type: 'shop_treadmill',\n              is_display: 1\n            }\n          ]\n          const courseData = {\n            module_name: '累计上课',\n            exercise_title: '已运动',\n            image_url:\n              'https://styd-frontend.oss-cn-shanghai.aliyuncs.com/images/my_user_duration.png',\n            module_is_display: 1\n          }\n          const sortList = [\n            {\n              module_tag: 'total_course'\n            },\n            {\n              module_tag: 'more_service'\n            }\n          ]\n          this.courseData = courseData\n          this.assetsData = assetsData\n          this.serviceData = serviceData\n          this.sortList = sortList\n          this.serviceTitle = '更多服务'\n        }\n      },\n      deep: true,\n      immediate: true\n    }\n  },\n  methods: {\n    changeTab(li) {\n      this.activeTab = li.type\n    },\n    tapSlide(index) {\n      if (!this.imMy) {\n        console.log('-----', index)\n        this.$emit('tapSlide', index)\n      }\n    }\n  }\n}\n</script>\n"]}]}