{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/setting/mina/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/setting/mina/index.vue","mtime":1600926556236},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { IndexService } from \"./index.service\";\nimport UnAuthComponent from \"./components#/unauth.component\";\nimport InfoComponent from \"./components#/info.component\";\nimport H5WrapperComponent from \"./components#/h5/h5-wrapper.component\";\nexport default {\n  name: 'BrandSettingMinaIndex',\n  components: {\n    UnAuthComponent: UnAuthComponent,\n    InfoComponent: InfoComponent,\n    H5WrapperComponent: H5WrapperComponent\n  },\n  bem: {\n    basic: 'brand-setting-mina-index'\n  },\n  serviceInject: function serviceInject() {\n    return {\n      indexService: IndexService\n    };\n  },\n  rxState: function rxState() {\n    return {\n      info: this.indexService.info$\n    };\n  },\n  data: function data() {\n    return {\n      flag: false\n    };\n  },\n  mounted: function mounted() {\n    var that = this;\n\n    window.onbeforeunload = function () {\n      if (that.$route.path === '/brand/setting/mina/index') {\n        if (that.flag) {\n          return '此时离开将丢失已编辑的内容，是否确认离开？';\n        }\n      } else {\n        window.onbeforeunload = null;\n      }\n    };\n  },\n  destroyed: function destroyed() {\n    window.onbeforeunload = null;\n  },\n  methods: {\n    goLink: function goLink(url) {\n      window.open(url);\n    },\n    wrapperEdit: function wrapperEdit(flag) {\n      this.flag = flag;\n    }\n  },\n  beforeRouteLeave: function beforeRouteLeave(to, from, next) {\n    var _this = this;\n\n    if (this.flag) {\n      this.$confirm({\n        title: '确定要离开？',\n        content: '此时离开将丢失已编辑的内容，是否确认离开？',\n        onOk: function onOk() {\n          _this.flag = false;\n          next();\n        }\n      });\n    } else {\n      next();\n    }\n  }\n};",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;AAaA,SAAA,YAAA;AACA,OAAA,eAAA;AACA,OAAA,aAAA;AACA,OAAA,kBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,uBADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,eAAA,EAAA,eADA;AAEA,IAAA,aAAA,EAAA,aAFA;AAGA,IAAA,kBAAA,EAAA;AAHA,GAFA;AAOA,EAAA,GAAA,EAAA;AACA,IAAA,KAAA,EAAA;AADA,GAPA;AAUA,EAAA,aAVA,2BAUA;AACA,WAAA;AACA,MAAA,YAAA,EAAA;AADA,KAAA;AAGA,GAdA;AAeA,EAAA,OAfA,qBAeA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,KAAA,YAAA,CAAA;AADA,KAAA;AAGA,GAnBA;AAoBA,EAAA,IApBA,kBAoBA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AADA,KAAA;AAGA,GAxBA;AAyBA,EAAA,OAzBA,qBAyBA;AACA,QAAA,IAAA,GAAA,IAAA;;AACA,IAAA,MAAA,CAAA,cAAA,GAAA,YAAA;AACA,UAAA,IAAA,CAAA,MAAA,CAAA,IAAA,KAAA,2BAAA,EAAA;AACA,YAAA,IAAA,CAAA,IAAA,EAAA;AACA,iBAAA,uBAAA;AACA;AACA,OAJA,MAIA;AACA,QAAA,MAAA,CAAA,cAAA,GAAA,IAAA;AACA;AACA,KARA;AASA,GApCA;AAqCA,EAAA,SArCA,uBAqCA;AACA,IAAA,MAAA,CAAA,cAAA,GAAA,IAAA;AACA,GAvCA;AAwCA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,kBACA,GADA,EACA;AACA,MAAA,MAAA,CAAA,IAAA,CAAA,GAAA;AACA,KAHA;AAIA,IAAA,WAJA,uBAIA,IAJA,EAIA;AACA,WAAA,IAAA,GAAA,IAAA;AACA;AANA,GAxCA;AAgDA,EAAA,gBAhDA,4BAgDA,EAhDA,EAgDA,IAhDA,EAgDA,IAhDA,EAgDA;AAAA;;AACA,QAAA,KAAA,IAAA,EAAA;AACA,WAAA,QAAA,CAAA;AACA,QAAA,KAAA,EAAA,QADA;AAEA,QAAA,OAAA,EAAA,uBAFA;AAGA,QAAA,IAAA,EAAA,gBAAA;AACA,UAAA,KAAA,CAAA,IAAA,GAAA,KAAA;AACA,UAAA,IAAA;AACA;AANA,OAAA;AAQA,KATA,MASA;AACA,MAAA,IAAA;AACA;AACA;AA7DA,CAAA","sourcesContent":["<template>\n  <div :class=\"basic()\">\n    <info-component :data=\"info\"></info-component>\n    <div :class=\"basic('content', { unauth: info.is_auth === 0 })\">\n      <un-auth-component\n        v-if=\"info.is_auth === 0\"\n        :url=\"info.auth_url\"\n      ></un-auth-component>\n      <h5-wrapper-component v-else @change=\"wrapperEdit\"></h5-wrapper-component>\n    </div>\n  </div>\n</template>\n<script>\nimport { IndexService } from './index.service'\nimport UnAuthComponent from './components#/unauth.component'\nimport InfoComponent from './components#/info.component'\nimport H5WrapperComponent from './components#/h5/h5-wrapper.component'\nexport default {\n  name: 'BrandSettingMinaIndex',\n  components: {\n    UnAuthComponent,\n    InfoComponent,\n    H5WrapperComponent\n  },\n  bem: {\n    basic: 'brand-setting-mina-index'\n  },\n  serviceInject() {\n    return {\n      indexService: IndexService\n    }\n  },\n  rxState() {\n    return {\n      info: this.indexService.info$\n    }\n  },\n  data() {\n    return {\n      flag: false\n    }\n  },\n  mounted() {\n    let that = this\n    window.onbeforeunload = function() {\n      if (that.$route.path === '/brand/setting/mina/index') {\n        if (that.flag) {\n          return '此时离开将丢失已编辑的内容，是否确认离开？'\n        }\n      } else {\n        window.onbeforeunload = null\n      }\n    }\n  },\n  destroyed() {\n    window.onbeforeunload = null\n  },\n  methods: {\n    goLink(url) {\n      window.open(url)\n    },\n    wrapperEdit(flag) {\n      this.flag = flag\n    }\n  },\n  beforeRouteLeave(to, from, next) {\n    if (this.flag) {\n      this.$confirm({\n        title: '确定要离开？',\n        content: '此时离开将丢失已编辑的内容，是否确认离开？',\n        onOk: () => {\n          this.flag = false\n          next()\n        }\n      })\n    } else {\n      next()\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/views/pages/brand/setting/mina"}]}