{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/biz-modals/schedule/batch/course-rank-preview.vue?vue&type=template&id=b6e1b09a&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/biz-modals/schedule/batch/course-rank-preview.vue","mtime":1595230476659},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":1591062572376},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["\n<st-modal\n  :title=\"`${type === 'small' ? '私教小' : ''}团课批量排期预览`\"\n  v-model=\"show\"\n  width=\"1160px\"\n>\n  <template slot=\"footer\">\n    <a-tooltip\n      placement=\"topRight\"\n      title=\"关闭后课程排期不再保留\"\n      overlayClassName=\"modal-schedule-batch-course-rank-preview-tooltip\"\n    >\n      <st-button @click=\"show = false\">关闭</st-button>\n    </a-tooltip>\n    <st-button\n      type=\"primary\"\n      @click=\"save\"\n      :loading=\"\n        type === 'team' ? loading.validTeamBatch : loading.validSmallBatch\n      \"\n    >\n      确认\n    </st-button>\n  </template>\n  <div :class=\"basic()\">\n    <div :class=\"basic('title')\">\n      <p :class=\"basic('title--show')\">\n        <span class=\"mg-r16\">\n          总排课数：{{\n            dataTable.amount ? dataTable.amount : 0\n          }}节&nbsp;&nbsp;&nbsp;\n        </span>\n        冲突节数：\n        <span :class=\"basic('title--high')\">{{ amountValid }}节</span>\n      </p>\n      <a-radio-group :value=\"courseType\" @change=\"handleSizeChange\">\n        <a-radio-button value=\"all\">全部课程</a-radio-button>\n        <a-radio-button value=\"part\">冲突课程</a-radio-button>\n      </a-radio-group>\n    </div>\n    <div :class=\"basic('table-box')\" class=\"mg-t16\">\n      <st-table\n        rowKey=\"id\"\n        :pagination=\"false\"\n        :columns=\"columns\"\n        :dataSource=\"courseSchedule\"\n      >\n        <template slot=\"week_day\" slot-scope=\"customRender\">\n          <div :class=\"customRender.valid ? 'color_red' : ''\">\n            {{ weekDays[customRender.data] }}\n          </div>\n        </template>\n        <template slot=\"course_id\" slot-scope=\"customRender, record, index\">\n          <!-- 选择课程 -->\n          <a-select\n            v-if=\"record.isEdit\"\n            placeholder=\"请选择课程\"\n            v-model=\"record.course_id_label\"\n            style=\"width: 100px\"\n            labelInValue\n            @change=\"e => handleChange(e, index, 'course_id', record)\"\n          >\n            <a-select-option v-for=\"course in courseOptions\" :key=\"course.id\">\n              {{ type === 'team' ? course.course_name : course.name }}\n            </a-select-option>\n          </a-select>\n          <div :class=\"customRender.valid ? 'color_red' : ''\" v-else>\n            {{ customRender.name }}\n          </div>\n        </template>\n        <!-- 选择时间 -->\n        <template slot=\"start_time\" slot-scope=\"customRender, record, index\">\n          <a-date-picker\n            v-if=\"record.isEdit\"\n            :showTime=\"{ format: 'HH:mm' }\"\n            format=\"YYYY-MM-DD HH:mm\"\n            placeholder=\"请选择时间\"\n            style=\"width: 156px\"\n            :allowClear=\"false\"\n            :value=\"customRender.data | formatDate\"\n            @change=\"e => handleChangeTime(e, index, 'start_time', record)\"\n          />\n          <div :class=\"customRender.valid ? 'color_red' : ''\" v-else>\n            {{ customRender.data }}\n          </div>\n        </template>\n        <!-- 选择教练 -->\n        <template slot=\"coach_id\" slot-scope=\"customRender, record, index\">\n          <a-select\n            v-if=\"record.isEdit\"\n            :placeholder=\"`请选择${$c('coach')}`\"\n            v-model=\"record.coach_id_label\"\n            labelInValue\n            @change=\"e => handleChange(e, index, 'coach_id', record)\"\n            style=\"width: 100px\"\n          >\n            <a-select-option v-for=\"coach in coachOptions\" :key=\"coach.id\">\n              {{ type === 'team' ? coach.staff_name : coach.name }}\n            </a-select-option>\n          </a-select>\n          <div :class=\"customRender.valid ? 'color_red' : ''\" v-else>\n            {{ customRender.name }}\n          </div>\n        </template>\n        <!-- 选择场地 -->\n        <template\n          slot=\"court_id\"\n          v-if=\"type === 'team'\"\n          slot-scope=\"customRender, record, index\"\n        >\n          <a-cascader\n            v-if=\"record.isEdit\"\n            placeholder=\"请选择场地\"\n            v-model=\"record.site_id\"\n            :options=\"courtOptions\"\n            labelInValue\n            @change=\"e => courtChange(e, index, record)\"\n            :fieldNames=\"{ label: 'name', value: 'id', children: 'children' }\"\n          />\n          <div\n            :class=\"\n              record.court_id.valid || record.court_site_id.valid\n                ? 'color_red'\n                : ''\n            \"\n            v-else\n          >\n            {{ record.court_id.name\n            }}{{\n              record.court_site_id.data ? `-${record.court_site_id.name}` : ''\n            }}\n          </div>\n        </template>\n        <template slot=\"limit_num\" slot-scope=\"customRender, record, index\">\n          <st-input-number\n            v-if=\"record.isEdit\"\n            v-model=\"customRender.data\"\n            style=\"width:100px\"\n            @change=\"changeRed(index, record)\"\n          ></st-input-number>\n          <div :class=\"customRender.valid ? 'color_red' : ''\" v-else>\n            {{ customRender.data }}\n          </div>\n        </template>\n        <template slot=\"course_fee\" slot-scope=\"customRender, record, index\">\n          <div v-if=\"record.isEdit\">\n            <st-checkbox\n              v-model=\"record.is_support_reserve_once.data\"\n              @change=\"onSingleReserveChange(index)\"\n            >\n              支持单节付费预约\n            </st-checkbox>\n            <st-input-number\n              v-if=\"record.is_support_reserve_once.data\"\n              v-model=\"customRender.data\"\n              :float=\"true\"\n              @change=\"changeRed(index, record)\"\n              style=\"width: 150px\"\n              class=\"mg-t4\"\n            >\n              <span slot=\"addonAfter\" class=\"addon-width\">元/节</span>\n            </st-input-number>\n          </div>\n          <div :class=\"customRender.valid ? 'color_red' : ''\" v-else>\n            {{\n              record.is_support_reserve_once.data ? customRender.data : '--'\n            }}\n          </div>\n        </template>\n        <template slot=\"action\" slot-scope=\"customRender, record, index\">\n          <a @click=\"onEditCourse(record.isEdit, index)\" class=\"mg-r16\">\n            {{ record.isEdit ? '保存' : '修改' }}\n          </a>\n          <a @click=\"onDelCourse(index, record)\">删除</a>\n        </template>\n      </st-table>\n    </div>\n    <div :class=\"basic('prompt')\">注：标红部分即为课程冲突信息</div>\n  </div>\n</st-modal>\n",null]}