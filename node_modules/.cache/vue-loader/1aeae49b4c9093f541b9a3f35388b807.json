{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/pages/shop/member/crowd/components#/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/pages/shop/member/crowd/components#/index.vue","mtime":1594718340602},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { MessageService } from '@/services/message.service'\nimport { IndexService } from './index.service'\nimport { CrowdAPI } from '@/api/v1/crowd'\nexport default {\n  serviceInject() {\n    return {\n      messageService: MessageService,\n      crowdAPI: CrowdAPI,\n      aService: IndexService\n    }\n  },\n  rxState() {\n    return {\n      auth: this.aService.auth$\n    }\n  },\n  model: {\n    type: 'value',\n    event: 'dataChangge'\n  },\n  props: {\n    value: Array\n  },\n  data() {\n    return {\n      imgArry: [\n        require('@/assets/img/shop_crowd_new.png'),\n        require('@/assets/img/shop_crowd_expire.png'),\n        require('@/assets/img/shop_crowd_private_teaching.png')\n      ]\n    }\n  },\n  created() {\n    console.log(this.value)\n  },\n  computed: {\n    importantCrowd() {\n      return this.value.slice(0, 3)\n    }\n  },\n  methods: {\n    newCrowd(data) {\n      this.messageService.warn({ content: data })\n    },\n    exportFunc(id) {\n      // this.aService.getListInfo(id).subscribe()\n    },\n    onCrowedRefresh(id) {\n      this.aService.crowdShopRefresh(id).subscribe(res => {\n        this.$router.reload()\n      })\n    }\n  },\n  mounted() {}\n}\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/pages/shop/member/crowd/components#","sourcesContent":["<template>\n  <div>\n    <div class=\"shop-member-crowd-index-box\">\n      <div\n        class=\"shop-member-crowd-index-box-title\"\n        v-for=\"(item, index) in importantCrowd\"\n        :key=\"index\"\n        :class=\"{ middle: index === 1 }\"\n      >\n        <div class=\"shop-member-crowd-index-box__header\">\n          <div class=\"shop-member-crowd-index-box__item\">\n            <img\n              :src=\"imgArry[index]\"\n              class=\"shop-member-crowd-index-box__img\"\n            />\n            <div class=\"shop-member-crowd-index-box__info\">\n              <st-t4 class=\"shop-member-crowd-index-box__info__title\">\n                {{ item.crowd_name }}\n              </st-t4>\n              <div>{{ item.description }}</div>\n            </div>\n          </div>\n          <div class=\"shop-member-crowd-index-box__num\">\n            <div class=\"shop-member-crowd-index-box__num-item\">\n              <div class=\"shop-member-crowd-index-box__number\">\n                {{ item.crowd_total_num.value }}\n              </div>\n              <div class=\"shop-member-crowd-index-box__num-describe\">\n                {{ item.crowd_total_num.name }}\n              </div>\n            </div>\n            <div class=\"shop-member-crowd-index-box__num-item-middel\">\n              <div class=\"shop-member-crowd-index-box__number\">\n                {{ item.yesterday_admission.value }}\n              </div>\n              <div class=\"shop-member-crowd-index-box__num-describe\">\n                {{ item.yesterday_admission.name }}\n              </div>\n            </div>\n            <div class=\"shop-member-crowd-index-box__num-item\">\n              <div class=\"shop-member-crowd-index-box__number\">\n                {{ item.yesterday_deal_numb.value }}\n              </div>\n              <div class=\"shop-member-crowd-index-box__num-describe\">\n                {{ item.yesterday_deal_numb.name }}\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"shop-member-crowd-index-box__btn\">\n          <router-link\n            class=\"shop-member-crowd-index-box__btn-rq shop-member-crowd-index-box__btn-rq-line\"\n            tag=\"span\"\n            :to=\"{\n              name: 'shop-member-crowd-analysis',\n              query: { urlid: index, id: item.id }\n            }\"\n          >\n            人群分析\n          </router-link>\n          <a-dropdown v-if=\"item.auth && item.auth['shop:member:crowd|fresh']\">\n            <span\n              class=\"shop-member-crowd-index-box__btn-rq\"\n              @click=\"onCrowedRefresh(item.id)\"\n            >\n              刷新\n            </span>\n            <a-menu\n              slot=\"overlay\"\n              v-if=\"item.auth && item.auth['shop:member:crowd|export']\"\n            >\n              <a-menu-item style=\"width:100%\">\n                <a v-export-excel=\"{ type: 'crowd/' + item.id }\">\n                  导出\n                </a>\n              </a-menu-item>\n            </a-menu>\n          </a-dropdown>\n          <a-tooltip v-else>\n            <!-- <template slot=\"title\">\n              功能暂未开放\n            </template> -->\n            <span\n              v-if=\"item.auth && item.auth['shop:member:crowd|export']\"\n              v-export-excel=\"{ type: 'crowd/' + item.id }\"\n              class=\"shop-member-crowd-index-box__btn-rq\"\n            >\n              导出\n            </span>\n          </a-tooltip>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { MessageService } from '@/services/message.service'\nimport { IndexService } from './index.service'\nimport { CrowdAPI } from '@/api/v1/crowd'\nexport default {\n  serviceInject() {\n    return {\n      messageService: MessageService,\n      crowdAPI: CrowdAPI,\n      aService: IndexService\n    }\n  },\n  rxState() {\n    return {\n      auth: this.aService.auth$\n    }\n  },\n  model: {\n    type: 'value',\n    event: 'dataChangge'\n  },\n  props: {\n    value: Array\n  },\n  data() {\n    return {\n      imgArry: [\n        require('@/assets/img/shop_crowd_new.png'),\n        require('@/assets/img/shop_crowd_expire.png'),\n        require('@/assets/img/shop_crowd_private_teaching.png')\n      ]\n    }\n  },\n  created() {\n    console.log(this.value)\n  },\n  computed: {\n    importantCrowd() {\n      return this.value.slice(0, 3)\n    }\n  },\n  methods: {\n    newCrowd(data) {\n      this.messageService.warn({ content: data })\n    },\n    exportFunc(id) {\n      // this.aService.getListInfo(id).subscribe()\n    },\n    onCrowedRefresh(id) {\n      this.aService.crowdShopRefresh(id).subscribe(res => {\n        this.$router.reload()\n      })\n    }\n  },\n  mounted() {}\n}\n</script>\n"]}]}