{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/biz-modals/shop/distribution-sale.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/biz-modals/shop/distribution-sale.vue","mtime":1591147717212},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { DistributionSaleService } from \"./distribution-sale.service\";\nimport { MessageService } from '@/services/message.service';\nvar columns = [{\n  title: '会籍销售姓名',\n  dataIndex: 'sale_name',\n  key: 'sale_name'\n}, {\n  dataIndex: 'sign_bill',\n  key: 'sign_bill',\n  slots: {\n    title: 'custom_title'\n  },\n  scopedSlots: {\n    customRender: 'sign_bill'\n  }\n}];\nexport default {\n  name: 'distributionAles',\n  serviceInject: function serviceInject() {\n    return {\n      service: DistributionSaleService,\n      messageService: MessageService\n    };\n  },\n  props: {\n    memberIds: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    saleId: Number\n  },\n  data: function data() {\n    return {\n      selectedRowKeys: [],\n      pagination: {\n        current: 1,\n        pageSize: 10\n      },\n      columns: columns,\n      show: false,\n      list: [],\n      // 列表数据\n      chooseId: ''\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.service.getSaleList().subscribe(function (res) {\n      _this.list = res.list;\n      _this.selectedRowKeys = [_this.saleId];\n      _this.chooseId = _this.saleId;\n    });\n  },\n  methods: {\n    onChange: function onChange(e) {\n      console.log(e.target);\n    },\n    onSelectChange: function onSelectChange(e, itemData) {\n      this.selectedRowKeys = e;\n      this.chooseId = itemData[0].id;\n    },\n    handleTableChange: function handleTableChange(pagination, filters, sorter) {\n      console.log(pagination);\n    },\n    onSearch: function onSearch(e) {\n      var _this2 = this;\n\n      this.service.getSaleList({\n        retrieve: e\n      }).subscribe(function (res) {\n        _this2.list = res.list;\n      });\n    },\n    save: function save() {\n      var _this3 = this;\n\n      console.log('sale', this.chooseId);\n      this.service.addSale({\n        member_ids: this.memberIds,\n        sales_id: this.chooseId\n      }).subscribe(function (res) {\n        _this3.show = false;\n\n        _this3.$emit('success');\n\n        _this3.messageService.success({\n          content: '分配成功'\n        });\n      });\n    }\n  },\n  watch: {}\n};",{"version":3,"sources":["distribution-sale.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <st-modal title=\"分配销售\" @ok=\"save\" v-model=\"show\" size=\"small\">\n    <a-row :gutter=\"8\">\n      <a-col :lg=\"24\" style=\"padding: 0;\">\n        <a-input-search\n          size=\"large\"\n          placeholder=\"搜索会籍销售昵称\"\n          style=\"width: 100%;\"\n          @search=\"onSearch\"\n        />\n      </a-col>\n    </a-row>\n    <a-row :gutter=\"8\">\n      <a-col\n        :lg=\"24\"\n        class=\"distribution-container\"\n        style=\"padding-left:12px;padding-right:12px;\"\n      >\n        <st-table\n          :rowSelection=\"{\n            fixed: true,\n            columnTitle: '分配',\n            type: 'radio',\n            selectedRowKeys: selectedRowKeys,\n            onChange: onSelectChange\n          }\"\n          :columns=\"columns\"\n          :dataSource=\"list\"\n          rowKey=\"id\"\n          @change=\"handleTableChange\"\n          :pagination=\"false\"\n        >\n          <template slot=\"custom_title\">\n            签单率（近30天）\n            <st-help-tooltip id=\"TSYHFP001\" />\n          </template>\n        </st-table>\n      </a-col>\n    </a-row>\n  </st-modal>\n</template>\n<script>\nimport { DistributionSaleService } from './distribution-sale.service'\nimport { MessageService } from '@/services/message.service'\nconst columns = [\n  {\n    title: '会籍销售姓名',\n    dataIndex: 'sale_name',\n    key: 'sale_name'\n  },\n  {\n    dataIndex: 'sign_bill',\n    key: 'sign_bill',\n    slots: { title: 'custom_title' },\n    scopedSlots: { customRender: 'sign_bill' }\n  }\n]\nexport default {\n  name: 'distributionAles',\n  serviceInject() {\n    return {\n      service: DistributionSaleService,\n      messageService: MessageService\n    }\n  },\n  props: {\n    memberIds: {\n      type: Array,\n      default() {\n        return []\n      }\n    },\n    saleId: Number\n  },\n  data() {\n    return {\n      selectedRowKeys: [],\n      pagination: {\n        current: 1,\n        pageSize: 10\n      },\n      columns,\n      show: false,\n      list: [], // 列表数据\n      chooseId: ''\n    }\n  },\n  mounted() {\n    this.service.getSaleList().subscribe(res => {\n      this.list = res.list\n      this.selectedRowKeys = [this.saleId]\n      this.chooseId = this.saleId\n    })\n  },\n  methods: {\n    onChange(e) {\n      console.log(e.target)\n    },\n    onSelectChange(e, itemData) {\n      this.selectedRowKeys = e\n      this.chooseId = itemData[0].id\n    },\n    handleTableChange(pagination, filters, sorter) {\n      console.log(pagination)\n    },\n    onSearch(e) {\n      this.service\n        .getSaleList({\n          retrieve: e\n        })\n        .subscribe(res => {\n          this.list = res.list\n        })\n    },\n    save() {\n      console.log('sale', this.chooseId)\n      this.service\n        .addSale({\n          member_ids: this.memberIds,\n          sales_id: this.chooseId\n        })\n        .subscribe(res => {\n          this.show = false\n          this.$emit('success')\n          this.messageService.success({ content: '分配成功' })\n        })\n    }\n  },\n  watch: {}\n}\n</script>\n"],"sourceRoot":"src/views/biz-modals/shop"}]}