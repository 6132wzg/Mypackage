{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/thread-loader/dist/cjs.js!/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/biz-modals/shop/distribution-coach.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/biz-modals/shop/distribution-coach.vue","mtime":1591147717212},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/thread-loader/dist/cjs.js","mtime":1591062572352},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { DistributionCoachService } from \"./distribution-coach.service\";\nimport { MessageService } from '@/services/message.service';\n\nvar columns = function columns(vm) {\n  return [{\n    title: \"\\u79C1\\u6559\".concat(vm.$c('coach'), \"\\u59D3\\u540D\"),\n    dataIndex: 'coach_name',\n    key: 'coach_name'\n  }, {\n    dataIndex: 'personal_sales',\n    key: 'personal_sales',\n    slots: {\n      title: 'custom_title'\n    },\n    scopedSlots: {\n      customRender: 'personal_sales'\n    }\n  }];\n};\n\nexport default {\n  name: 'distributionCoach',\n  serviceInject: function serviceInject() {\n    return {\n      service: DistributionCoachService,\n      messageService: MessageService\n    };\n  },\n  props: {\n    memberIds: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    coachId: Number\n  },\n  data: function data() {\n    return {\n      show: false,\n      selectedRowKeys: [],\n      pagination: {\n        current: 1,\n        pageSize: 10\n      },\n      list: [],\n      coach_id: ''\n    };\n  },\n  computed: {\n    columns: columns\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.service.getSaleList().subscribe(function (res) {\n      _this.list = res.list;\n      _this.selectedRowKeys = [_this.coachId];\n    });\n  },\n  methods: {\n    handleTableChange: function handleTableChange(pagination, filters, sorter) {\n      console.log(pagination);\n    },\n    onSelectChange: function onSelectChange(e, item) {\n      console.log(this.selectedRowKeys);\n      this.selectedRowKeys = e;\n      this.coach_id = item[0].id;\n    },\n    onSearch: function onSearch(e) {\n      var _this2 = this;\n\n      this.service.getSaleList({\n        retrieve: e\n      }).subscribe(function (res) {\n        console.log(res);\n        _this2.list = res.list;\n      });\n    },\n    save: function save(e) {\n      var _this3 = this;\n\n      this.service.addSale({\n        member_ids: this.memberIds,\n        coach_id: this.coach_id\n      }).subscribe(function (res) {\n        _this3.show = false;\n\n        _this3.$emit('success');\n\n        _this3.messageService.success({\n          content: '分配成功'\n        });\n      });\n    }\n  },\n  created: function created() {\n    this.coach_id = this.coachId;\n  }\n};",null]}