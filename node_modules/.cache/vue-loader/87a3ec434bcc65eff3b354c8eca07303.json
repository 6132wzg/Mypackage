{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/biz-modals/shop/reception/entrance.vue?vue&type=template&id=a8d014cc&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/biz-modals/shop/reception/entrance.vue","mtime":1600926555929},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":1591062572376},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["\n<st-modal\n  :title=\"`${isEntry ? '离场' : '入场'}`\"\n  v-model=\"show\"\n  width=\"800px\"\n  wrapClassName=\"modal-shop-reception-entrance\"\n  @cancel=\"handleClose\"\n>\n  <div class=\"member\">\n    <!-- 会员信息 -->\n    <div class=\"member-info\">\n      <div class=\"member-info-base\">\n        <!-- 头像 -->\n        <div class=\"member-info-base__avatar\">\n          <face-upload\n            width=\"146px\"\n            height=\"146px\"\n            placeholder=\"上传人脸\"\n            @change=\"handlePhotoChange\"\n            :list=\"photoList\"\n            :faceEditAuth=\"auth.editFace\"\n            :actionAuth=\"auth.delFace\"\n          >\n            <div\n              class=\"avatar-tip\"\n              v-if=\"memberType.name\"\n              slot=\"actionContent\"\n            >\n              {{ memberType.name }}\n            </div>\n          </face-upload>\n          <div class=\"avatar-tag\" v-if=\"memberIsBirthday\">\n            <img src=\"~@/assets/img/icon_face_birthday.png\" alt=\"\" />\n          </div>\n        </div>\n        <!-- 基本信息 -->\n        <div class=\"member-info-base__info\">\n          <!-- 姓名,手机号  -->\n          <div class=\"info-bar mg-b8\">\n            <div class=\"name\">\n              {{ memberInfo.member_name }}\n            </div>\n            <div class=\"sex\">\n              <st-icon\n                :type=\"memberInfo.sex === 1 ? 'female' : 'male'\"\n                :style=\"\n                  memberInfo.sex === 1 ? 'color:#FF5E41' : 'color:#3F66F6'\n                \"\n              />\n            </div>\n\n            <div class=\"phone\">\n              {{ memberInfo.mobile }}\n            </div>\n          </div>\n          <!-- 标签 -->\n          <div class=\"info-bar mg-b4\">\n            <div class=\"tag\">\n              <div v-for=\"tag in tags\" :key=\"tag.id\">\n                <a-tooltip :key=\"tag.id\" :title=\"tag.name\">\n                  <a-tag\n                    class=\"tag-item\"\n                    :key=\"tag.name\"\n                    :closable=\"auth.editMember\"\n                    @close=\"handleRemoveTag(tag)\"\n                  >\n                    {{ tag.name }}\n                  </a-tag>\n                </a-tooltip>\n              </div>\n              <a\n                v-modal-link=\"{\n                  name: 'shop-add-lable',\n                  props: {\n                    memberIds: [member_id]\n                  },\n                  on: { success: handleGetMemberInfo }\n                }\"\n              >\n                <a-tag style=\"background: #fff; borderStyle: dashed;\">\n                  <a-icon type=\"plus\" style=\"margin-right: 8px;\" />\n                  标签\n                </a-tag>\n              </a>\n            </div>\n          </div>\n          <div class=\"info-bar\">\n            <!-- 卡号 -->\n            <info-edit\n              label=\"实体卡号：\"\n              :value=\"memberInfo.card_num\"\n              :canEdit=\"auth.editCardNum\"\n              :invisibleEdit=\"isAnyEdit\"\n              @confirm=\"handleCardNumChange\"\n              @changeEditStatus=\"handleChangeEditStatus\"\n            >\n              <st-overflow-text\n                max-width=\"170px\"\n                :value=\"cardNum\"\n              ></st-overflow-text>\n            </info-edit>\n            <!-- 物理卡号 -->\n            <info-edit\n              label=\"物理ID：\"\n              :value=\"memberInfo.rfid\"\n              :canEdit=\"auth.editCardNum\"\n              :invisibleEdit=\"isAnyEdit\"\n              @confirm=\"handleRfidChange\"\n              @changeEditStatus=\"handleChangeEditStatus\"\n            >\n              <st-overflow-text\n                max-width=\"170px\"\n                :value=\"rfid\"\n              ></st-overflow-text>\n            </info-edit>\n          </div>\n          <div class=\"info-bar\">\n            <!-- 跟进销售 -->\n            <info-edit\n              type=\"select\"\n              label=\"跟进销售：\"\n              :invisibleEdit=\"isAnyEdit\"\n              :canEdit=\"auth.bindSalesman\"\n              :value=\"seller\"\n              :options=\"sellerList\"\n              @confirm=\"handleEditSeller\"\n              @changeEditStatus=\"handleChangeEditStatus\"\n            >\n              <st-overflow-text\n                max-width=\"170px\"\n                :value=\"sellerName\"\n              ></st-overflow-text>\n            </info-edit>\n            <!-- 跟进教练 -->\n            <info-edit\n              type=\"select\"\n              :label=\"`跟进${$c('coach')}：`\"\n              :invisibleEdit=\"isAnyEdit\"\n              :canEdit=\"auth.bindCoach\"\n              :value=\"coach\"\n              :options=\"coachList\"\n              @confirm=\"handleEditCoach\"\n              @changeEditStatus=\"handleChangeEditStatus\"\n            >\n              <st-overflow-text\n                max-width=\"170px\"\n                :value=\"coachName\"\n              ></st-overflow-text>\n            </info-edit>\n          </div>\n        </div>\n      </div>\n      <div class=\"member-info-detail\">\n        <!-- 备注 -->\n        <div class=\"member-info-detail__remark\">\n          <info-edit\n            label=\"备注：\"\n            labelWidth=\"42\"\n            type=\"textarea\"\n            placeholder=\"添加备注信息\"\n            :canEdit=\"auth.editMember\"\n            :value=\"memberInfo.remark\"\n            :invisibleEdit=\"isAnyEdit\"\n            @confirm=\"handleRemarkChange\"\n            @changeEditStatus=\"handleChangeEditStatus\"\n            editBgColor=\"#f7f9fc\"\n            class=\"remark\"\n          >\n            <st-overflow-text\n              max-width=\"630px\"\n              needMaxContainerWidth\n              :defaultNoValueContent=\"auth.editMember ? '点击添加备注' : '--'\"\n              :value=\"memberInfo.remark\"\n            ></st-overflow-text>\n          </info-edit>\n        </div>\n      </div>\n    </div>\n    <!-- 入场凭证 -->\n    <div class=\"member-entrance\">\n      <div class=\"member-entrance-title\">\n        <div class=\"tip\">入场凭证</div>\n        <div v-if=\"!isEntry\">\n          <st-checkbox v-model=\"isCheckinCourse\" v-if=\"auth.entranceCheckin\">\n            凭课入场后直接签到课程\n          </st-checkbox>\n        </div>\n        <div v-else class=\"info\">\n          <div class=\"label\">入场时间：</div>\n          <div class=\"content\">{{ memberInfo.entry_time }}</div>\n        </div>\n      </div>\n      <!-- 入场 -->\n      <div v-if=\"!isEntry\">\n        <!-- 课类凭证 -->\n        <a-checkbox-group\n          v-model=\"courseProof\"\n          class=\"member-entrance-tickets mg-b16\"\n          @change=\"handleCourseProofChange\"\n          v-if=\"courseList.length\"\n        >\n          <div\n            class=\"member-entrance-ticket\"\n            v-for=\"entranceOption in courseList\"\n            :key=\"entranceOption.id\"\n          >\n            <a-checkbox\n              :value=\"entranceOption.id\"\n              :disabled=\"!entranceOption.is_able\"\n            />\n            <div\n              class=\"ticket-info\"\n              :class=\"{ disabled: !entranceOption.is_able }\"\n            >\n              <div class=\"ticket-info__base\">\n                <div class=\"tag\">\n                  <st-tag\n                    :type=\"entranceOptionType[entranceOption.proof_type]\"\n                  ></st-tag>\n                </div>\n                <div class=\"name\">{{ entranceOption.proof_name }}</div>\n                <div class=\"reason\">{{ entranceOption.reason }}</div>\n                <div v-if=\"entranceOption.reason_hover.length\">\n                  <a-tooltip>\n                    <template slot=\"title\">\n                      <div\n                        v-for=\"(reson, index) in entranceOption.reason_hover\"\n                        :key=\"index\"\n                      >\n                        {{ reson }}\n                      </div>\n                    </template>\n                    <span class=\"st-help-tooltip-img tip\">\n                      <img\n                        height=\"14\"\n                        width=\"14\"\n                        src=\"~@/assets/img/tooltip-help.png\"\n                      />\n                    </span>\n                  </a-tooltip>\n                </div>\n              </div>\n              <div\n                class=\"ticket-info__detail\"\n                v-if=\"\n                  entranceOption.proof_info &&\n                    entranceOption.proof_info.length\n                \"\n              >\n                <div\n                  class=\"info\"\n                  v-for=\"(info, index) in entranceOption.proof_info\"\n                  :key=\"index\"\n                >\n                  <span class=\"label\">{{ info.key }}：</span>\n                  <span class=\"content\">{{ info.value }}</span>\n                </div>\n              </div>\n              <!-- 备注 -->\n              <div\n                class=\"ticket-info__remark\"\n                v-if=\"entranceOption.description\"\n              >\n                <info-edit\n                  label=\"备注：\"\n                  labelWidth=\"42\"\n                  type=\"textarea\"\n                  placeholder=\"添加备注信息\"\n                  :canEdit=\"\n                    handleJudgeRemarkAuth(\n                      entranceOption.description.product_type,\n                      entranceOption.auth\n                    )\n                  \"\n                  :value=\"entranceOption.description.description\"\n                  :invisibleEdit=\"isAnyEdit\"\n                  @confirm=\"\n                    e =>\n                      handleEntranceRemarkChange(\n                        e,\n                        entranceOption.description\n                      )\n                  \"\n                  @changeEditStatus=\"handleChangeEditStatus\"\n                  class=\"remark\"\n                  editBgColor=\"rgba(0,0,0,0.04)\"\n                >\n                  <span\n                    v-if=\"!entranceOption.description.description\"\n                    class=\"ticket-info__remark-value\"\n                  >\n                    {{\n                      handleJudgeRemarkAuth(\n                        entranceOption.description.product_type,\n                        entranceOption.auth\n                      )\n                        ? '点击添加备注'\n                        : '--'\n                    }}\n                  </span>\n                  <span v-else class=\"ticket-info__remark-value\">\n                    {{ entranceOption.description.description }}\n                  </span>\n                </info-edit>\n              </div>\n            </div>\n          </div>\n        </a-checkbox-group>\n        <!-- 卡类凭证 -->\n        <div class=\"member-entrance-tickets\" v-if=\"cardList.length\">\n          <div\n            class=\"member-entrance-ticket\"\n            v-for=\"entranceOption in cardList\"\n            :key=\"entranceOption.id\"\n            :class=\"{ temporary: entranceOption.id === 0 }\"\n          >\n            <a-radio\n              :value=\"entranceOption.id\"\n              :checked=\"entranceOption.id === cardProof\"\n              :disabled=\"!entranceOption.is_able\"\n              @change=\"handleProofChange\"\n            ></a-radio>\n            <div\n              class=\"ticket-info\"\n              :class=\"{ disabled: !entranceOption.is_able }\"\n            >\n              <div class=\"ticket-info__base\">\n                <div class=\"tag\">\n                  <st-tag\n                    :type=\"entranceOptionType[entranceOption.proof_type]\"\n                  ></st-tag>\n                </div>\n                <div class=\"name\">{{ entranceOption.proof_name }}</div>\n                <div class=\"reason\">{{ entranceOption.reason }}</div>\n                <div v-if=\"entranceOption.reason_hover.length\">\n                  <a-tooltip>\n                    <template slot=\"title\">\n                      <div\n                        v-for=\"(reson, index) in entranceOption.reason_hover\"\n                        :key=\"index\"\n                      >\n                        {{ reson }}\n                      </div>\n                    </template>\n                    <span class=\"st-help-tooltip-img tip\">\n                      <img\n                        height=\"14\"\n                        width=\"14\"\n                        src=\"~@/assets/img/tooltip-help.png\"\n                      />\n                    </span>\n                  </a-tooltip>\n                </div>\n              </div>\n              <div\n                class=\"ticket-info__detail\"\n                v-if=\"\n                  entranceOption.proof_info &&\n                    entranceOption.proof_info.length\n                \"\n              >\n                <div\n                  class=\"info\"\n                  v-for=\"(info, index) in entranceOption.proof_info\"\n                  :key=\"index\"\n                >\n                  <span class=\"label\">{{ info.key }}：</span>\n                  <span class=\"content\">{{ info.value }}</span>\n                </div>\n              </div>\n              <!-- 扣次 -->\n              <div\n                class=\"ticket-info__deductNum\"\n                v-if=\"\n                  entranceOption.proof_type === 2 && entranceOption.is_able\n                \"\n              >\n                本次入场扣次:\n                <st-input-number\n                  :min=\"1\"\n                  :step=\"1\"\n                  :precision=\"0\"\n                  :disabled=\"!entranceOption.is_able\"\n                  v-model=\"entranceOption.deduct_num\"\n                  style=\"width: 65px\"\n                  class=\"ticket-info__deductNum-input\"\n                ></st-input-number>\n                次\n              </div>\n              <!-- 备注 -->\n              <div\n                class=\"ticket-info__remark\"\n                v-if=\"entranceOption.description\"\n              >\n                <info-edit\n                  label=\"备注：\"\n                  labelWidth=\"42\"\n                  type=\"textarea\"\n                  placeholder=\"添加备注信息\"\n                  :canEdit=\"\n                    handleJudgeRemarkAuth(\n                      entranceOption.description.product_type,\n                      entranceOption.auth\n                    )\n                  \"\n                  :value=\"entranceOption.description.description\"\n                  :invisibleEdit=\"isAnyEdit\"\n                  @confirm=\"\n                    e =>\n                      handleEntranceRemarkChange(\n                        e,\n                        entranceOption.description\n                      )\n                  \"\n                  @changeEditStatus=\"handleChangeEditStatus\"\n                  class=\"remark\"\n                  editBgColor=\"rgba(0,0,0,0.04)\"\n                >\n                  <span\n                    v-if=\"!entranceOption.description.description\"\n                    class=\"ticket-info__remark-value\"\n                  >\n                    {{\n                      handleJudgeRemarkAuth(\n                        entranceOption.description.product_type,\n                        entranceOption.auth\n                      )\n                        ? '点击添加备注'\n                        : '--'\n                    }}\n                  </span>\n                  <span v-else class=\"ticket-info__remark-value\">\n                    {{ entranceOption.description.description }}\n                  </span>\n                </info-edit>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- 离场 -->\n      <div class=\"member-entrance-ticket\" v-else>\n        <div class=\"ticket-info\">\n          <div class=\"ticket-info__base\">\n            <div class=\"tag\">\n              <st-tag\n                :type=\"entranceOptionType[memberProof.proof_type]\"\n              ></st-tag>\n            </div>\n            <div class=\"name\">{{ memberProof.proof_name }}</div>\n          </div>\n          <div\n            class=\"ticket-info__detail\"\n            v-if=\"memberProof.proof_info.length\"\n          >\n            <div\n              class=\"info\"\n              v-for=\"(info, index) in memberProof.proof_info\"\n              :key=\"index\"\n            >\n              <span class=\"label\">{{ info.key }}：</span>\n              <span class=\"content\">{{ info.value }}</span>\n            </div>\n          </div>\n          <div class=\"ticket-info__remark\" v-if=\"memberProof.description\">\n            <info-edit\n              label=\"备注：\"\n              labelWidth=\"42\"\n              type=\"textarea\"\n              placeholder=\"添加备注信息\"\n              :canEdit=\"\n                handleJudgeRemarkAuth(\n                  memberProof.description.product_type,\n                  memberAuth\n                )\n              \"\n              :value=\"memberProof.description.description\"\n              :invisibleEdit=\"isAnyEdit\"\n              @confirm=\"\n                e => handleEntranceRemarkChange(e, memberProof.description)\n              \"\n              @changeEditStatus=\"handleChangeEditStatus\"\n              class=\"remark\"\n              editBgColor=\"rgba(0,0,0,0.04)\"\n            >\n              <span\n                v-if=\"!memberProof.description.description\"\n                class=\"ticket-info__remark-value\"\n              >\n                {{\n                  handleJudgeRemarkAuth(\n                    memberProof.description.product_type,\n                    memberAuth\n                  )\n                    ? '点击添加备注'\n                    : '--'\n                }}\n              </span>\n              <span v-else class=\"ticket-info__remark-value\">\n                {{ memberProof.description.description }}\n              </span>\n            </info-edit>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <template slot=\"footer\">\n    <div class=\"member-footer\">\n      <div class=\"member-footer-left\">\n        <div class=\"info\">\n          <div class=\"label\">租柜：</div>\n          <div class=\"content\">\n            <st-overflow-text\n              max-width=\"170px\"\n              :value=\"leasingCabinetText\"\n            ></st-overflow-text>\n          </div>\n        </div>\n        <div class=\"info\">\n          <div class=\"label\">临时柜：</div>\n          <div class=\"content\" v-if=\"!isEntry || isCabinetAllocation\">\n            <a-select\n              v-model=\"temporary_cabinet\"\n              placeholder=\"请选择\"\n              showSearch\n              allowClear\n              :open=\"cabinetSearchOpen\"\n              :filterOption=\"false\"\n              :defaultActiveFirstOption=\"true\"\n              @search=\"handleCabinetSearch\"\n              @blur=\"handleCabinetBlur\"\n              @focus=\"handleCabinetFocus\"\n              @inputKeydown=\"handleCabinetEnter\"\n              style=\"width: 156px\"\n              ref=\"cabinet\"\n            >\n              <a-select-option\n                v-for=\"(item, index) in cabinetList\"\n                :key=\"index\"\n                :value=\"item.id\"\n              >\n                {{ item.name }}\n              </a-select-option>\n            </a-select>\n          </div>\n          <div class=\"content\" v-else>\n            {{ temporaryCabinet.name || '暂无' }}\n          </div>\n        </div>\n      </div>\n      <div class=\"member-footer-button\">\n        <st-button\n          class=\"entryButton\"\n          type=\"primary\"\n          v-if=\"!isEntry\"\n          :disabled=\"!canEntry\"\n          :loading=\"loading.setEntrance\"\n          @click=\"onEntry\"\n        >\n          入场\n          <img src=\"~@/assets/img/icon_enter@2x.png\" alt=\"\" />\n        </st-button>\n        <st-button\n          class=\"entryButton\"\n          type=\"primary\"\n          v-if=\"isEntry\"\n          @click=\"handleAllocationCabint\"\n        >\n          分配柜子&nbsp;\n          <img\n            src=\"~@/assets/img/icon_enter@2x.png\"\n            alt=\"\"\n            v-if=\"isCabinetAllocation\"\n          />\n          <span v-else>F9</span>\n        </st-button>\n        <st-button\n          class=\"leaveButton\"\n          v-if=\"isEntry && !isCabinetAllocation\"\n          :disabled=\"!auth.checkout\"\n          @click=\"onLeaveConfirm\"\n        >\n          离场\n          <img src=\"~@/assets/img/icon_enter@2x.png\" alt=\"\" />\n        </st-button>\n      </div>\n    </div>\n  </template>\n</st-modal>\n",null]}