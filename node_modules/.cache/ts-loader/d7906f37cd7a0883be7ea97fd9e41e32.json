{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/node_modules/ts-loader/index.js??ref--13-2!/Users/wangzhigang/Desktop/styd/web/src/views/biz-components/package/info/info.service.ts","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/biz-components/package/info/info.service.ts","mtime":1600926555707},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/ts-loader/index.js","mtime":1591062571609}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport _classCallCheck from \"/Users/wangzhigang/Desktop/styd/web/node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wangzhigang/Desktop/styd/web/node_modules/@babel/runtime-corejs2/helpers/esm/createClass\";\n\nvar _a, _b;\n\nimport { __decorate, __metadata } from \"tslib\";\nimport { UserService } from '@/services/user.service';\nimport { CommonPackageApi } from '@/api/v1/package/common';\nimport { Injectable } from 'vue-service-app';\nimport { tap } from 'rxjs/operators';\nimport { State } from 'rx-state/src';\n\nvar InfoService = /*#__PURE__*/function () {\n  function InfoService(userService, commonApi) {\n    _classCallCheck(this, InfoService);\n\n    this.userService = userService;\n    this.commonApi = commonApi;\n    this.coachList$ = new State({});\n    this.reserveIsLimit$ = this.userService.getEnumValue$('package_course.reserve_is_limit');\n    this.saleTimeIsForever$ = this.userService.getEnumValue$('package_course.sale_time_is_forever');\n    this.packageType$ = this.userService.getEnumValue$('package_course.package_type');\n    this.reserveLimitDay$ = this.userService.getEnumValue$('package_course.reserve_limit_day');\n  }\n\n  _createClass(InfoService, [{\n    key: \"getCoachList\",\n    value: function getCoachList() {\n      var _this = this;\n\n      return this.commonApi.getCoachList().pipe(tap(function (res) {\n        var map = {};\n        res.list.forEach(function (item) {\n          map[item.id] = item.setting_name;\n        });\n\n        _this.coachList$.commit(function () {\n          return map;\n        });\n      }));\n    }\n  }]);\n\n  return InfoService;\n}();\n\nInfoService = __decorate([Injectable(), __metadata(\"design:paramtypes\", [typeof (_a = typeof UserService !== \"undefined\" && UserService) === \"function\" ? _a : Object, typeof (_b = typeof CommonPackageApi !== \"undefined\" && CommonPackageApi) === \"function\" ? _b : Object])], InfoService);\nexport { InfoService };",{"version":3,"sources":["/Users/wangzhigang/Desktop/styd/web/src/views/biz-components/package/info/info.service.ts"],"names":[],"mappings":";;;;;;;AACA,SAAS,WAAT,QAA4B,yBAA5B;AACA,SAAS,gBAAT,QAAiC,yBAAjC;AACA,SAAS,UAAT,QAA2B,iBAA3B;AACA,SAAS,GAAT,QAAoB,gBAApB;AACA,SAAS,KAAT,QAAsB,cAAtB;;AAEA,IAAa,WAAb;AAuBE,uBACU,WADV,EAEU,SAFV,EAEqC;AAAA;;AAD3B,SAAA,WAAA,GAAA,WAAA;AACA,SAAA,SAAA,GAAA,SAAA;AAxBV,SAAA,UAAA,GAAa,IAAI,KAAJ,CAAU,EAAV,CAAb;AACA,SAAA,eAAA,GAAkB,KAAK,WAAL,CAAiB,aAAjB,CAChB,iCADgB,CAAlB;AAGA,SAAA,kBAAA,GAAqB,KAAK,WAAL,CAAiB,aAAjB,CACnB,qCADmB,CAArB;AAGA,SAAA,YAAA,GAAe,KAAK,WAAL,CAAiB,aAAjB,CAA+B,6BAA/B,CAAf;AACA,SAAA,gBAAA,GAAmB,KAAK,WAAL,CAAiB,aAAjB,CACjB,kCADiB,CAAnB;AAiBI;;AA1BN;AAAA;AAAA,mCAYc;AAAA;;AACV,aAAO,KAAK,SAAL,CAAe,YAAf,GAA8B,IAA9B,CACL,GAAG,CAAC,UAAC,GAAD,EAAa;AACf,YAAI,GAAG,GAAG,EAAV;AACA,QAAA,GAAG,CAAC,IAAJ,CAAS,OAAT,CAAiB,UAAA,IAAI,EAAG;AACtB,UAAA,GAAG,CAAC,IAAI,CAAC,EAAN,CAAH,GAAe,IAAI,CAAC,YAApB;AACD,SAFD;;AAGA,QAAA,KAAI,CAAC,UAAL,CAAgB,MAAhB,CAAuB;AAAA,iBAAM,GAAN;AAAA,SAAvB;AACD,OANE,CADE,CAAP;AASD;AAtBH;;AAAA;AAAA,GAAA;;AAAa,WAAW,GAAA,UAAA,CAAA,CADvB,UAAU,EACa,E,qDAwBC,W,KAAW,W,IAAX,W,MAAW,U,GAAA,E,GAAA,M,EAAA,QAAA,EAAA,GAAA,OACb,gBADa,KACG,WADH,IACb,gBADa,MACG,UADH,GACG,EADH,GACG,M,EAzBf,CAAA,EAAX,WAAW,CAAX;SAAA,W","sourcesContent":["import { forEach } from 'lodash-es'\nimport { UserService } from '@/services/user.service'\nimport { CommonPackageApi } from '@/api/v1/package/common'\nimport { Injectable } from 'vue-service-app'\nimport { tap } from 'rxjs/operators'\nimport { State } from 'rx-state/src'\n@Injectable()\nexport class InfoService {\n  coachList$ = new State({})\n  reserveIsLimit$ = this.userService.getEnumValue$(\n    'package_course.reserve_is_limit'\n  )\n  saleTimeIsForever$ = this.userService.getEnumValue$(\n    'package_course.sale_time_is_forever'\n  )\n  packageType$ = this.userService.getEnumValue$('package_course.package_type')\n  reserveLimitDay$ = this.userService.getEnumValue$(\n    'package_course.reserve_limit_day'\n  )\n  getCoachList() {\n    return this.commonApi.getCoachList().pipe(\n      tap((res: any) => {\n        let map = {}\n        res.list.forEach(item => {\n          map[item.id] = item.setting_name\n        })\n        this.coachList$.commit(() => map)\n      })\n    )\n  }\n  constructor(\n    private userService: UserService,\n    private commonApi: CommonPackageApi\n  ) {}\n}\n"],"sourceRoot":""}]}