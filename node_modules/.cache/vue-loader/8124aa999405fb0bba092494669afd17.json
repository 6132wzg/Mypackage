{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/marketing/plugin/lottery/checkin.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/marketing/plugin/lottery/checkin.vue","mtime":1591147717321},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { CheckinService } from './checkin.service'\nimport { columns } from './checkin.config'\nimport { MessageService } from '@/services/message.service'\n\nexport default {\n  name: 'PluginLotteryCheckin',\n  data() {\n    return {\n      keyword: '',\n      isShowTable: false\n    }\n  },\n  bem: {\n    bPage: 'page-brand-marketing-plugin-lottery-checkin'\n  },\n  serviceInject() {\n    return {\n      checkinService: CheckinService,\n      message: MessageService\n    }\n  },\n  rxState() {\n    return {\n      list: this.checkinService.list$,\n      loading: this.checkinService.loading$\n    }\n  },\n  computed: { columns },\n  methods: {\n    getCheckinList() {\n      if (!this.keyword) {\n        this.message.warn({ content: '请输入核销码' })\n        return\n      }\n      return this.checkinService.getCheckinList(this.keyword).subscribe(res => {\n        this.isShowTable = true\n      })\n    },\n    checkin() {\n      return this.checkinService.checkin(this.keyword).subscribe(res => {\n        this.message.success({ content: '核销成功' })\n        this.getCheckinList()\n      })\n    }\n  }\n}\n",null]}