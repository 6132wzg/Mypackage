{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/thread-loader/dist/cjs.js!/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/biz-modals/shop/distribution-sale.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/biz-modals/shop/distribution-sale.vue","mtime":1591147717212},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/thread-loader/dist/cjs.js","mtime":1591062572352},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { DistributionSaleService } from \"./distribution-sale.service\";\nimport { MessageService } from '@/services/message.service';\nvar columns = [{\n  title: '会籍销售姓名',\n  dataIndex: 'sale_name',\n  key: 'sale_name'\n}, {\n  dataIndex: 'sign_bill',\n  key: 'sign_bill',\n  slots: {\n    title: 'custom_title'\n  },\n  scopedSlots: {\n    customRender: 'sign_bill'\n  }\n}];\nexport default {\n  name: 'distributionAles',\n  serviceInject: function serviceInject() {\n    return {\n      service: DistributionSaleService,\n      messageService: MessageService\n    };\n  },\n  props: {\n    memberIds: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    saleId: Number\n  },\n  data: function data() {\n    return {\n      selectedRowKeys: [],\n      pagination: {\n        current: 1,\n        pageSize: 10\n      },\n      columns: columns,\n      show: false,\n      list: [],\n      // 列表数据\n      chooseId: ''\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.service.getSaleList().subscribe(function (res) {\n      _this.list = res.list;\n      _this.selectedRowKeys = [_this.saleId];\n      _this.chooseId = _this.saleId;\n    });\n  },\n  methods: {\n    onChange: function onChange(e) {\n      console.log(e.target);\n    },\n    onSelectChange: function onSelectChange(e, itemData) {\n      this.selectedRowKeys = e;\n      this.chooseId = itemData[0].id;\n    },\n    handleTableChange: function handleTableChange(pagination, filters, sorter) {\n      console.log(pagination);\n    },\n    onSearch: function onSearch(e) {\n      var _this2 = this;\n\n      this.service.getSaleList({\n        retrieve: e\n      }).subscribe(function (res) {\n        _this2.list = res.list;\n      });\n    },\n    save: function save() {\n      var _this3 = this;\n\n      console.log('sale', this.chooseId);\n      this.service.addSale({\n        member_ids: this.memberIds,\n        sales_id: this.chooseId\n      }).subscribe(function (res) {\n        _this3.show = false;\n\n        _this3.$emit('success');\n\n        _this3.messageService.success({\n          content: '分配成功'\n        });\n      });\n    }\n  },\n  watch: {}\n};",null]}