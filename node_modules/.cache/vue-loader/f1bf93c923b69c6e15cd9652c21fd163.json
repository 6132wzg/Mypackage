{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/pages/shop/sold/course/list/package.vue?vue&type=template&id=5e8bab52&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/pages/shop/sold/course/list/package.vue","mtime":1596792848083},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":1591062572376},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["\n<div :class=\"basic()\">\n  <portal to=\"SHOP_SOLD_COURSE_LIST_SEARCH\">\n    <st-input-search\n      v-model=\"$searchQuery.search\"\n      @search=\"onKeywordsSearch('search', $event)\"\n      placeholder=\"请输入课程包名、合同编号、会员姓名或手机号查找\"\n      style=\"width:400px\"\n    />\n  </portal>\n\n  <st-search-panel @search=\"onSearchNative\" @reset=\"onSearchResetNative\">\n    <st-search-panel-item label=\"课程状态：\">\n      <st-search-radio\n        v-model=\"$searchQuery.course_status\"\n        :options=\"courseStatus\"\n      />\n    </st-search-panel-item>\n    <st-search-panel-item label=\"课程类型：\">\n      <st-search-radio\n        v-model=\"$searchQuery.package_type\"\n        :options=\"packageTypes\"\n      />\n    </st-search-panel-item>\n    <st-search-panel-item label=\"是否生效：\">\n      <st-search-radio\n        v-model=\"$searchQuery.effective_state\"\n        :options=\"effectiveWayOptions\"\n      />\n    </st-search-panel-item>\n    <st-search-panel-item label=\"购买时间：\">\n      <st-range-picker :disabledDays=\"180\" v-model=\"date\" />\n    </st-search-panel-item>\n    <st-search-panel-item label=\"生效时间\">\n      <st-range-picker :disabledDays=\"180\" v-model=\"effectiveDate\" />\n    </st-search-panel-item>\n  </st-search-panel>\n  <div :class=\"basic('content')\">\n    <div :class=\"basic('content-batch')\" class=\"mg-b16\">\n      <!-- NOTE: 导出 -->\n      <st-button\n        v-if=\"auth.export\"\n        type=\"primary\"\n        class=\"mg-r8\"\n        v-export-excel=\"{\n          type: 'sold/course/package',\n          query: { conditions: $searchQuery }\n        }\"\n      >\n        全部导出\n      </st-button>\n      <st-help-tooltip\n        :isCustom=\"true\"\n        title=\"仅支持范围内课程变更\"\n        :defaultVisible=\"true\"\n        v-if=\"auth.course_range\"\n        v-model=\"action.courseRange.isShowTip\"\n      >\n        <st-button\n          type=\"primary\"\n          class=\"mg-r8\"\n          :disabled=\"!action.courseRange.isAvaliable\"\n          @click=\"onChangeCourse\"\n        >\n          更换上课范围\n        </st-button>\n      </st-help-tooltip>\n      <st-help-tooltip\n        :isCustom=\"true\"\n        title=\"仅支持失效且未退款的课程包\"\n        :defaultVisible=\"true\"\n        v-if=\"auth.reactive\"\n        v-model=\"action.reactive.isShowTip\"\n      >\n        <st-button\n          type=\"primary\"\n          class=\"mg-r8\"\n          :disabled=\"!action.reactive.isAvaliable\"\n          @click=\"onChangeRenew\"\n        >\n          重新激活\n        </st-button>\n      </st-help-tooltip>\n      <st-help-tooltip\n        :isCustom=\"true\"\n        title=\"仅支持有效且已生效的课程包进行延期\"\n        :defaultVisible=\"true\"\n        v-if=\"auth.extendDay\"\n        v-model=\"action.extendDay.isShowTip\"\n      >\n        <st-button\n          type=\"primary\"\n          class=\"mg-r8\"\n          :disabled=\"!action.extendDay.isAvaliable\"\n          @click=\"onChangeExtends\"\n        >\n          延长有效期\n        </st-button>\n      </st-help-tooltip>\n    </div>\n    <st-total\n      :indexs=\"totalColumns\"\n      :dataSource=\"total\"\n      hasTitle\n      class=\"mg-b16\"\n    ></st-total>\n    <div>\n      <st-table\n        :page=\"page\"\n        rowKey=\"id\"\n        :loading=\"loading.getList\"\n        :alertSelection=\"{ onReset: onClear }\"\n        :rowSelection=\"{\n          selectedRowKeys: selectedRowKeys,\n          fixed: true,\n          onChange: onSelectChange,\n          getCheckboxProps: record => ({\n            props: {\n              disabled: disabledSelect(record)\n            }\n          })\n        }\"\n        @change=\"onTableChange\"\n        :scroll=\"{ x: 2100 }\"\n        :columns=\"columns\"\n        :dataSource=\"list\"\n      >\n        <template slot=\"course_name\" slot-scope=\"text, record\">\n          <st-link\n            :value=\"text\"\n            :disabled=\"!record.auth['shop:sold:sold_package_course|get']\"\n            @click=\"onDetail(record)\"\n          ></st-link>\n        </template>\n        <template slot=\"course_status\" slot-scope=\"text\">\n          <st-text\n            :status=\"{\n              success: text === 1,\n              warning: text === 2,\n              error: text === 3\n            }\"\n          >\n            {{ text | enumFilter('sold_common.course_status') }}\n          </st-text>\n        </template>\n        <template slot=\"member_name\" slot-scope=\"text, record\">\n          <template v-if=\"record.is_minors\">\n            <span class=\"word-break\">{{ record.member_name }}(未成年)</span>\n          </template>\n          <template v-else>\n            <span class=\"word-break\">{{ record.member_name }}</span>\n          </template>\n        </template>\n        <template slot=\"mobile\" slot-scope=\"text, record\">\n          <template v-if=\"record.is_minors\">\n            {{ record.parent_mobile }}({{ record.parent_user_role }})\n          </template>\n          <template v-else>\n            {{ record.mobile }}\n          </template>\n        </template>\n        <template slot=\"effective_state\" slot-scope=\"text\">\n          <span>{{ text ? '是' : '否' }}</span>\n        </template>\n        <template slot=\"buy_course_num\" slot-scope=\"text, record\">\n          <span\n            v-if=\"\n              record.is_limit === IS_LIMIT.NO_LIMIT &&\n                record.package_type === PACKAGE_TYPE.RANGE_COURSE\n            \"\n          >\n            不限次\n          </span>\n          <span v-else>\n            {{ text }}/{{ record.team_course_init }}/{{\n              record.personal_course_init\n            }}\n          </span>\n        </template>\n        <template slot=\"remain_course_num\" slot-scope=\"text, record\">\n          <span\n            v-if=\"\n              record.is_limit === IS_LIMIT.NO_LIMIT &&\n                record.package_type === PACKAGE_TYPE.RANGE_COURSE\n            \"\n          >\n            不限次\n          </span>\n          <span v-else>\n            {{ text }}/{{ record.team_course_remain }}/{{\n              record.personal_course_remain\n            }}\n          </span>\n        </template>\n        <template slot=\"sex\" slot-scope=\"text\">\n          {{ text | enumFilter('staff.sex') }}\n        </template>\n        <template slot=\"is_refund\" slot-scope=\"text\">\n          {{ text.name }}\n        </template>\n        <template slot=\"package_type\" slot-scope=\"text\">\n          {{ text | enumFilter('package_course.package_type') }}\n        </template>\n        <template slot=\"sell_time\" slot-scope=\"text, record\">\n          <span class=\"word-break\">\n            {{ record.course_buy_time }} ~ {{ record.course_end_time }}\n          </span>\n        </template>\n        <st-table-actions slot=\"action\" slot-scope=\"text, record\">\n          {{ record.auth }}\n          <a\n            v-if=\"record.auth['shop:sold:sold_package_course|get']\"\n            @click=\"onDetail(record)\"\n          >\n            详情\n          </a>\n          <a\n            v-if=\"record.auth['shop:sold:sold_package_course|course_num']\"\n            @click=\"onSurplus(record)\"\n          >\n            修改剩余课时\n          </a>\n          <a\n            v-if=\"record.auth['shop:sold:sold_package_course|reactivate']\"\n            @click=\"onReactive(record.id)\"\n          >\n            重新激活\n          </a>\n          <a\n            v-if=\"record.auth['shop:sold:sold_package_course|extension']\"\n            @click=\"onExtend(record.id)\"\n          >\n            延长有效期\n          </a>\n          <a\n            v-if=\"record.auth['shop:sold:sold_package_course|edit_date']\"\n            @click=\"onUpdateExpirationDate(record.id)\"\n          >\n            有效期修改\n          </a>\n          <a\n            v-if=\"record.auth['shop:sold:sold_package_course|member_change']\"\n            @click=\"onMemberChange(record.id)\"\n          >\n            成员变更\n          </a>\n          <a\n            v-if=\"record.auth['shop:sold:sold_package_course|reduce_times']\"\n            @click=\"onDeduction(record.id)\"\n          >\n            扣次\n          </a>\n          <a\n            v-if=\"record.auth['shop:sold:sold_package_course|frozen']\"\n            @click=\"onFreeze(record)\"\n          >\n            冻结\n          </a>\n          <a\n            v-if=\"record.auth['shop:sold:sold_package_course|unfrozen']\"\n            @click=\"onUnfreeze(record)\"\n          >\n            取消冻结\n          </a>\n          <a\n            v-if=\"record.auth['shop:sold:sold_package_course|transfer']\"\n            @click=\"onTransfer(record)\"\n          >\n            转让\n          </a>\n          <a\n            v-if=\"record.auth['shop:sold:sold_package_course|valid']\"\n            @click=\"onValid(record)\"\n          >\n            立即生效\n          </a>\n          <a\n            v-if=\"record.auth['shop:sold:sold_package_course|upgrade']\"\n            @click=\"onUpgrade(record)\"\n          >\n            升级\n          </a>\n          <a\n            v-if=\"record.auth['brand_shop:order:order|refund']\"\n            @click=\"onRefund(record)\"\n          >\n            退款\n          </a>\n          <a\n            v-if=\"\n              record.auth['shop:sold:sold_package_course|export_contract']\n            \"\n            @click=\"toContract(record)\"\n          >\n            查看合同\n          </a>\n          <a\n            v-if=\"\n              record.auth[\n                'shop:sold:sold_package_course|internal_description'\n              ]\n            \"\n            @click=\"internalNoteActions.onOpenModal(record)\"\n          >\n            对内备注\n          </a>\n        </st-table-actions>\n      </st-table>\n    </div>\n  </div>\n</div>\n",null]}