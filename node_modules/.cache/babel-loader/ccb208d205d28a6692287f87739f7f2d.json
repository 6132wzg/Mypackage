{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/biz-modals/sold/deal/gathering-tip.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/biz-modals/sold/deal/gathering-tip.vue","mtime":1600926555966},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["import \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { UserService } from '@/services/user.service';\nimport { GatheringTipService } from \"./gathering-tip.service\";\nimport { PRODUCT_TYPE } from '@/constants/sold/transaction';\nexport default {\n  name: 'ModalSoldDealGatheringTip',\n  bem: {\n    gatheringTip: 'modal-sold-deal-gathering-tip'\n  },\n  data: function data() {\n    return {\n      show: false\n    };\n  },\n  serviceInject: function serviceInject() {\n    return {\n      userService: UserService,\n      gatheringTipService: GatheringTipService\n    };\n  },\n  rxState: function rxState() {\n    return {\n      isBrandStudio: this.userService.isBrandStudio$,\n      auth: this.gatheringTipService.auth$\n    };\n  },\n  props: {\n    order_id: Number,\n    // 订单id\n\n    /**\n     * 售出id\n     */\n    soldId: Number,\n    type: Number,\n    member_id: Number,\n    // 会员id\n    message: String,\n    needPay: Boolean,\n    // true 需要支付按钮 false 不需要\n    isFamilyCard: Boolean,\n    // true 需要展示变更成员按钮 false 不需要\n    needContract: {\n      type: Boolean,\n      default: true\n    },\n    needTicket: {\n      type: Boolean,\n      default: true\n    }\n  },\n  computed: {\n    isShowSoldDetailBtn: function isShowSoldDetailBtn() {\n      var MEMBER_CARD = PRODUCT_TYPE.MEMBER_CARD,\n          DEPOSIT_CARD = PRODUCT_TYPE.DEPOSIT_CARD,\n          PERSONAL_COURSE = PRODUCT_TYPE.PERSONAL_COURSE,\n          PACKAGE = PRODUCT_TYPE.PACKAGE,\n          SMALL_COURSE = PRODUCT_TYPE.SMALL_COURSE;\n      return [MEMBER_CARD, DEPOSIT_CARD, PERSONAL_COURSE, PACKAGE, SMALL_COURSE].includes(this.type);\n    }\n  },\n  methods: {\n    print: function print() {\n      this.show = false;\n      this.$emit('success', {\n        orderId: this.order_id,\n        type: 'Print'\n      });\n    },\n    printOrder: function printOrder() {\n      this.show = false;\n      this.$emit('success', {\n        orderId: this.order_id,\n        type: 'PrintOrder'\n      });\n    },\n    viewOrder: function viewOrder() {\n      this.show = false;\n      this.$emit('success', {\n        orderId: this.order_id,\n        type: 'ViewOrder'\n      });\n    },\n    viewSoldDetetail: function viewSoldDetetail() {\n      this.show = false;\n      this.$emit('success', {\n        orderId: this.order_id,\n        type: 'viewSoldDetetail',\n        soldId: this.soldId\n      });\n    },\n    goPay: function goPay(e) {\n      this.show = false;\n      this.$emit('success', {\n        orderId: this.order_id,\n        type: 'Pay'\n      });\n    },\n    // 取消\n    onCancel: function onCancel() {\n      this.show = false;\n      this.$emit('success', {\n        orderId: this.order_id,\n        type: 'cancel'\n      });\n    },\n    // 变更成员\n    changeMember: function changeMember() {\n      this.show = false;\n      this.$emit('success', {\n        orderId: this.order_id,\n        type: 'ChangeMember'\n      });\n    }\n  }\n};",{"version":3,"sources":["gathering-tip.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA,SAAA,WAAA,QAAA,yBAAA;AACA,SAAA,mBAAA;AACA,SAAA,YAAA,QAAA,8BAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,2BADA;AAEA,EAAA,GAAA,EAAA;AACA,IAAA,YAAA,EAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AADA,KAAA;AAGA,GATA;AAUA,EAAA,aAVA,2BAUA;AACA,WAAA;AACA,MAAA,WAAA,EAAA,WADA;AAEA,MAAA,mBAAA,EAAA;AAFA,KAAA;AAIA,GAfA;AAgBA,EAAA,OAhBA,qBAgBA;AACA,WAAA;AACA,MAAA,aAAA,EAAA,KAAA,WAAA,CAAA,cADA;AAEA,MAAA,IAAA,EAAA,KAAA,mBAAA,CAAA;AAFA,KAAA;AAIA,GArBA;AAsBA,EAAA,KAAA,EAAA;AACA,IAAA,QAAA,EAAA,MADA;AACA;;AACA;;;AAGA,IAAA,MAAA,EAAA,MALA;AAMA,IAAA,IAAA,EAAA,MANA;AAOA,IAAA,SAAA,EAAA,MAPA;AAOA;AACA,IAAA,OAAA,EAAA,MARA;AASA,IAAA,OAAA,EAAA,OATA;AASA;AACA,IAAA,YAAA,EAAA,OAVA;AAUA;AACA,IAAA,YAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,OAAA,EAAA;AAFA,KAXA;AAeA,IAAA,UAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,OAAA,EAAA;AAFA;AAfA,GAtBA;AA0CA,EAAA,QAAA,EAAA;AACA,IAAA,mBADA,iCACA;AAAA,UAEA,WAFA,GAOA,YAPA,CAEA,WAFA;AAAA,UAGA,YAHA,GAOA,YAPA,CAGA,YAHA;AAAA,UAIA,eAJA,GAOA,YAPA,CAIA,eAJA;AAAA,UAKA,OALA,GAOA,YAPA,CAKA,OALA;AAAA,UAMA,YANA,GAOA,YAPA,CAMA,YANA;AAQA,aAAA,CACA,WADA,EAEA,YAFA,EAGA,eAHA,EAIA,OAJA,EAKA,YALA,EAMA,QANA,CAMA,KAAA,IANA,CAAA;AAOA;AAhBA,GA1CA;AA4DA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,mBACA;AACA,WAAA,IAAA,GAAA,KAAA;AACA,WAAA,KAAA,CAAA,SAAA,EAAA;AACA,QAAA,OAAA,EAAA,KAAA,QADA;AAEA,QAAA,IAAA,EAAA;AAFA,OAAA;AAIA,KAPA;AAQA,IAAA,UARA,wBAQA;AACA,WAAA,IAAA,GAAA,KAAA;AACA,WAAA,KAAA,CAAA,SAAA,EAAA;AACA,QAAA,OAAA,EAAA,KAAA,QADA;AAEA,QAAA,IAAA,EAAA;AAFA,OAAA;AAIA,KAdA;AAeA,IAAA,SAfA,uBAeA;AACA,WAAA,IAAA,GAAA,KAAA;AACA,WAAA,KAAA,CAAA,SAAA,EAAA;AACA,QAAA,OAAA,EAAA,KAAA,QADA;AAEA,QAAA,IAAA,EAAA;AAFA,OAAA;AAIA,KArBA;AAsBA,IAAA,gBAtBA,8BAsBA;AACA,WAAA,IAAA,GAAA,KAAA;AACA,WAAA,KAAA,CAAA,SAAA,EAAA;AACA,QAAA,OAAA,EAAA,KAAA,QADA;AAEA,QAAA,IAAA,EAAA,kBAFA;AAGA,QAAA,MAAA,EAAA,KAAA;AAHA,OAAA;AAKA,KA7BA;AA8BA,IAAA,KA9BA,iBA8BA,CA9BA,EA8BA;AACA,WAAA,IAAA,GAAA,KAAA;AACA,WAAA,KAAA,CAAA,SAAA,EAAA;AACA,QAAA,OAAA,EAAA,KAAA,QADA;AAEA,QAAA,IAAA,EAAA;AAFA,OAAA;AAIA,KApCA;AAqCA;AACA,IAAA,QAtCA,sBAsCA;AACA,WAAA,IAAA,GAAA,KAAA;AACA,WAAA,KAAA,CAAA,SAAA,EAAA;AACA,QAAA,OAAA,EAAA,KAAA,QADA;AAEA,QAAA,IAAA,EAAA;AAFA,OAAA;AAIA,KA5CA;AA6CA;AACA,IAAA,YA9CA,0BA8CA;AACA,WAAA,IAAA,GAAA,KAAA;AACA,WAAA,KAAA,CAAA,SAAA,EAAA;AACA,QAAA,OAAA,EAAA,KAAA,QADA;AAEA,QAAA,IAAA,EAAA;AAFA,OAAA;AAIA;AApDA;AA5DA,CAAA","sourcesContent":["<template>\n  <st-modal\n    title\n    size=\"small\"\n    v-model=\"show\"\n    :footer=\"null\"\n    @cancel=\"onCancel\"\n    wrapClassName=\"modal-sold-deal-gathering-tip\"\n  >\n    <div :class=\"gatheringTip('content')\">\n      <st-icon type=\"success\" class=\"img\" color=\"#52c41a\" />\n      <p>{{ message }}</p>\n      <st-button v-if=\"!isBrandStudio && needContract\" @click=\"print\">\n        打印合同\n      </st-button>\n      <st-button @click=\"viewOrder\">查看订单</st-button>\n      <st-button @click=\"printOrder\" v-if=\"auth.print && needTicket\">\n        打印小票\n      </st-button>\n      <st-button v-if=\"isShowSoldDetailBtn\" @click=\"viewSoldDetetail\">\n        合同详情\n      </st-button>\n      <st-button @click=\"goPay\" v-if=\"needPay\">去支付</st-button>\n      <st-button @click=\"changeMember\" v-if=\"isFamilyCard\">变更成员</st-button>\n    </div>\n  </st-modal>\n</template>\n\n<script>\nimport { UserService } from '@/services/user.service'\nimport { GatheringTipService } from './gathering-tip.service'\nimport { PRODUCT_TYPE } from '@/constants/sold/transaction'\nexport default {\n  name: 'ModalSoldDealGatheringTip',\n  bem: {\n    gatheringTip: 'modal-sold-deal-gathering-tip'\n  },\n  data() {\n    return {\n      show: false\n    }\n  },\n  serviceInject() {\n    return {\n      userService: UserService,\n      gatheringTipService: GatheringTipService\n    }\n  },\n  rxState() {\n    return {\n      isBrandStudio: this.userService.isBrandStudio$,\n      auth: this.gatheringTipService.auth$\n    }\n  },\n  props: {\n    order_id: Number, // 订单id\n    /**\n     * 售出id\n     */\n    soldId: Number,\n    type: Number,\n    member_id: Number, // 会员id\n    message: String,\n    needPay: Boolean, // true 需要支付按钮 false 不需要\n    isFamilyCard: Boolean, // true 需要展示变更成员按钮 false 不需要\n    needContract: {\n      type: Boolean,\n      default: true\n    },\n    needTicket: {\n      type: Boolean,\n      default: true\n    }\n  },\n  computed: {\n    isShowSoldDetailBtn() {\n      const {\n        MEMBER_CARD,\n        DEPOSIT_CARD,\n        PERSONAL_COURSE,\n        PACKAGE,\n        SMALL_COURSE\n      } = PRODUCT_TYPE\n      return [\n        MEMBER_CARD,\n        DEPOSIT_CARD,\n        PERSONAL_COURSE,\n        PACKAGE,\n        SMALL_COURSE\n      ].includes(this.type)\n    }\n  },\n  methods: {\n    print() {\n      this.show = false\n      this.$emit('success', {\n        orderId: this.order_id,\n        type: 'Print'\n      })\n    },\n    printOrder() {\n      this.show = false\n      this.$emit('success', {\n        orderId: this.order_id,\n        type: 'PrintOrder'\n      })\n    },\n    viewOrder() {\n      this.show = false\n      this.$emit('success', {\n        orderId: this.order_id,\n        type: 'ViewOrder'\n      })\n    },\n    viewSoldDetetail() {\n      this.show = false\n      this.$emit('success', {\n        orderId: this.order_id,\n        type: 'viewSoldDetetail',\n        soldId: this.soldId\n      })\n    },\n    goPay(e) {\n      this.show = false\n      this.$emit('success', {\n        orderId: this.order_id,\n        type: 'Pay'\n      })\n    },\n    // 取消\n    onCancel() {\n      this.show = false\n      this.$emit('success', {\n        orderId: this.order_id,\n        type: 'cancel'\n      })\n    },\n    // 变更成员\n    changeMember() {\n      this.show = false\n      this.$emit('success', {\n        orderId: this.order_id,\n        type: 'ChangeMember'\n      })\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/views/biz-modals/sold/deal"}]}