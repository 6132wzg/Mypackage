{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/product/package/component#/add-course-fix-table.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/product/package/component#/add-course-fix-table.vue","mtime":1600046447617},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es7.array.includes\";\nimport _typeof from \"/Users/wangzhigang/Desktop/styd/web/node_modules/@babel/runtime-corejs2/helpers/esm/typeof\";\nimport \"core-js/modules/web.dom.iterable\";\nimport _defineProperty from \"/Users/wangzhigang/Desktop/styd/web/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport CourseSelectCourse from '@/views/biz-modals/course/select-course';\nimport { FormService } from \"./form.service\";\nimport { AddFixPackageService } from \"../add-fix-package.service\";\nimport { forEach, cloneDeep, remove, every, reduce, filter } from 'lodash';\nimport { isEmpty } from 'lodash-es';\nexport default {\n  name: 'AddCourseFixTable',\n  bem: {\n    add: 'page-shop-add-fix-package',\n    b: 'page-shop-add-basic-package'\n  },\n  serviceInject: function serviceInject() {\n    return {\n      addFixService: AddFixPackageService\n    };\n  },\n  rxState: function rxState() {\n    return {\n      coachList: this.addFixService.coachList$\n    };\n  },\n  computed: {\n    all_total: function all_total() {\n      var teamTotal = this.packageData.is_team ? this.teamCourseTotalObject.total : 0;\n      var personalTotal = this.packageData.is_personal ? this.personalCourseTotalObject.total : 0;\n      return teamTotal + personalTotal;\n    }\n  },\n  props: {\n    initInfo: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    useShopInfo: {\n      type: Object,\n      default: function _default() {}\n    }\n  },\n  watch: {\n    packageData: {\n      handler: function handler(newValue, oldValue) {\n        if (!newValue.is_team && !newValue.is_personal) {\n          this.$emit('change', {});\n          return '';\n        }\n\n        if (newValue.is_team && !this.teamCourseList.length) {\n          this.$emit('change', {});\n          return false;\n        }\n\n        if (newValue.is_personal && !this.personalCourseList.length) {\n          this.$emit('change', {});\n          return false;\n        }\n\n        this.$emit('change', this.getRangeCourse(_objectSpread({\n          team_range: this.teamCourseList\n        }, newValue, {\n          personal_range: this.personalCourseList\n        })));\n      },\n      deep: true\n    },\n    teamCourseList: {\n      handler: function handler(newValue, oldValue) {\n        var _this = this;\n\n        var allSelect = false;\n        var allNotSelect = false;\n        allSelect = every(newValue, function (o) {\n          return o.courseChecked;\n        });\n        allNotSelect = every(newValue, function (o) {\n          return !o.courseChecked;\n        });\n        this.teamIndeterminate = !allSelect && !allNotSelect;\n        this.teamCheckAll = newValue.length ? allSelect : false;\n        newValue.forEach(function (item) {\n          _this.validateTeam = !item.team_times || !item.team_unit_price;\n        }); // 计算团课总计\n\n        this.teamCourseTotalObject.team_times = reduce(newValue, function (sum, o) {\n          var team_times = isNaN(+o.team_times) ? 0 : +o.team_times;\n          return sum + team_times;\n        }, 0);\n        this.teamCourseTotalObject.total = reduce(newValue, function (sum, o) {\n          var team_times = isNaN(+o.team_times) ? 0 : +o.team_times;\n          var team_unit_price = isNaN(+o.team_unit_price) ? 0 : +o.team_unit_price;\n          return sum + team_times * (team_unit_price * 10) / 10;\n        }, 0);\n\n        if (this.validateTeam) {\n          this.$emit('change', {});\n          return;\n        }\n\n        this.$emit('change', this.getRangeCourse(_objectSpread({\n          personal_range: this.personalCourseList\n        }, this.packageData, {\n          team_range: newValue\n        })));\n      },\n      deep: true\n    },\n    personalCourseList: {\n      handler: function handler(newValue, oldValue) {\n        var _this2 = this;\n\n        newValue.forEach(function (item) {\n          _this2.validatePersonal = !item.personal_times || !item.personal_unit_price;\n        });\n        var allSelect = false;\n        var allNotSelect = false;\n        allSelect = every(newValue, function (o) {\n          return o.courseChecked;\n        });\n        allNotSelect = every(newValue, function (o) {\n          return !o.courseChecked;\n        });\n        this.personalIndeterminate = !allSelect && !allNotSelect;\n        this.personalCheckAll = newValue.length ? allSelect : false; // 计算私教课总计\n\n        this.personalCourseTotalObject.personal_times = reduce(newValue, function (sum, o) {\n          var personal_times = isNaN(+o.personal_times) ? 0 : +o.personal_times;\n          return sum + personal_times;\n        }, 0);\n        this.personalCourseTotalObject.total = reduce(newValue, function (sum, o) {\n          var personal_times = isNaN(+o.personal_times) ? 0 : +o.personal_times;\n          var personal_unit_price = isNaN(+o.personal_unit_price) ? 0 : +o.personal_unit_price;\n          return sum + personal_times * (personal_unit_price * 10) / 10;\n        }, 0);\n\n        if (this.validatePersonal) {\n          this.$emit('change', {});\n          return;\n        }\n\n        this.$emit('change', this.getRangeCourse(_objectSpread({\n          personal_range: newValue\n        }, this.packageData, {\n          team_range: this.teamCourseList\n        })));\n      },\n      deep: true\n    }\n  },\n  data: function data() {\n    return {\n      isCourseRange: false,\n      validateTeam: false,\n      validatePersonal: false,\n      personalCoachTotalList: {},\n      personalCoachListHistory: [],\n      // 操作栏checkbox是否半选\n      teamIndeterminate: false,\n      // 操作栏checkbox是否半选\n      personalIndeterminate: false,\n      // 操作栏checkbox是全选\n      personalCheckAll: false,\n      // 配置课程表格是否显示\n      teamCourseListIsShow: false,\n      // 配置的课程总计\n      teamCourseTotalObject: {\n        team_times: 0,\n        total: 0\n      },\n      // 备份课程已做的操作\n      teamCourseTotalList: {},\n      // 批量操作的值\n      teamOperationObject: {\n        team_times: undefined,\n        team_unit_price: undefined\n      },\n      // 操作栏选择教练等级的dorpdown是否显示\n      coachAllOperationDropdownIsShow: false,\n      // 操作栏教练等级选择的值\n      personalAllOperationCoachList: [],\n      // 批量操作的值\n      personalOperationObject: {\n        personal_times: undefined,\n        personal_unit_price: undefined\n      },\n      // 配置课程表格是否显示\n      personalCourseListIsShow: false,\n      // 配置的课程总计\n      personalCourseTotalObject: {\n        personal_times: 0,\n        total: 0\n      },\n      personalCourseTotalList: [],\n      // team course\n      teamCourseList: [],\n      // personal course\n      personalCourseList: [],\n      // 课程范围是否未输入过\n      courseIsFirstInput: true,\n      // 操作栏checkbox是全选\n      teamCheckAll: false,\n      packageData: {\n        is_team: false,\n        is_personal: false\n      },\n      validateCourseRange: ''\n    };\n  },\n  modals: {\n    CourseSelectCourse: CourseSelectCourse\n  },\n  filters: {\n    // 单课价格统计\n    course_item_total: function course_item_total(times, unit_price) {\n      if (+times && +unit_price) {\n        return +times * (+unit_price * 10) / 10;\n      } else {\n        return 0;\n      }\n    }\n  },\n  methods: {\n    // 移除选择的课程\n    removeCourseItems: function removeCourseItems(type) {\n      if (type === 'team') {\n        var arr = cloneDeep(this.teamCourseList);\n        var removeList = remove(arr, function (o) {\n          return o.courseChecked;\n        });\n        this.teamCourseList = arr; // 移除备份\n\n        var list = cloneDeep(this.teamCourseTotalList);\n        removeList.forEach(function (i) {\n          delete list[i.course_id];\n        });\n        this.teamCourseTotalList = list;\n      } else if (type === 'personal') {\n        var _arr = cloneDeep(this.personalCourseList);\n\n        var _removeList = remove(_arr, function (o) {\n          return o.courseChecked;\n        });\n\n        this.personalCourseList = _arr; // 移除备份\n\n        var coachList = cloneDeep(this.personalCourseTotalList);\n\n        _removeList.forEach(function (i) {\n          delete coachList[i.course_id];\n        });\n\n        this.personalCourseTotalList = coachList;\n      }\n    },\n    getRangeCourse: function getRangeCourse(rangeCourse) {\n      var form = cloneDeep(rangeCourse);\n\n      if (_typeof(form.personal_range) === 'object') {\n        form.personal_range = form.personal_range.map(function (item) {\n          return {\n            personal_unit_price: item.personal_unit_price,\n            personal_times: item.personal_times,\n            course_id: item.course_id,\n            coach_level: item.coachGradeList.map(function (item) {\n              return typeof item === 'number' ? item : item.id;\n            })\n          };\n        });\n      }\n\n      if (_typeof(form.team_range) === 'object') {\n        form.team_range = form.team_range.map(function (item) {\n          return {\n            team_unit_price: item.team_unit_price,\n            team_times: item.team_times,\n            course_id: item.course_id\n          };\n        });\n      }\n\n      if (!rangeCourse.is_team) {\n        form.team_range = [];\n      }\n\n      if (!rangeCourse.is_personal) {\n        form.personal_range = [];\n      }\n\n      form.is_team = +rangeCourse.is_team;\n      form.is_personal = +rangeCourse.is_personal;\n      return form;\n    },\n    // item coach checkboxGroup changeEvent\n    coachItemChange: function coachItemChange(e, id, index) {\n      if (!e.length) {\n        this.personalCourseList[index].coachGradeList = this.personalCoachListHistory[index];\n        return;\n      } else {\n        this.personalCoachListHistory[index] = cloneDeep(e);\n      }\n\n      this.personalCourseTotalList[id] = this.personalCourseTotalList[id] ? this.personalCourseTotalList[id] : {};\n      this.personalCourseTotalList[id].list = cloneDeep(e);\n    },\n    // teamItems input change\n    teamInputChange: function teamInputChange(e, type, id) {\n      this.teamCourseTotalList[id] = this.teamCourseTotalList[id] ? this.teamCourseTotalList[id] : {};\n      this.teamCourseTotalList[id][type] = e;\n    },\n    // 选择课程\n    courseItemCheckedChange: function courseItemCheckedChange(e, type, index) {\n      if (type === 'team') {\n        this.teamCourseList[index].courseChecked = e.target.checked;\n      } else if (type === 'personal') {\n        this.personalCourseList[index].courseChecked = e.target.checked;\n      }\n    },\n    // personalItems input change\n    personalInputChange: function personalInputChange(e, type, id) {\n      this.personalCourseTotalList[id] = this.personalCourseTotalList[id] ? this.personalCourseTotalList[id] : {};\n      this.personalCourseTotalList[id][type] = e;\n    },\n    // 移除课程\n    removeCourseItem: function removeCourseItem(type, id) {\n      if (type === 'team') {\n        var arr = cloneDeep(this.teamCourseList);\n        remove(arr, function (o) {\n          return o.course_id === id;\n        });\n        this.teamCourseList = arr; // 移除备份\n\n        var list = cloneDeep(this.teamCourseTotalList);\n        delete list[id];\n        this.teamCourseTotalList = list;\n      } else if (type === 'personal') {\n        var _arr2 = cloneDeep(this.personalCourseList);\n\n        remove(_arr2, function (o) {\n          return o.course_id === id;\n        });\n        this.personalCourseList = _arr2; // 移除备份\n\n        var coachList = cloneDeep(this.personalCourseTotalList);\n        delete coachList[id];\n        this.personalCourseTotalList = coachList;\n      }\n    },\n    // 新增团课课程\n    addCourseTeam: function addCourseTeam() {\n      var _this3 = this;\n\n      var that = this;\n      this.$modalRouter.push({\n        name: 'course-select-course',\n        props: {\n          platform: 'brand',\n          type: 'team',\n          useShopInfo: this.useShopInfo,\n          courses: this.teamCourseList,\n          isLimit: true\n        },\n        on: {\n          ok: function ok(data) {\n            data.list.forEach(function (i) {\n              i.courseChecked = false;\n              i.team_times = i.team_times ? +i.team_times : 0;\n              i.team_unit_price = i.team_unit_price ? +i.team_unit_price : 0;\n            });\n            forEach(_this3.teamCourseTotalList, function (value, key) {\n              forEach(data.list, function (innerValue) {\n                if (+innerValue.course_id === +key) {\n                  innerValue.team_times = value.team_times ? +value.team_times : 0;\n                  innerValue.team_unit_price = value.team_unit_price ? +value.team_unit_price : 0;\n                }\n              }); // 删除teamCourseTotalList里不存在的course_id项\n\n              if (!data.list.some(function (o) {\n                return +o.course_id === +key;\n              })) {\n                delete _this3.teamCourseTotalList[key];\n              }\n            });\n            _this3.teamCourseList = cloneDeep(data.list);\n          }\n        }\n      });\n    },\n    // 新增私教课\n    addCoursePersonal: function addCoursePersonal() {\n      var that = this;\n      this.$modalRouter.push({\n        name: 'course-select-course',\n        props: {\n          platform: 'brand',\n          type: 'personal',\n          useShopInfo: this.useShopInfo,\n          courses: this.personalCourseList,\n          isLimit: true\n        },\n        on: {\n          ok: function ok(data) {\n            var coachGradeList = [];\n            forEach(that.coachList, function (i) {\n              coachGradeList.push(i.id);\n            });\n            var total = reduce(that.coachList, function (sum, o) {\n              return sum + o.coach_number;\n            }, 0);\n            data.list.forEach(function (i) {\n              i.courseChecked = false;\n              i.coachGradeList = coachGradeList;\n              i.personal_times = i.personal_times ? +i.personal_times : 0;\n              i.personal_unit_price = i.personal_unit_price ? +i.personal_unit_price : 0;\n            });\n            forEach(that.personalCourseTotalList, function (value, key) {\n              forEach(data.list, function (innerValue) {\n                if (+innerValue.course_id === +key) {\n                  innerValue.coachGradeList = cloneDeep(value.list ? value.list : coachGradeList);\n                  innerValue.personal_times = value.personal_times ? +value.personal_times : 0;\n                  innerValue.personal_unit_price = value.personal_unit_price ? +value.personal_unit_price : 0;\n                }\n              }); // 删除personalCoachTotalList里不存在的course_id项\n\n              if (!data.list.some(function (o) {\n                return +o.course_id === +key;\n              })) {\n                delete that.personalCourseTotalList[key];\n              }\n            }); // 缓存选择的教练等级\n\n            that.personalCoachListHistory = [];\n            data.list.forEach(function (i) {\n              that.personalCoachListHistory.push(i.coachGradeList);\n            });\n            that.personalCourseList = cloneDeep(data.list);\n            that.personalCourseList.forEach(function (item) {\n              if (item.coachGradeList && item.coachGradeList.length > 0) {\n                item.coachGradeList = item.coachGradeList.map(function (i) {\n                  return i.id || i;\n                });\n              }\n            });\n            console.log(that.personalCourseList);\n          }\n        }\n      });\n    },\n    teamCheckboxChange: function teamCheckboxChange(event) {\n      this.courseIsFirstInput = false;\n      this.teamCourseListIsShow = +event.target.checked;\n    },\n    personalCheckboxChange: function personalCheckboxChange(e) {\n      this.courseIsFirstInput = false;\n      this.personalCourseListIsShow = +e.target.checked;\n    },\n    // team\n    teamCourseListShow: function teamCourseListShow() {\n      this.teamCourseListIsShow = !this.teamCourseListIsShow;\n    },\n    // personal\n    personalCourseListShow: function personalCourseListShow() {\n      this.personalCourseListIsShow = !this.personalCourseListIsShow;\n    },\n    // 全选\n    checkAllChange: function checkAllChange(type) {\n      var _this4 = this;\n\n      if (type === 'team') {\n        this.teamCheckAll = !this.teamCheckAll;\n        this.teamCourseList.forEach(function (i) {\n          i.courseChecked = _this4.teamCheckAll;\n        });\n      } else if (type === 'personal') {\n        this.personalCheckAll = !this.personalCheckAll;\n        this.personalCourseList.forEach(function (i) {\n          i.courseChecked = _this4.personalCheckAll;\n        });\n      }\n    },\n    // 批量操作团课课程包节数\n    timesOperationOk: function timesOperationOk(type) {\n      var _this5 = this;\n\n      if (type === 'team') {\n        forEach(this.teamCourseList, function (o) {\n          if (o.courseChecked) {\n            o.team_times = +_this5.teamOperationObject.team_times; // 备份批量操作的数据\n\n            _this5.teamCourseTotalList[o.course_id] = _this5.teamCourseTotalList[o.course_id] ? _this5.teamCourseTotalList[o.course_id] : {};\n            _this5.teamCourseTotalList[o.course_id].team_times = +_this5.teamOperationObject.team_times;\n          }\n        });\n      } else if (type === 'personal') {\n        forEach(this.personalCourseList, function (o) {\n          if (o.courseChecked) {\n            o.personal_times = +_this5.personalOperationObject.personal_times; // 备份批量操作的数据\n\n            var personalCourse = _this5.personalCourseTotalList[o.course_id] ? _this5.personalCourseTotalList[o.course_id] : {};\n            var personal_times = +_this5.personalOperationObject.personal_times;\n            _this5.personalCourseTotalList[o.course_id] = _objectSpread({}, personalCourse, {\n              personal_times: personal_times\n            });\n          }\n        });\n      }\n    },\n    // 批量操作团课课程包价格\n    unitPriceOperationOk: function unitPriceOperationOk(type) {\n      var _this6 = this;\n\n      if (type === 'team') {\n        forEach(this.teamCourseList, function (o) {\n          if (o.courseChecked) {\n            o.team_unit_price = +_this6.teamOperationObject.team_unit_price; // 备份批量操作的数据\n\n            _this6.teamCourseTotalList[o.course_id] = _this6.teamCourseTotalList[o.course_id] ? _this6.teamCourseTotalList[o.course_id] : {};\n            _this6.teamCourseTotalList[o.course_id].team_unit_price = +_this6.teamOperationObject.team_unit_price;\n          }\n        });\n      } else if (type === 'personal') {\n        forEach(this.personalCourseList, function (o) {\n          if (o.courseChecked) {\n            o.personal_unit_price = +_this6.personalOperationObject.personal_unit_price; // 备份批量操作的数据\n\n            _this6.personalCourseTotalList[o.course_id] = _this6.personalCourseTotalList[o.course_id] ? _this6.personalCourseTotalList[o.course_id] : {};\n            _this6.personalCourseTotalList[o.course_id].personal_unit_price = +_this6.personalOperationObject.personal_unit_price;\n          }\n        });\n      }\n    },\n    coachAllOperationOk: function coachAllOperationOk() {\n      var _this7 = this;\n\n      // 批量设置\n      forEach(this.personalCourseList, function (value) {\n        if (value.courseChecked) {\n          value.coachGradeList = cloneDeep(_this7.personalAllOperationCoachList);\n          _this7.personalCourseTotalList[value.course_id] = _this7.personalCourseTotalList[value.course_id] ? _this7.personalCourseTotalList[value.course_id] : {};\n          _this7.personalCourseTotalList[value.course_id].list = cloneDeep(_this7.personalAllOperationCoachList);\n        }\n      }); // 缓存选择的教练等级\n\n      this.personalCoachListHistory = [];\n      forEach(this.personalCourseList, function (i) {\n        _this7.personalCoachListHistory.push(i.coachGradeList);\n      }); // 清空\n\n      this.personalAllOperationCoachList = []; // 收起\n\n      this.coachAllOperationDropdownIsShow = false;\n    }\n  },\n  created: function created() {\n    var _this8 = this;\n\n    if (isEmpty(this.initInfo)) return '';\n    this.packageData.is_team = this.initInfo.is_team;\n    this.packageData.is_personal = this.initInfo.is_personal;\n    this.packageData.personal_unit_price = this.initInfo.personal_unit_price;\n    this.packageData.team_unit_price = this.initInfo.team_unit_price;\n    forEach(this.initInfo.team_range, function (o) {\n      _this8.teamCourseList.push(_objectSpread({\n        courseChecked: false\n      }, o));\n\n      _this8.teamCourseTotalList[o.course_id] = _this8.teamCourseTotalList[o.course_id] || {};\n      _this8.teamCourseTotalList[o.course_id].team_times = o.team_times;\n      _this8.teamCourseTotalList[o.course_id].team_unit_price = o.team_unit_price;\n    });\n    forEach(this.initInfo.personal_range, function (o) {\n      var coachGradeList = [];\n      o.coach_level.forEach(function (i) {\n        coachGradeList.push(i.id);\n      });\n      var selectCoach = filter(_this8.coachList, function (i) {\n        return coachGradeList.includes(i.id);\n      });\n      var total = reduce(selectCoach, function (sum, i) {\n        return sum + i.coach_number;\n      }, 0);\n\n      _this8.personalCourseList.push(_objectSpread({\n        courseChecked: false\n      }, o, {\n        coachGradeList: coachGradeList,\n        coach: total\n      }));\n\n      _this8.personalCoachTotalList[o.course_id] = _this8.personalCoachTotalList[o.course_id] || {};\n      _this8.personalCoachTotalList[o.course_id].list = cloneDeep(o.coach_level);\n      _this8.personalCoachTotalList[o.course_id].total = total;\n\n      _this8.personalCoachListHistory.push(cloneDeep(o.coach_level.map(function (item) {\n        return item.id;\n      })));\n    });\n  },\n  mounted: function mounted() {\n    this.addFixService.getCoachList().subscribe();\n  }\n};",{"version":3,"sources":["add-course-fix-table.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <!-- TODO: 样式不修改 -->\n  <div\n    :class=\"add('course')\"\n    class=\"page-shop-add-basic-package  page-shop-add-range-package page-brand-add-fix-package\"\n  >\n    <div>\n      <st-form-table>\n        <colgroup>\n          <col style=\"width:5%;\" />\n          <col style=\"width:10%;\" />\n          <col style=\"width:24%;\" />\n          <col style=\"width:18%;\" />\n          <col style=\"width:18%;\" />\n          <col style=\"width:25%;\" />\n        </colgroup>\n        <tr class=\"bg-thead table-header\">\n          <th></th>\n          <th class=\"rightline pd-x16\">课程类型</th>\n          <th></th>\n          <th class=\"pd-x16\">节数(节)</th>\n          <th class=\"pd-x16\">小计(元)</th>\n          <th></th>\n        </tr>\n        <tbody>\n          <tr class=\"bg-row-odd add-team checkbox border-bottom\">\n            <td class=\"tg-c\">\n              <a-checkbox\n                v-model=\"packageData.is_team\"\n                @change=\"teamCheckboxChange\"\n              />\n            </td>\n            <td class=\"rightline white-nowrap\">\n              团体课程\n            </td>\n            <td :class=\"{ 'add-team__item': !!packageData.is_team }\"></td>\n            <td>{{ teamCourseTotalObject.team_times }}</td>\n            <td>{{ teamCourseTotalObject.total }}</td>\n            <td class=\"overflow-hidden\">\n              <a\n                class=\"set-course-button\"\n                @click=\"teamCourseListShow\"\n                :disabled=\"!packageData.is_team\"\n                :class=\"{\n                  hide: !(teamCourseListIsShow && packageData.is_team)\n                }\"\n                href=\"javascript:void(0)\"\n              >\n                配置上课范围&nbsp;&nbsp;\n                <st-icon class=\"icon-12\" type=\"down-small\" />\n              </a>\n            </td>\n          </tr>\n          <tr\n            class=\"bg-row-odd team-course-list-content\"\n            v-if=\"teamCourseListIsShow && packageData.is_team\"\n          >\n            <td\n              class=\"rightline\"\n              style=\"background-color:#fff\"\n              colspan=\"2\"\n            ></td>\n            <td class=\"team-course-table\" colspan=\"4\">\n              <div :class=\"add('team-course-table')\">\n                <st-form-table>\n                  <colgroup>\n                    <col style=\"width:5%;\" />\n                    <col style=\"width:10%;\" />\n                    <col style=\"width:14%;\" />\n                    <col style=\"width:18%;\" />\n                    <col style=\"width:18%;\" />\n                    <col style=\"width:15%;\" />\n                    <col style=\"width:10%;\" />\n                  </colgroup>\n                  <tr class=\"bg-thead th\">\n                    <th></th>\n                    <th>课程名称</th>\n                    <th>上课门店</th>\n                    <th>节数</th>\n                    <th>课时费</th>\n                    <th>总价(元)</th>\n                    <th>操作</th>\n                  </tr>\n                  <tbody>\n                    <tr class=\"checkbox border-bottom\">\n                      <td colspan=\"7\" class=\"team-course-add-buton\">\n                        <st-button\n                          block\n                          type=\"dashed\"\n                          icon=\"add\"\n                          @click=\"addCourseTeam\"\n                        >\n                          新增团体课程\n                        </st-button>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td colspan=\"7\">\n                        <p\n                          v-if=\"!teamCourseList.length\"\n                          class=\"bg-row-even\"\n                          style=\"margin: 0;text-align:center;\"\n                        >\n                          无数据\n                        </p>\n                        <!-- 在AForm组件里用自定义指令时，需要加上v-decorator,值不能重复 -->\n                      </td>\n                    </tr>\n                    <template\n                      class=\"package-course-content-table\"\n                      v-if=\"teamCourseList.length\"\n                      v-scrollBar=\"{ stopPropagation: true }\"\n                      v-decorator=\"['teamCourseList2']\"\n                    >\n                      <tr\n                        class=\"checkbox border-bottom\"\n                        :class=\"{\n                          'bg-row-odd': index % 2 !== 0,\n                          'bg-row-even': index % 2 === 0\n                        }\"\n                        v-for=\"(i, index) in teamCourseList\"\n                        :key=\"i.course_id\"\n                      >\n                        <td class=\"tg-c\">\n                          <a-checkbox\n                            :checked=\"i.courseChecked\"\n                            @change=\"\n                              courseItemCheckedChange($event, 'team', index)\n                            \"\n                          />\n                        </td>\n                        <td>\n                          <st-overflow-text\n                            maxWidth=\"120px\"\n                            :value=\"i.course_name\"\n                          ></st-overflow-text>\n                        </td>\n                        <td>\n                          <st-overflow-text\n                            maxWidth=\"120px\"\n                            :value=\"i.shop_name\"\n                          ></st-overflow-text>\n                        </td>\n                        <td>\n                          <st-input-number\n                            :min=\"1\"\n                            :max=\"99999\"\n                            @change=\"\n                              teamInputChange($event, 'team_times', i.course_id)\n                            \"\n                            v-model=\"i.team_times\"\n                          >\n                            <template slot=\"addonAfter\">\n                              节\n                            </template>\n                          </st-input-number>\n                          <span\n                            style=\"color: red;font-size: 12px\"\n                            v-if=\"validateTeam && !i.team_times\"\n                          >\n                            请填写节数\n                          </span>\n                        </td>\n                        <td>\n                          <st-input-number\n                            :min=\"0\"\n                            :max=\"999999.9\"\n                            @change=\"\n                              teamInputChange(\n                                $event,\n                                'team_unit_price',\n                                i.course_id\n                              )\n                            \"\n                            v-model=\"i.team_unit_price\"\n                            :float=\"true\"\n                          >\n                            <template slot=\"addonAfter\">\n                              元\n                            </template>\n                          </st-input-number>\n                          <span\n                            style=\"color: red;font-size: 12px\"\n                            v-if=\"validateTeam && !i.team_unit_price\"\n                          >\n                            请填写价格\n                          </span>\n                        </td>\n                        <td>\n                          {{\n                            i.team_times | course_item_total(i.team_unit_price)\n                          }}\n                        </td>\n                        <td>\n                          <a\n                            @click=\"removeCourseItem('team', i.course_id)\"\n                            href=\"javascript:void(0)\"\n                          >\n                            删除\n                          </a>\n                        </td>\n                      </tr>\n                    </template>\n                    <tr class=\"bg-thead checkbox topline\">\n                      <td class=\"tg-c\">\n                        <a-checkbox\n                          :indeterminate=\"teamIndeterminate\"\n                          @change=\"checkAllChange('team')\"\n                          :checked=\"teamCheckAll\"\n                        />\n                      </td>\n                      <td>批量操作</td>\n                      <td></td>\n                      <td>\n                        <st-input-number\n                          :min=\"1\"\n                          :max=\"99999\"\n                          v-model=\"teamOperationObject.team_times\"\n                        >\n                          <a\n                            :disabled=\"!+teamOperationObject.team_times\"\n                            slot=\"addonAfter\"\n                            @click=\"timesOperationOk('team')\"\n                          >\n                            确定\n                          </a>\n                        </st-input-number>\n                      </td>\n                      <td>\n                        <st-input-number\n                          :min=\"0\"\n                          :max=\"999999.9\"\n                          v-model=\"teamOperationObject.team_unit_price\"\n                          :float=\"true\"\n                        >\n                          <a\n                            :disabled=\"!+teamOperationObject.team_unit_price\"\n                            slot=\"addonAfter\"\n                            @click=\"unitPriceOperationOk('team')\"\n                          >\n                            确定\n                          </a>\n                        </st-input-number>\n                      </td>\n                      <td>\n                        {{\n                          teamOperationObject.team_times\n                            | course_item_total(\n                              teamOperationObject.team_unit_price\n                            )\n                        }}\n                      </td>\n                      <td>\n                        <a\n                          @click=\"removeCourseItems('team')\"\n                          href=\"javascript:void(0)\"\n                        >\n                          删除\n                        </a>\n                      </td>\n                    </tr>\n                  </tbody>\n                </st-form-table>\n              </div>\n            </td>\n          </tr>\n          <tr class=\"checkbox topline add-personal  border-bottom\">\n            <td class=\"tg-c\">\n              <a-checkbox\n                v-model=\"packageData.is_personal\"\n                @change=\"personalCheckboxChange\"\n              />\n            </td>\n            <td class=\"rightline\">私教课程</td>\n            <td\n              :class=\"{ 'add-personal__item': !!packageData.is_personal }\"\n            ></td>\n            <td>{{ personalCourseTotalObject.personal_times }}</td>\n            <td>{{ personalCourseTotalObject.total }}</td>\n            <td class=\"overflow-hidden\">\n              <a\n                class=\"set-course-button\"\n                @click=\"personalCourseListShow\"\n                :disabled=\"!packageData.is_personal\"\n                :class=\"{\n                  hide: !(personalCourseListIsShow && packageData.is_personal)\n                }\"\n                href=\"javascript:void(0)\"\n              >\n                配置上课范围&nbsp;&nbsp;\n                <st-icon class=\"icon-12\" type=\"down-small\" />\n              </a>\n            </td>\n          </tr>\n          <tr\n            class=\"personal-course-list-content\"\n            v-if=\"personalCourseListIsShow && packageData.is_personal\"\n          >\n            <td class=\"rightline\" colspan=\"2\"></td>\n            <td class=\"personal-course-table\" colspan=\"4\">\n              <div :class=\"add('personal-course-table')\">\n                <table>\n                  <colgroup>\n                    <col style=\"width:5%;\" />\n                    <col style=\"width:15%;\" />\n                    <col style=\"width:15%;\" />\n                    <col style=\"width:13%;\" />\n                    <col style=\"width:13%;\" />\n                    <col style=\"width:23%;\" />\n                    <col style=\"width:8%;\" />\n                    <col style=\"width:8%;\" />\n                  </colgroup>\n                  <tr class=\"bg-thead th\">\n                    <th></th>\n                    <th>课程名称</th>\n                    <th>上课门店</th>\n                    <th>节数</th>\n                    <th>课时费</th>\n                    <th class=\"tg-c\">支持预约的{{ $c('coach') }}等级</th>\n                    <th>总价(元)</th>\n                    <th>操作</th>\n                  </tr>\n                  <tbody>\n                    <tr class=\"checkbox border-bottom\">\n                      <td colspan=\"8\" class=\"personal-course-add-buton\">\n                        <st-button\n                          block\n                          type=\"dashed\"\n                          icon=\"add\"\n                          @click=\"addCoursePersonal\"\n                        >\n                          新增私教课程\n                        </st-button>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td colspan=\"8\">\n                        <p\n                          v-if=\"!personalCourseList.length\"\n                          class=\"bg-row-even\"\n                          style=\"margin: 0;text-align:center;\"\n                        >\n                          无数据\n                        </p>\n                        <!-- 在AForm组件里用自定义指令时，需要加上v-decorator,值不能重复 -->\n                      </td>\n                    </tr>\n                    <template\n                      class=\"package-course-content-table\"\n                      v-if=\"personalCourseList.length\"\n                      v-scrollBar=\"{ stopPropagation: true }\"\n                      v-decorator=\"['personalCourseList1']\"\n                    >\n                      <tr\n                        class=\"checkbox border-bottom\"\n                        :class=\"{\n                          'bg-row-odd': index % 2 !== 0,\n                          'bg-row-even': index % 2 === 0\n                        }\"\n                        v-for=\"(item, index) in personalCourseList\"\n                        :key=\"item.course_id\"\n                      >\n                        <td class=\"tg-c\">\n                          <a-checkbox\n                            :checked=\"item.courseChecked\"\n                            @change=\"\n                              courseItemCheckedChange($event, 'personal', index)\n                            \"\n                          />\n                        </td>\n                        <td>\n                          <st-overflow-text\n                            max-width=\"120px\"\n                            :value=\"item.course_name\"\n                          ></st-overflow-text>\n                        </td>\n                        <td>\n                          <st-overflow-text\n                            maxWidth=\"120px\"\n                            :value=\"item.shop_name\"\n                          ></st-overflow-text>\n                        </td>\n                        <td>\n                          <st-input-number\n                            :min=\"1\"\n                            :max=\"99999\"\n                            @change=\"\n                              personalInputChange(\n                                $event,\n                                'personal_times',\n                                item.course_id\n                              )\n                            \"\n                            v-model=\"item.personal_times\"\n                          >\n                            <template slot=\"addonAfter\">\n                              节\n                            </template>\n                          </st-input-number>\n                          <span\n                            style=\"color: red;font-size: 12px\"\n                            v-if=\"validatePersonal && !item.personal_times\"\n                          >\n                            请填写节数\n                          </span>\n                        </td>\n                        <td>\n                          <st-input-number\n                            :min=\"0\"\n                            :max=\"999999.9\"\n                            @change=\"\n                              personalInputChange(\n                                $event,\n                                'personal_unit_price',\n                                item.course_id\n                              )\n                            \"\n                            v-model=\"item.personal_unit_price\"\n                            :float=\"true\"\n                          >\n                            <template slot=\"addonAfter\">\n                              元\n                            </template>\n                          </st-input-number>\n                          <span\n                            style=\"color: red;font-size: 12px\"\n                            v-if=\"validatePersonal && !item.personal_unit_price\"\n                          >\n                            请填写价格\n                          </span>\n                        </td>\n                        <td class=\"tg-c\">\n                          <a-dropdown\n                            placement=\"bottomRight\"\n                            :trigger=\"['click']\"\n                          >\n                            <a href=\"javascript:void(0)\">\n                              {{\n                                item.coachGradeList.length === coachList.length\n                                  ? '全部'\n                                  : `${item.coachGradeList.length}个`\n                              }}等级&nbsp;&nbsp;\n                              <st-icon class=\"icon-12\" type=\"down-small\" />\n                            </a>\n                            <a-checkbox-group\n                              :class=\"b(`personal-dropdown`)\"\n                              v-model=\"item.coachGradeList\"\n                              @change=\"\n                                coachItemChange($event, item.course_id, index)\n                              \"\n                              slot=\"overlay\"\n                            >\n                              <!-- 在AForm组件里用自定义指令时，需要加上v-decorator,值不能重复 -->\n                              <ul\n                                class=\"personal-course-coach-grade-dropdown brand-page-package__personal-course-coach-grade-dropdown\"\n                                v-scrollBar=\"{\n                                  stopPropagation: true\n                                }\"\n                                v-decorator=\"[\n                                  `personalCourseListCoachGrade${index}`\n                                ]\"\n                              >\n                                <li\n                                  v-for=\"(coachItem, coachIndex) in coachList\"\n                                  :key=\"coachIndex\"\n                                >\n                                  <a-checkbox :value=\"coachItem.id\">\n                                    {{ coachItem.setting_name }}\n                                  </a-checkbox>\n                                </li>\n                              </ul>\n                            </a-checkbox-group>\n                          </a-dropdown>\n                        </td>\n                        <td>\n                          {{\n                            item.personal_times\n                              | course_item_total(item.personal_unit_price)\n                          }}\n                        </td>\n                        <td>\n                          <a\n                            @click=\"\n                              removeCourseItem('personal', item.course_id)\n                            \"\n                          >\n                            删除\n                          </a>\n                        </td>\n                      </tr>\n                    </template>\n                    <tr class=\"bg-thead checkbox topline\">\n                      <td class=\"tg-c\">\n                        <a-checkbox\n                          :indeterminate=\"personalIndeterminate\"\n                          @change=\"checkAllChange('personal')\"\n                          :checked=\"personalCheckAll\"\n                        />\n                      </td>\n                      <td>批量操作</td>\n                      <td></td>\n                      <td class=\"batch-sure\">\n                        <st-input-number\n                          :min=\"1\"\n                          :max=\"99999\"\n                          v-model=\"personalOperationObject.personal_times\"\n                        >\n                          <a\n                            :disabled=\"!+personalOperationObject.personal_times\"\n                            href=\"javascript:void(0)\"\n                            slot=\"addonAfter\"\n                            @click=\"timesOperationOk('personal')\"\n                          >\n                            确定\n                          </a>\n                        </st-input-number>\n                      </td>\n                      <td class=\"batch-sure\">\n                        <st-input-number\n                          :min=\"0\"\n                          :max=\"999999.9\"\n                          v-model=\"personalOperationObject.personal_unit_price\"\n                          :float=\"true\"\n                        >\n                          <a\n                            :disabled=\"\n                              !+personalOperationObject.personal_unit_price\n                            \"\n                            href=\"javascript:void(0)\"\n                            slot=\"addonAfter\"\n                            @click=\"unitPriceOperationOk('personal')\"\n                          >\n                            确定\n                          </a>\n                        </st-input-number>\n                      </td>\n                      <td class=\"tg-c\">\n                        <a-dropdown\n                          placement=\"bottomRight\"\n                          :trigger=\"['click']\"\n                          v-model=\"coachAllOperationDropdownIsShow\"\n                        >\n                          <a href=\"javascript:void(0)\">\n                            批量设置等级&nbsp;&nbsp;\n                            <st-icon class=\"icon-12\" type=\"down-small\" />\n                          </a>\n                          <a-checkbox-group\n                            class=\"all page-shop-add-basic-package__personal-dropdown\"\n                            v-model=\"personalAllOperationCoachList\"\n                            slot=\"overlay\"\n                          >\n                            <!-- 在AForm组件里用自定义指令时，需要加上v-decorator,值不能重复 -->\n                            <ul\n                              class=\"personal-course-coach-grade-dropdown brand-page-package__personal-course-coach-grade-dropdown \"\n                              v-scrollBar=\"{ stopPropagation: true }\"\n                              v-decorator=\"['personalCourseListCoachGradeAll']\"\n                            >\n                              <li\n                                v-for=\"(coachItem, coachIndex) in coachList\"\n                                :key=\"coachIndex\"\n                              >\n                                <a-checkbox :value=\"coachItem.id\">\n                                  {{ coachItem.setting_name }}\n                                </a-checkbox>\n                              </li>\n                            </ul>\n                            <div\n                              class=\"personal-course-coach-grade-dropdown-button\"\n                            >\n                              <a\n                                :disabled=\"\n                                  !personalAllOperationCoachList.length\n                                \"\n                                @click=\"coachAllOperationOk\"\n                              >\n                                确定\n                              </a>\n                            </div>\n                          </a-checkbox-group>\n                        </a-dropdown>\n                      </td>\n                      <td>\n                        {{\n                          personalOperationObject.personal_times\n                            | course_item_total(\n                              personalOperationObject.personal_unit_price\n                            )\n                        }}\n                      </td>\n                      <td>\n                        <a\n                          @click=\"removeCourseItems('personal')\"\n                          href=\"javascript:void(0)\"\n                        >\n                          删除\n                        </a>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </st-form-table>\n      <portal to=\"BRAND_PACKAGE_FORM_TOTAL\">\n        <a-row :gutter=\"8\">\n          <a-col :lg=\"10\" :xs=\"22\" :offset=\"1\">\n            <st-form-item label=\"总价\">\n              {{\n                personalCourseTotalObject.total + teamCourseTotalObject.total\n              }}元\n            </st-form-item>\n          </a-col>\n        </a-row>\n      </portal>\n    </div>\n  </div>\n</template>\n\n<script>\nimport CourseSelectCourse from '@/views/biz-modals/course/select-course'\nimport { FormService } from './form.service'\nimport { AddFixPackageService } from '../add-fix-package.service'\nimport { forEach, cloneDeep, remove, every, reduce, filter } from 'lodash'\nimport { isEmpty } from 'lodash-es'\nexport default {\n  name: 'AddCourseFixTable',\n  bem: {\n    add: 'page-shop-add-fix-package',\n    b: 'page-shop-add-basic-package'\n  },\n  serviceInject() {\n    return {\n      addFixService: AddFixPackageService\n    }\n  },\n  rxState() {\n    return {\n      coachList: this.addFixService.coachList$\n    }\n  },\n  computed: {\n    all_total() {\n      let teamTotal = this.packageData.is_team\n        ? this.teamCourseTotalObject.total\n        : 0\n      let personalTotal = this.packageData.is_personal\n        ? this.personalCourseTotalObject.total\n        : 0\n      return teamTotal + personalTotal\n    }\n  },\n  props: {\n    initInfo: {\n      type: Object,\n      default: () => {\n        return {}\n      }\n    },\n    useShopInfo: {\n      type: Object,\n      default: () => {}\n    }\n  },\n  watch: {\n    packageData: {\n      handler: function(newValue, oldValue) {\n        if (!newValue.is_team && !newValue.is_personal) {\n          this.$emit('change', {})\n          return ''\n        }\n        if (newValue.is_team && !this.teamCourseList.length) {\n          this.$emit('change', {})\n          return false\n        }\n        if (newValue.is_personal && !this.personalCourseList.length) {\n          this.$emit('change', {})\n          return false\n        }\n        this.$emit(\n          'change',\n          this.getRangeCourse({\n            team_range: this.teamCourseList,\n            ...newValue,\n            personal_range: this.personalCourseList\n          })\n        )\n      },\n      deep: true\n    },\n    teamCourseList: {\n      handler: function(newValue, oldValue) {\n        let allSelect = false\n        let allNotSelect = false\n        allSelect = every(newValue, o => o.courseChecked)\n        allNotSelect = every(newValue, o => !o.courseChecked)\n        this.teamIndeterminate = !allSelect && !allNotSelect\n        this.teamCheckAll = newValue.length ? allSelect : false\n        newValue.forEach(item => {\n          this.validateTeam = !item.team_times || !item.team_unit_price\n        })\n        // 计算团课总计\n        this.teamCourseTotalObject.team_times = reduce(\n          newValue,\n          (sum, o) => {\n            let team_times = isNaN(+o.team_times) ? 0 : +o.team_times\n            return sum + team_times\n          },\n          0\n        )\n        this.teamCourseTotalObject.total = reduce(\n          newValue,\n          (sum, o) => {\n            let team_times = isNaN(+o.team_times) ? 0 : +o.team_times\n            let team_unit_price = isNaN(+o.team_unit_price)\n              ? 0\n              : +o.team_unit_price\n            return sum + (team_times * (team_unit_price * 10)) / 10\n          },\n          0\n        )\n        if (this.validateTeam) {\n          this.$emit('change', {})\n          return\n        }\n        this.$emit(\n          'change',\n          this.getRangeCourse({\n            personal_range: this.personalCourseList,\n            ...this.packageData,\n            team_range: newValue\n          })\n        )\n      },\n      deep: true\n    },\n    personalCourseList: {\n      handler: function(newValue, oldValue) {\n        newValue.forEach(item => {\n          this.validatePersonal =\n            !item.personal_times || !item.personal_unit_price\n        })\n        let allSelect = false\n        let allNotSelect = false\n        allSelect = every(newValue, o => o.courseChecked)\n        allNotSelect = every(newValue, o => !o.courseChecked)\n        this.personalIndeterminate = !allSelect && !allNotSelect\n        this.personalCheckAll = newValue.length ? allSelect : false\n        // 计算私教课总计\n        this.personalCourseTotalObject.personal_times = reduce(\n          newValue,\n          (sum, o) => {\n            let personal_times = isNaN(+o.personal_times)\n              ? 0\n              : +o.personal_times\n            return sum + personal_times\n          },\n          0\n        )\n        this.personalCourseTotalObject.total = reduce(\n          newValue,\n          (sum, o) => {\n            let personal_times = isNaN(+o.personal_times)\n              ? 0\n              : +o.personal_times\n            let personal_unit_price = isNaN(+o.personal_unit_price)\n              ? 0\n              : +o.personal_unit_price\n            return sum + (personal_times * (personal_unit_price * 10)) / 10\n          },\n          0\n        )\n        if (this.validatePersonal) {\n          this.$emit('change', {})\n          return\n        }\n        this.$emit(\n          'change',\n          this.getRangeCourse({\n            personal_range: newValue,\n            ...this.packageData,\n            team_range: this.teamCourseList\n          })\n        )\n      },\n      deep: true\n    }\n  },\n  data() {\n    return {\n      isCourseRange: false,\n      validateTeam: false,\n      validatePersonal: false,\n      personalCoachTotalList: {},\n      personalCoachListHistory: [],\n      // 操作栏checkbox是否半选\n      teamIndeterminate: false,\n      // 操作栏checkbox是否半选\n      personalIndeterminate: false,\n      // 操作栏checkbox是全选\n      personalCheckAll: false,\n      // 配置课程表格是否显示\n      teamCourseListIsShow: false,\n      // 配置的课程总计\n      teamCourseTotalObject: {\n        team_times: 0,\n        total: 0\n      },\n      // 备份课程已做的操作\n      teamCourseTotalList: {},\n      // 批量操作的值\n      teamOperationObject: {\n        team_times: undefined,\n        team_unit_price: undefined\n      },\n      // 操作栏选择教练等级的dorpdown是否显示\n      coachAllOperationDropdownIsShow: false,\n      // 操作栏教练等级选择的值\n      personalAllOperationCoachList: [],\n      // 批量操作的值\n      personalOperationObject: {\n        personal_times: undefined,\n        personal_unit_price: undefined\n      },\n      // 配置课程表格是否显示\n      personalCourseListIsShow: false,\n      // 配置的课程总计\n      personalCourseTotalObject: {\n        personal_times: 0,\n        total: 0\n      },\n      personalCourseTotalList: [],\n      // team course\n      teamCourseList: [],\n      // personal course\n      personalCourseList: [],\n      // 课程范围是否未输入过\n      courseIsFirstInput: true,\n      // 操作栏checkbox是全选\n      teamCheckAll: false,\n      packageData: {\n        is_team: false,\n        is_personal: false\n      },\n      validateCourseRange: ''\n    }\n  },\n  modals: {\n    CourseSelectCourse\n  },\n  filters: {\n    // 单课价格统计\n    course_item_total(times, unit_price) {\n      if (+times && +unit_price) {\n        return (+times * (+unit_price * 10)) / 10\n      } else {\n        return 0\n      }\n    }\n  },\n  methods: {\n    // 移除选择的课程\n    removeCourseItems(type) {\n      if (type === 'team') {\n        let arr = cloneDeep(this.teamCourseList)\n        let removeList = remove(arr, o => o.courseChecked)\n        this.teamCourseList = arr\n        // 移除备份\n        let list = cloneDeep(this.teamCourseTotalList)\n        removeList.forEach(i => {\n          delete list[i.course_id]\n        })\n        this.teamCourseTotalList = list\n      } else if (type === 'personal') {\n        let arr = cloneDeep(this.personalCourseList)\n        let removeList = remove(arr, o => o.courseChecked)\n        this.personalCourseList = arr\n        // 移除备份\n        let coachList = cloneDeep(this.personalCourseTotalList)\n        removeList.forEach(i => {\n          delete coachList[i.course_id]\n        })\n        this.personalCourseTotalList = coachList\n      }\n    },\n    getRangeCourse(rangeCourse) {\n      const form = cloneDeep(rangeCourse)\n      if (typeof form.personal_range === 'object') {\n        form.personal_range = form.personal_range.map(item => {\n          return {\n            personal_unit_price: item.personal_unit_price,\n            personal_times: item.personal_times,\n            course_id: item.course_id,\n            coach_level: item.coachGradeList.map(item =>\n              typeof item === 'number' ? item : item.id\n            )\n          }\n        })\n      }\n      if (typeof form.team_range === 'object') {\n        form.team_range = form.team_range.map(item => {\n          return {\n            team_unit_price: item.team_unit_price,\n            team_times: item.team_times,\n            course_id: item.course_id\n          }\n        })\n      }\n      if (!rangeCourse.is_team) {\n        form.team_range = []\n      }\n      if (!rangeCourse.is_personal) {\n        form.personal_range = []\n      }\n      form.is_team = +rangeCourse.is_team\n      form.is_personal = +rangeCourse.is_personal\n      return form\n    },\n    // item coach checkboxGroup changeEvent\n    coachItemChange(e, id, index) {\n      if (!e.length) {\n        this.personalCourseList[\n          index\n        ].coachGradeList = this.personalCoachListHistory[index]\n        return\n      } else {\n        this.personalCoachListHistory[index] = cloneDeep(e)\n      }\n      this.personalCourseTotalList[id] = this.personalCourseTotalList[id]\n        ? this.personalCourseTotalList[id]\n        : {}\n      this.personalCourseTotalList[id].list = cloneDeep(e)\n    },\n    // teamItems input change\n    teamInputChange(e, type, id) {\n      this.teamCourseTotalList[id] = this.teamCourseTotalList[id]\n        ? this.teamCourseTotalList[id]\n        : {}\n      this.teamCourseTotalList[id][type] = e\n    },\n    // 选择课程\n    courseItemCheckedChange(e, type, index) {\n      if (type === 'team') {\n        this.teamCourseList[index].courseChecked = e.target.checked\n      } else if (type === 'personal') {\n        this.personalCourseList[index].courseChecked = e.target.checked\n      }\n    },\n    // personalItems input change\n    personalInputChange(e, type, id) {\n      this.personalCourseTotalList[id] = this.personalCourseTotalList[id]\n        ? this.personalCourseTotalList[id]\n        : {}\n      this.personalCourseTotalList[id][type] = e\n    },\n    // 移除课程\n    removeCourseItem(type, id) {\n      if (type === 'team') {\n        let arr = cloneDeep(this.teamCourseList)\n        remove(arr, o => o.course_id === id)\n        this.teamCourseList = arr\n        // 移除备份\n        let list = cloneDeep(this.teamCourseTotalList)\n        delete list[id]\n        this.teamCourseTotalList = list\n      } else if (type === 'personal') {\n        let arr = cloneDeep(this.personalCourseList)\n        remove(arr, o => o.course_id === id)\n        this.personalCourseList = arr\n        // 移除备份\n        let coachList = cloneDeep(this.personalCourseTotalList)\n        delete coachList[id]\n        this.personalCourseTotalList = coachList\n      }\n    },\n    // 新增团课课程\n    addCourseTeam() {\n      let that = this\n      this.$modalRouter.push({\n        name: 'course-select-course',\n        props: {\n          platform: 'brand',\n          type: 'team',\n          useShopInfo: this.useShopInfo,\n          courses: this.teamCourseList,\n          isLimit: true\n        },\n        on: {\n          ok: data => {\n            data.list.forEach(i => {\n              i.courseChecked = false\n              i.team_times = i.team_times ? +i.team_times : 0\n              i.team_unit_price = i.team_unit_price ? +i.team_unit_price : 0\n            })\n            forEach(this.teamCourseTotalList, (value, key) => {\n              forEach(data.list, innerValue => {\n                if (+innerValue.course_id === +key) {\n                  innerValue.team_times = value.team_times\n                    ? +value.team_times\n                    : 0\n                  innerValue.team_unit_price = value.team_unit_price\n                    ? +value.team_unit_price\n                    : 0\n                }\n              })\n              // 删除teamCourseTotalList里不存在的course_id项\n              if (!data.list.some(o => +o.course_id === +key)) {\n                delete this.teamCourseTotalList[key]\n              }\n            })\n            this.teamCourseList = cloneDeep(data.list)\n          }\n        }\n      })\n    },\n    // 新增私教课\n    addCoursePersonal() {\n      let that = this\n      this.$modalRouter.push({\n        name: 'course-select-course',\n        props: {\n          platform: 'brand',\n          type: 'personal',\n          useShopInfo: this.useShopInfo,\n          courses: this.personalCourseList,\n          isLimit: true\n        },\n        on: {\n          ok(data) {\n            let coachGradeList = []\n            forEach(that.coachList, i => {\n              coachGradeList.push(i.id)\n            })\n            let total = reduce(\n              that.coachList,\n              (sum, o) => sum + o.coach_number,\n              0\n            )\n            data.list.forEach(i => {\n              i.courseChecked = false\n              i.coachGradeList = coachGradeList\n              i.personal_times = i.personal_times ? +i.personal_times : 0\n              i.personal_unit_price = i.personal_unit_price\n                ? +i.personal_unit_price\n                : 0\n            })\n            forEach(that.personalCourseTotalList, (value, key) => {\n              forEach(data.list, innerValue => {\n                if (+innerValue.course_id === +key) {\n                  innerValue.coachGradeList = cloneDeep(\n                    value.list ? value.list : coachGradeList\n                  )\n                  innerValue.personal_times = value.personal_times\n                    ? +value.personal_times\n                    : 0\n                  innerValue.personal_unit_price = value.personal_unit_price\n                    ? +value.personal_unit_price\n                    : 0\n                }\n              })\n              // 删除personalCoachTotalList里不存在的course_id项\n              if (!data.list.some(o => +o.course_id === +key)) {\n                delete that.personalCourseTotalList[key]\n              }\n            })\n            // 缓存选择的教练等级\n            that.personalCoachListHistory = []\n            data.list.forEach(i => {\n              that.personalCoachListHistory.push(i.coachGradeList)\n            })\n            that.personalCourseList = cloneDeep(data.list)\n            that.personalCourseList.forEach(item => {\n              if (item.coachGradeList && item.coachGradeList.length > 0) {\n                item.coachGradeList = item.coachGradeList.map(i => {\n                  return i.id || i\n                })\n              }\n            })\n            console.log(that.personalCourseList)\n          }\n        }\n      })\n    },\n    teamCheckboxChange(event) {\n      this.courseIsFirstInput = false\n      this.teamCourseListIsShow = +event.target.checked\n    },\n    personalCheckboxChange(e) {\n      this.courseIsFirstInput = false\n      this.personalCourseListIsShow = +e.target.checked\n    },\n    // team\n    teamCourseListShow() {\n      this.teamCourseListIsShow = !this.teamCourseListIsShow\n    },\n    // personal\n    personalCourseListShow() {\n      this.personalCourseListIsShow = !this.personalCourseListIsShow\n    },\n    // 全选\n    checkAllChange(type) {\n      if (type === 'team') {\n        this.teamCheckAll = !this.teamCheckAll\n        this.teamCourseList.forEach(i => {\n          i.courseChecked = this.teamCheckAll\n        })\n      } else if (type === 'personal') {\n        this.personalCheckAll = !this.personalCheckAll\n        this.personalCourseList.forEach(i => {\n          i.courseChecked = this.personalCheckAll\n        })\n      }\n    },\n    // 批量操作团课课程包节数\n    timesOperationOk(type) {\n      if (type === 'team') {\n        forEach(this.teamCourseList, o => {\n          if (o.courseChecked) {\n            o.team_times = +this.teamOperationObject.team_times\n            // 备份批量操作的数据\n            this.teamCourseTotalList[o.course_id] = this.teamCourseTotalList[\n              o.course_id\n            ]\n              ? this.teamCourseTotalList[o.course_id]\n              : {}\n            this.teamCourseTotalList[o.course_id].team_times = +this\n              .teamOperationObject.team_times\n          }\n        })\n      } else if (type === 'personal') {\n        forEach(this.personalCourseList, o => {\n          if (o.courseChecked) {\n            o.personal_times = +this.personalOperationObject.personal_times\n            // 备份批量操作的数据\n            let personalCourse = this.personalCourseTotalList[o.course_id]\n              ? this.personalCourseTotalList[o.course_id]\n              : {}\n            let personal_times = +this.personalOperationObject.personal_times\n            this.personalCourseTotalList[o.course_id] = {\n              ...personalCourse,\n              personal_times\n            }\n          }\n        })\n      }\n    },\n    // 批量操作团课课程包价格\n    unitPriceOperationOk(type) {\n      if (type === 'team') {\n        forEach(this.teamCourseList, o => {\n          if (o.courseChecked) {\n            o.team_unit_price = +this.teamOperationObject.team_unit_price\n            // 备份批量操作的数据\n            this.teamCourseTotalList[o.course_id] = this.teamCourseTotalList[\n              o.course_id\n            ]\n              ? this.teamCourseTotalList[o.course_id]\n              : {}\n            this.teamCourseTotalList[o.course_id].team_unit_price = +this\n              .teamOperationObject.team_unit_price\n          }\n        })\n      } else if (type === 'personal') {\n        forEach(this.personalCourseList, o => {\n          if (o.courseChecked) {\n            o.personal_unit_price = +this.personalOperationObject\n              .personal_unit_price\n            // 备份批量操作的数据\n            this.personalCourseTotalList[o.course_id] = this\n              .personalCourseTotalList[o.course_id]\n              ? this.personalCourseTotalList[o.course_id]\n              : {}\n            this.personalCourseTotalList[\n              o.course_id\n            ].personal_unit_price = +this.personalOperationObject\n              .personal_unit_price\n          }\n        })\n      }\n    },\n    coachAllOperationOk() {\n      // 批量设置\n      forEach(this.personalCourseList, value => {\n        if (value.courseChecked) {\n          value.coachGradeList = cloneDeep(this.personalAllOperationCoachList)\n          this.personalCourseTotalList[value.course_id] = this\n            .personalCourseTotalList[value.course_id]\n            ? this.personalCourseTotalList[value.course_id]\n            : {}\n          this.personalCourseTotalList[value.course_id].list = cloneDeep(\n            this.personalAllOperationCoachList\n          )\n        }\n      })\n      // 缓存选择的教练等级\n      this.personalCoachListHistory = []\n      forEach(this.personalCourseList, i => {\n        this.personalCoachListHistory.push(i.coachGradeList)\n      })\n      // 清空\n      this.personalAllOperationCoachList = []\n      // 收起\n      this.coachAllOperationDropdownIsShow = false\n    }\n  },\n  created() {\n    if (isEmpty(this.initInfo)) return ''\n    this.packageData.is_team = this.initInfo.is_team\n    this.packageData.is_personal = this.initInfo.is_personal\n    this.packageData.personal_unit_price = this.initInfo.personal_unit_price\n    this.packageData.team_unit_price = this.initInfo.team_unit_price\n    forEach(this.initInfo.team_range, o => {\n      this.teamCourseList.push({\n        courseChecked: false,\n        ...o\n      })\n      this.teamCourseTotalList[o.course_id] =\n        this.teamCourseTotalList[o.course_id] || {}\n      this.teamCourseTotalList[o.course_id].team_times = o.team_times\n      this.teamCourseTotalList[o.course_id].team_unit_price = o.team_unit_price\n    })\n    forEach(this.initInfo.personal_range, o => {\n      let coachGradeList = []\n      o.coach_level.forEach(i => {\n        coachGradeList.push(i.id)\n      })\n      let selectCoach = filter(this.coachList, i =>\n        coachGradeList.includes(i.id)\n      )\n      let total = reduce(selectCoach, (sum, i) => sum + i.coach_number, 0)\n      this.personalCourseList.push({\n        courseChecked: false,\n        ...o,\n        coachGradeList,\n        coach: total\n      })\n      this.personalCoachTotalList[o.course_id] =\n        this.personalCoachTotalList[o.course_id] || {}\n      this.personalCoachTotalList[o.course_id].list = cloneDeep(o.coach_level)\n      this.personalCoachTotalList[o.course_id].total = total\n      this.personalCoachListHistory.push(\n        cloneDeep(o.coach_level.map(item => item.id))\n      )\n    })\n  },\n  mounted() {\n    this.addFixService.getCoachList().subscribe()\n  }\n}\n</script>\n"],"sourceRoot":"src/views/pages/brand/product/package/component#"}]}