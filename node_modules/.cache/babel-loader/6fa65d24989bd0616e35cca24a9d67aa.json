{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/dashboard/club.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/dashboard/club.vue","mtime":1591147717288},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport BrandSimpleLine from '@/views/biz-components/stat/brand-simple-line';\nimport BrandSimpleBar from '@/views/biz-components/stat/brand-simple-bar';\nimport BrandRevenueArea from '@/views/biz-components/stat/brand-revenue-area';\nimport BrandUserRing from '@/views/biz-components/stat/brand-user-ring';\nimport BrandUserAvgBar from '@/views/biz-components/stat/brand-user-avg-bar';\nimport DashboardTabs from \"./components#/tabs\";\nimport CountCard from \"./components#/count-card\";\nimport FunnelVertical from '@/views/biz-components/stat/brand-funnel-vertical';\nimport { ClubService } from \"./club.service\";\nimport SidebarComponent from '@/views/biz-components/dashboard/sidebar';\nexport default {\n  name: 'Dashboard',\n  serviceInject: function serviceInject() {\n    return {\n      clubService: ClubService\n    };\n  },\n  rxState: function rxState() {\n    return {\n      top: this.clubService.top$,\n      userFunnel: this.clubService.userFunnel$,\n      userChartData: this.clubService.user$,\n      avg: this.clubService.avg$,\n      entry: this.clubService.entry$,\n      marketing: this.clubService.marketing$,\n      marketingFunnel: this.clubService.marketingFunnel$,\n      loading: this.clubService.loading$\n    };\n  },\n  bem: {\n    b: 'page-dashboard-club',\n    bCount: 'page-dashboard-club-count',\n    bAdv: 'page-dashboard-club-adv'\n  },\n  filters: {\n    lineFilter: function lineFilter(val) {\n      return val.map(function (item, index) {\n        return {\n          name: index,\n          value: item.num\n        };\n      });\n    },\n    barFilter: function barFilter(val) {\n      return {\n        name: '会员占比',\n        percent: val\n      };\n    }\n  },\n  data: function data() {\n    return {};\n  },\n  computed: {\n    order: function order() {\n      return this.top.order;\n    },\n    revenue: function revenue() {\n      return this.top.revenue;\n    },\n    user: function user() {\n      return this.top.user;\n    },\n    visit: function visit() {\n      return this.top.visit;\n    }\n  },\n  methods: {\n    onChangeTabs: function onChangeTabs(query) {\n      this.clubService.getUser(query).subscribe();\n      this.clubService.getMarketing(query).subscribe();\n    }\n  },\n  components: {\n    DashboardTabs: DashboardTabs,\n    CountCard: CountCard,\n    BrandSimpleBar: BrandSimpleBar,\n    BrandRevenueArea: BrandRevenueArea,\n    BrandUserRing: BrandUserRing,\n    BrandSimpleLine: BrandSimpleLine,\n    BrandUserAvgBar: BrandUserAvgBar,\n    FunnelVertical: FunnelVertical,\n    SidebarComponent: SidebarComponent\n  }\n};",{"version":3,"sources":["club.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div :class=\"b()\">\n    <div :class=\"b('adv')\" :span=\"6\">\n      <sidebar-component></sidebar-component>\n    </div>\n    <div :class=\"b('content')\" :span=\"18\">\n      <a-row :gutter=\"12\" :class=\"bCount()\">\n        <a-col :span=\"6\" :class=\"bCount('item')\">\n          <div :class=\"bCount('box')\">\n            <count-card\n              title=\"今日净营收(元)\"\n              :count=\"this.revenue.num\"\n              :footer=\"{\n                label: '近7天日均净营收额:',\n                value: Number(this.revenue.avg || '')\n              }\"\n              :trend=\"{\n                isUp: this.revenue.ratio >= 0,\n                rate: this.revenue.ratio + this.revenue.ratio_mark\n              }\"\n            >\n              <template slot=\"title\">\n                <st-help-tooltip id=\"TBCDA001\"></st-help-tooltip>\n              </template>\n              <brand-simple-line\n                :data=\"this.revenue.chart | lineFilter\"\n              ></brand-simple-line>\n            </count-card>\n          </div>\n        </a-col>\n        <a-col :span=\"6\" :class=\"bCount('item')\">\n          <div :class=\"bCount('box')\">\n            <count-card\n              title=\"今日订单数(单)\"\n              :count=\"this.order.num\"\n              :footer=\"{\n                label: '近7天日均订单数:',\n                value: Number(this.order.avg || '')\n              }\"\n              :trend=\"{\n                isUp: this.order.ratio >= 0,\n                rate: this.order.ratio + this.order.ratio_mark\n              }\"\n            >\n              <template slot=\"title\">\n                <st-help-tooltip id=\"TBCDA002\"></st-help-tooltip>\n              </template>\n              <brand-simple-line\n                color=\"#00B4BC\"\n                unit=\"单\"\n                :data=\"this.order.chart | lineFilter\"\n              ></brand-simple-line>\n            </count-card>\n          </div>\n        </a-col>\n        <a-col :span=\"6\" :class=\"bCount('item')\">\n          <div :class=\"bCount('box')\">\n            <count-card\n              title=\"今日客流量(人)\"\n              :count=\"this.visit.num\"\n              :footer=\"{\n                label: '近7天日均客流量:',\n                value: Number(this.visit.avg || '')\n              }\"\n            >\n              <template slot=\"title\">\n                <st-help-tooltip id=\"TBCDA004\"></st-help-tooltip>\n              </template>\n              <brand-simple-line\n                color=\"#55BFA3\"\n                unit=\"人\"\n                :data=\"this.visit.chart | lineFilter\"\n              ></brand-simple-line>\n            </count-card>\n          </div>\n        </a-col>\n        <a-col :span=\"6\" :class=\"bCount('item')\">\n          <div :class=\"bCount('box')\">\n            <count-card\n              title=\"用户数(人)\"\n              :count=\"this.user.num\"\n              :footer=\"{ label: '近7天日转化会员率:', value: this.user.ratio }\"\n            >\n              <template slot=\"title\">\n                <st-help-tooltip id=\"TBCDA003\"></st-help-tooltip>\n              </template>\n              <brand-simple-bar\n                color=\"#58CC99\"\n                class=\"mg-t40\"\n                :data=\"this.user.percent | barFilter\"\n              ></brand-simple-bar>\n            </count-card>\n          </div>\n        </a-col>\n      </a-row>\n      <a-row :class=\"b('linebox')\" class=\"mg-t12 bg-white\">\n        <a-col :span=\"24\">\n          <dashboard-tabs @change=\"onChangeTabs\">\n            <template v-slot:user>\n              <div class=\"mg-t8 mg-l32 user-chart-box\">\n                <div class=\"funnel-vertical\">\n                  <st-skeleton\n                    v-if=\"$skeletonLoading\"\n                    :style=\"{ height: '400px' }\"\n                  ></st-skeleton>\n                  <funnel-vertical v-else :data=\"userFunnel\"></funnel-vertical>\n                </div>\n                <div class=\"revenue-area\">\n                  <st-skeleton\n                    v-if=\"$skeletonLoading\"\n                    :style=\"{ height: '400px', margin: '0 16px' }\"\n                  ></st-skeleton>\n                  <brand-revenue-area\n                    v-else\n                    :fields=\"['注册用户', '消费用户', '办理入会', '购买私教']\"\n                    class=\"user-chart-box__item\"\n                    :data=\"userChartData\"\n                  ></brand-revenue-area>\n                </div>\n              </div>\n            </template>\n            <template v-slot:marketing>\n              <div class=\"mg-t8 mg-l32 user-chart-box\">\n                <div class=\"funnel-vertical\">\n                  <funnel-vertical :data=\"marketingFunnel\"></funnel-vertical>\n                </div>\n                <div class=\"revenue-area\">\n                  <brand-revenue-area\n                    :fields=\"['注册用户', '消费用户', '办理入会']\"\n                    class=\"user-chart-box__item\"\n                    :data=\"marketing\"\n                  ></brand-revenue-area>\n                </div>\n              </div>\n            </template>\n          </dashboard-tabs>\n        </a-col>\n      </a-row>\n      <a-row :gutter=\"12\" class=\"mg-t12\">\n        <a-col :span=\"12\">\n          <st-container class=\"bg-white\" type=\"2\">\n            <st-t3 style=\"margin-bottom:20px\">客单价（近90天）</st-t3>\n            <brand-user-avg-bar :data=\"avg\" :height=\"302\"></brand-user-avg-bar>\n          </st-container>\n        </a-col>\n        <a-col :span=\"12\">\n          <st-container class=\"bg-white\" type=\"2\">\n            <st-t3 style=\"margin-bottom:20px\">用户活跃分析（近90天）</st-t3>\n            <brand-user-ring :data=\"entry\" :height=\"302\"></brand-user-ring>\n          </st-container>\n        </a-col>\n      </a-row>\n    </div>\n  </div>\n</template>\n\n<script>\nimport BrandSimpleLine from '@/views/biz-components/stat/brand-simple-line'\nimport BrandSimpleBar from '@/views/biz-components/stat/brand-simple-bar'\nimport BrandRevenueArea from '@/views/biz-components/stat/brand-revenue-area'\nimport BrandUserRing from '@/views/biz-components/stat/brand-user-ring'\nimport BrandUserAvgBar from '@/views/biz-components/stat/brand-user-avg-bar'\nimport DashboardTabs from './components#/tabs'\nimport CountCard from './components#/count-card'\nimport FunnelVertical from '@/views/biz-components/stat/brand-funnel-vertical'\nimport { ClubService } from './club.service'\nimport SidebarComponent from '@/views/biz-components/dashboard/sidebar'\n\nexport default {\n  name: 'Dashboard',\n  serviceInject() {\n    return {\n      clubService: ClubService\n    }\n  },\n  rxState() {\n    return {\n      top: this.clubService.top$,\n      userFunnel: this.clubService.userFunnel$,\n      userChartData: this.clubService.user$,\n      avg: this.clubService.avg$,\n      entry: this.clubService.entry$,\n      marketing: this.clubService.marketing$,\n      marketingFunnel: this.clubService.marketingFunnel$,\n      loading: this.clubService.loading$\n    }\n  },\n  bem: {\n    b: 'page-dashboard-club',\n    bCount: 'page-dashboard-club-count',\n    bAdv: 'page-dashboard-club-adv'\n  },\n  filters: {\n    lineFilter(val) {\n      return val.map((item, index) => {\n        return {\n          name: index,\n          value: item.num\n        }\n      })\n    },\n    barFilter(val) {\n      return {\n        name: '会员占比',\n        percent: val\n      }\n    }\n  },\n  data() {\n    return {}\n  },\n  computed: {\n    order() {\n      return this.top.order\n    },\n    revenue() {\n      return this.top.revenue\n    },\n    user() {\n      return this.top.user\n    },\n    visit() {\n      return this.top.visit\n    }\n  },\n  methods: {\n    onChangeTabs(query) {\n      this.clubService.getUser(query).subscribe()\n      this.clubService.getMarketing(query).subscribe()\n    }\n  },\n  components: {\n    DashboardTabs,\n    CountCard,\n    BrandSimpleBar,\n    BrandRevenueArea,\n    BrandUserRing,\n    BrandSimpleLine,\n    BrandUserAvgBar,\n    FunnelVertical,\n    SidebarComponent\n  }\n}\n</script>\n"],"sourceRoot":"src/views/pages/brand/dashboard"}]}