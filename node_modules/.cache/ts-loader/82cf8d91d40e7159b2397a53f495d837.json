{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/node_modules/ts-loader/index.js??ref--13-2!/Users/wangzhigang/Desktop/styd/web/src/api/v1/marketing/points.ts","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/api/v1/marketing/points.ts","mtime":1600926555423},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/ts-loader/index.js","mtime":1591062571609}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport _classCallCheck from \"/Users/wangzhigang/Desktop/styd/web/node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wangzhigang/Desktop/styd/web/node_modules/@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/wangzhigang/Desktop/styd/web/node_modules/@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/wangzhigang/Desktop/styd/web/node_modules/@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/wangzhigang/Desktop/styd/web/node_modules/@babel/runtime-corejs2/helpers/esm/inherits\";\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Api } from \"../../api\";\nexport var PointsApi = /*#__PURE__*/function (_Api) {\n  _inherits(PointsApi, _Api);\n\n  var _super = _createSuper(PointsApi);\n\n  function PointsApi() {\n    var _this;\n\n    _classCallCheck(this, PointsApi);\n\n    _this = _super.apply(this, arguments); // 积分 增加、减少、批量增加、批量减少 请求url Map\n\n    _this.addOrMinusPointsUrlMap = function (type, params) {\n      return {\n        add: \"/v1/plugin/points/add/\".concat(params.memberId),\n        'add-by-batch': '/v1/plugin/points/add',\n        minus: \"/v1/plugin/points/minus/\".concat(params.memberId),\n        'minus-by-batch': '/v1/plugin/points/minus',\n        'shop-add': \"/v1/plugin/points/shop/add/\".concat(params.memberId),\n        'shop-minus': \"/v1/plugin/points/shop/minus/\".concat(params.memberId)\n      }[type];\n    };\n\n    return _this;\n  } // 会员积分列表\n\n\n  _createClass(PointsApi, [{\n    key: \"getPointsMemberList\",\n    value: function getPointsMemberList(query) {\n      return this.http.get('/v1/plugin/points/member', {\n        query: query\n      });\n    } // 积分流水列表\n\n  }, {\n    key: \"getPointsDetailsList\",\n    value: function getPointsDetailsList(query) {\n      return this.http.get('/v1/plugin/points/details', {\n        query: query\n      });\n    } // 积分设置\n\n  }, {\n    key: \"editPoints\",\n    value: function editPoints(params) {\n      return this.http.put('/v1/plugin/points', {\n        params: params\n      });\n    } // 积分设置回显\n\n  }, {\n    key: \"getPointsInfo\",\n    value: function getPointsInfo() {\n      return this.http.get('/v1/plugin/points');\n    } // 减少积分\n\n  }, {\n    key: \"minusPoints\",\n    value: function minusPoints(params) {\n      return this.http.post(\"/v1/plugin/points/minus/\".concat(params.memberId), {\n        params: params\n      });\n    } // 增加积分\n\n  }, {\n    key: \"addPoints\",\n    value: function addPoints(params) {\n      return this.http.post(\"/v1/plugin/points/add/\".concat(params.memberId), {\n        params: params\n      });\n    } // 批量减少积分\n\n  }, {\n    key: \"minusPointsByBatch\",\n    value: function minusPointsByBatch(params) {\n      return this.http.post('/v1/plugin/points/minus', {\n        params: params\n      });\n    } // 批量增加积分\n\n  }, {\n    key: \"addPointsByBatch\",\n    value: function addPointsByBatch(params) {\n      return this.http.post('/v1/plugin/points/add', {\n        params: params\n      });\n    } // 积分 增加、减少、批量增加、批量减少 接口方法\n\n  }, {\n    key: \"addOrMinusPoints\",\n    value: function addOrMinusPoints(params, type) {\n      var url = this.addOrMinusPointsUrlMap(type, params);\n      return this.http.post(url, {\n        params: params\n      });\n    }\n  }]);\n\n  return PointsApi;\n}(Api);",{"version":3,"sources":["/Users/wangzhigang/Desktop/styd/web/src/api/v1/marketing/points.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,SAAS,GAAT;AA2BA,WAAa,SAAb;AAAA;;AAAA;;AAAA,uBAAA;AAAA;;AAAA;;0CAAA,CAyCE;;AACA,UAAA,sBAAA,GAAyB,UAAC,IAAD,EAAO,MAAP,EAAiB;AACxC,aAAO;AACL,QAAA,GAAG,kCAA2B,MAAM,CAAC,QAAlC,CADE;AAEL,wBAAgB,uBAFX;AAGL,QAAA,KAAK,oCAA6B,MAAM,CAAC,QAApC,CAHA;AAIL,0BAAkB,yBAJb;AAKL,yDAA0C,MAAM,CAAC,QAAjD,CALK;AAML,6DAA8C,MAAM,CAAC,QAArD;AANK,QAOL,IAPK,CAAP;AAQD,KATD;;AA1CF;AA2DC,GA3DD,CACE;;;AADF;AAAA;AAAA,wCAEsB,KAFtB,EAEkD;AAC9C,aAAO,KAAK,IAAL,CAAU,GAAV,CAAc,0BAAd,EAA0C;AAAE,QAAA,KAAK,EAAL;AAAF,OAA1C,CAAP;AACD,KAJH,CAKE;;AALF;AAAA;AAAA,yCAMuB,KANvB,EAMoD;AAChD,aAAO,KAAK,IAAL,CAAU,GAAV,CAAc,2BAAd,EAA2C;AAAE,QAAA,KAAK,EAAL;AAAF,OAA3C,CAAP;AACD,KARH,CASE;;AATF;AAAA;AAAA,+BAUa,MAVb,EAU+B;AAC3B,aAAO,KAAK,IAAL,CAAU,GAAV,CAAc,mBAAd,EAAmC;AAAE,QAAA,MAAM,EAAN;AAAF,OAAnC,CAAP;AACD,KAZH,CAaE;;AAbF;AAAA;AAAA,oCAce;AACX,aAAO,KAAK,IAAL,CAAU,GAAV,CAAc,mBAAd,CAAP;AACD,KAhBH,CAiBE;;AAjBF;AAAA;AAAA,gCAkBc,MAlBd,EAkBqC;AACjC,aAAO,KAAK,IAAL,CAAU,IAAV,mCAA0C,MAAM,CAAC,QAAjD,GAA6D;AAClE,QAAA,MAAM,EAAN;AADkE,OAA7D,CAAP;AAGD,KAtBH,CAuBE;;AAvBF;AAAA;AAAA,8BAwBY,MAxBZ,EAwBmC;AAC/B,aAAO,KAAK,IAAL,CAAU,IAAV,iCAAwC,MAAM,CAAC,QAA/C,GAA2D;AAChE,QAAA,MAAM,EAAN;AADgE,OAA3D,CAAP;AAGD,KA5BH,CA6BE;;AA7BF;AAAA;AAAA,uCA8BqB,MA9BrB,EA8B4C;AACxC,aAAO,KAAK,IAAL,CAAU,IAAV,CAAe,yBAAf,EAA0C;AAC/C,QAAA,MAAM,EAAN;AAD+C,OAA1C,CAAP;AAGD,KAlCH,CAmCE;;AAnCF;AAAA;AAAA,qCAoCmB,MApCnB,EAoC0C;AACtC,aAAO,KAAK,IAAL,CAAU,IAAV,CAAe,uBAAf,EAAwC;AAC7C,QAAA,MAAM,EAAN;AAD6C,OAAxC,CAAP;AAGD,KAxCH,CAoDE;;AApDF;AAAA;AAAA,qCAqDmB,MArDnB,EAqD4C,IArD5C,EAqDqD;AACjD,UAAM,GAAG,GAAG,KAAK,sBAAL,CAA4B,IAA5B,EAAkC,MAAlC,CAAZ;AACA,aAAO,KAAK,IAAL,CAAU,IAAV,CAAe,GAAf,EAAoB;AACzB,QAAA,MAAM,EAAN;AADyB,OAApB,CAAP;AAGD;AA1DH;;AAAA;AAAA,EAA+B,GAA/B","sourcesContent":["import { Api } from '../../api'\nexport interface PointsMemberListQuery {\n  keyword: string\n  sort_by: string\n  sort_order: string\n}\nexport interface PointsDetailsListQuery {\n  keyword: string\n  start_time: string\n  end_time: string\n  action: number\n  search_date: number\n}\nexport interface EditPoints {\n  validate_num: number\n  validdate_unit: number\n  get_rules: object[]\n  support_category: object[]\n  points_limit: number\n  activity_status: number\n}\nexport interface EditPointsInput {\n  member_ids?: number[]\n  memberId?: number\n  points: number\n  remark: string\n}\nexport class PointsApi extends Api {\n  // 会员积分列表\n  getPointsMemberList(query: PointsMemberListQuery) {\n    return this.http.get('/v1/plugin/points/member', { query })\n  }\n  // 积分流水列表\n  getPointsDetailsList(query: PointsDetailsListQuery) {\n    return this.http.get('/v1/plugin/points/details', { query })\n  }\n  // 积分设置\n  editPoints(params: EditPoints) {\n    return this.http.put('/v1/plugin/points', { params })\n  }\n  // 积分设置回显\n  getPointsInfo() {\n    return this.http.get('/v1/plugin/points')\n  }\n  // 减少积分\n  minusPoints(params: EditPointsInput) {\n    return this.http.post(`/v1/plugin/points/minus/${params.memberId}`, {\n      params\n    })\n  }\n  // 增加积分\n  addPoints(params: EditPointsInput) {\n    return this.http.post(`/v1/plugin/points/add/${params.memberId}`, {\n      params\n    })\n  }\n  // 批量减少积分\n  minusPointsByBatch(params: EditPointsInput) {\n    return this.http.post('/v1/plugin/points/minus', {\n      params\n    })\n  }\n  // 批量增加积分\n  addPointsByBatch(params: EditPointsInput) {\n    return this.http.post('/v1/plugin/points/add', {\n      params\n    })\n  }\n  // 积分 增加、减少、批量增加、批量减少 请求url Map\n  addOrMinusPointsUrlMap = (type, params) => {\n    return {\n      add: `/v1/plugin/points/add/${params.memberId}`,\n      'add-by-batch': '/v1/plugin/points/add',\n      minus: `/v1/plugin/points/minus/${params.memberId}`,\n      'minus-by-batch': '/v1/plugin/points/minus',\n      'shop-add': `/v1/plugin/points/shop/add/${params.memberId}`,\n      'shop-minus': `/v1/plugin/points/shop/minus/${params.memberId}`\n    }[type]\n  }\n  // 积分 增加、减少、批量增加、批量减少 接口方法\n  addOrMinusPoints(params: EditPointsInput, type: any) {\n    const url = this.addOrMinusPointsUrlMap(type, params)\n    return this.http.post(url, {\n      params\n    })\n  }\n}\n"],"sourceRoot":""}]}