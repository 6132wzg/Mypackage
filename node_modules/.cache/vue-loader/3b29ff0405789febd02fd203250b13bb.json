{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src-entries/account/views/pages/account/find.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src-entries/account/views/pages/account/find.vue","mtime":1591147717008},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { FindService } from './find.service'\nimport FindAccount from './find#/account'\nimport FindAccountStep from './find#/step'\nimport { NoCaptchaService } from '@/services/no-captcha.service'\nimport { throwError } from 'rxjs'\nimport { IS_BIND } from '@/constants/account'\nimport Copyright from '@/views/biz-components/copyright/copyright'\n\nexport default {\n  name: 'Login',\n  bem: {\n    b: 'page-account-find',\n    bFooter: 'footer'\n  },\n  serviceInject() {\n    return {\n      findService: FindService,\n      noCaptchaService: NoCaptchaService\n    }\n  },\n  data() {\n    return {\n      IS_BIND,\n      showStep: false,\n      currentIndex: 0,\n      info: {}\n    }\n  },\n  components: {\n    FindAccount,\n    FindAccountStep,\n    Copyright\n  },\n  rxState() {\n    return {\n      loading: this.findService.loading$\n    }\n  },\n  computed: {\n    isBindAccount() {\n      return this.info.is_bind === this.IS_BIND.BIND && this.currentIndex === 0\n    }\n  },\n  methods: {\n    onNext(params) {\n      const nvc_val = this.noCaptchaService.generateNVCVal()\n      if (!nvc_val) {\n        return\n      }\n      params.nvc_val = nvc_val\n      this.findService.checkAccount(params).subscribe(res => {\n        this.noCaptchaService.resetNVC()\n        this.info = res\n        this.info.account = params.account\n        this.showStep = true\n      }, this.errorHandler)\n    },\n    errorHandler(err) {\n      const code = err.response.code\n      if (this.noCaptchaService.testIsNeedCallCaptcha(code)) {\n        this.noCaptchaService.callCaptcha(code)\n        return\n      }\n      this.noCaptchaService.resetNVC()\n    },\n    onStep(event) {\n      this.currentIndex = event\n    }\n  }\n}\n",{"version":3,"sources":["find.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"find.vue","sourceRoot":"src-entries/account/views/pages/account","sourcesContent":["<template>\n  <div :class=\"b()\">\n    <header :class=\"b('header')\">\n      <img\n        src=\"~@/assets/img/logo.png\"\n        alt=\"三体云动\"\n        :class=\"b('header-logo')\"\n      />\n      <div :class=\"b('header-text')\">找回密码</div>\n      <div>\n        <!-- <span class=\"mg-r24 active\">中文</span>\n      <span class=\"mg-r24\">English</span> -->\n      </div>\n    </header>\n    <section>\n      <find-account @next=\"onNext\" v-if=\"!showStep\"></find-account>\n      <find-account-step\n        v-else\n        :bindInfo=\"info\"\n        @step=\"onStep\"\n      ></find-account-step>\n    </section>\n    <footer :class=\"[bFooter(), isBindAccount ? bFooter('active') : '']\">\n      <dl :class=\"bFooter('msg')\" v-if=\"isBindAccount\">\n        <dt :class=\"bFooter('title')\">没收到短信验证码？</dt>\n        <dd :class=\"bFooter('item')\">\n          <img\n            :class=\"bFooter('item-img')\"\n            src=\"~@/assets/img/find-pwd/msg-tip-1.png\"\n          />\n          网络通讯异常可能会造成短信丢失，请重新获取或稍后再试。\n        </dd>\n        <dd :class=\"bFooter('item')\">\n          <img\n            :class=\"bFooter('item-img')\"\n            src=\"~@/assets/img/find-pwd/msg-tip-2.png\"\n          />\n          请核实手机是否已欠费停机，或者屏蔽了系统短信。\n        </dd>\n        <dd :class=\"bFooter('item')\">\n          <img\n            :class=\"bFooter('item-img')\"\n            src=\"~@/assets/img/find-pwd/msg-tip-3.png\"\n          />\n          如果手机已丢失或停用， 请选择其他验证方式。\n        </dd>\n        <dd :class=\"bFooter('item')\">\n          <img\n            :class=\"bFooter('item-img')\"\n            src=\"~@/assets/img/find-pwd/msg-tip-4.png\"\n          />\n          您也可以尝试将SIM卡移动到另一部手机，然后重试。\n        </dd>\n      </dl>\n      <p\n        :class=\"\n          isBindAccount ? bFooter('copyright--active') : bFooter('copyright')\n        \"\n      >\n        <copyright />\n      </p>\n    </footer>\n  </div>\n</template>\n\n<script>\nimport { FindService } from './find.service'\nimport FindAccount from './find#/account'\nimport FindAccountStep from './find#/step'\nimport { NoCaptchaService } from '@/services/no-captcha.service'\nimport { throwError } from 'rxjs'\nimport { IS_BIND } from '@/constants/account'\nimport Copyright from '@/views/biz-components/copyright/copyright'\n\nexport default {\n  name: 'Login',\n  bem: {\n    b: 'page-account-find',\n    bFooter: 'footer'\n  },\n  serviceInject() {\n    return {\n      findService: FindService,\n      noCaptchaService: NoCaptchaService\n    }\n  },\n  data() {\n    return {\n      IS_BIND,\n      showStep: false,\n      currentIndex: 0,\n      info: {}\n    }\n  },\n  components: {\n    FindAccount,\n    FindAccountStep,\n    Copyright\n  },\n  rxState() {\n    return {\n      loading: this.findService.loading$\n    }\n  },\n  computed: {\n    isBindAccount() {\n      return this.info.is_bind === this.IS_BIND.BIND && this.currentIndex === 0\n    }\n  },\n  methods: {\n    onNext(params) {\n      const nvc_val = this.noCaptchaService.generateNVCVal()\n      if (!nvc_val) {\n        return\n      }\n      params.nvc_val = nvc_val\n      this.findService.checkAccount(params).subscribe(res => {\n        this.noCaptchaService.resetNVC()\n        this.info = res\n        this.info.account = params.account\n        this.showStep = true\n      }, this.errorHandler)\n    },\n    errorHandler(err) {\n      const code = err.response.code\n      if (this.noCaptchaService.testIsNeedCallCaptcha(code)) {\n        this.noCaptchaService.callCaptcha(code)\n        return\n      }\n      this.noCaptchaService.resetNVC()\n    },\n    onStep(event) {\n      this.currentIndex = event\n    }\n  }\n}\n</script>\n"]}]}