{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/biz-components/shop/assign-shop/assign-shop.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/biz-components/shop/assign-shop/assign-shop.vue","mtime":1600926555715},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { AssignShopService } from \"./assign-shop.service\";\nimport { ruleOptions } from \"./assign-shop.config\";\nexport default {\n  serviceInject: function serviceInject() {\n    return {\n      assignShopService: AssignShopService\n    };\n  },\n  rxState: function rxState() {\n    var _this$assignShopServi = this.assignShopService,\n        loading$ = _this$assignShopServi.loading$,\n        types$ = _this$assignShopServi.types$,\n        shopList$ = _this$assignShopServi.shopList$;\n    return {\n      loading: loading$,\n      types: types$,\n      shopList: shopList$\n    };\n  },\n  bem: {\n    b: 'biz-assign-shop'\n  },\n  props: {\n    /**\n     * 1当前门店/2多店/3全店\n     */\n    type: {\n      type: Number,\n      default: 1\n    },\n    shopIds: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    formItemKey: {\n      type: String,\n      default: 'currentShopIds'\n    },\n    form: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    label: {\n      type: String,\n      default: '入场场馆'\n    },\n    labelWidth: {\n      type: String,\n      default: '88px'\n    },\n    labelGutter: {\n      type: String,\n      default: '24px'\n    },\n    required: {\n      type: Boolean,\n      default: true\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: function data() {\n    return {\n      currentType: 1,\n\n      /**\n       * 多门店\n       */\n      MULTI_SHOP: 2\n    };\n  },\n  computed: {\n    ruleOptions: ruleOptions,\n    decorators: function decorators() {\n      return this.form.addDecorators(this.ruleOptions);\n    },\n    isShowShopList: function isShowShopList() {\n      /**\n       * 多店\n       */\n      return this.currentType === this.MULTI_SHOP;\n    }\n  },\n  watch: {\n    type: function type(newValue) {\n      this.currentType = newValue;\n    },\n    disabled: function disabled() {\n      this.form.validateFields([this.formItemKey], {\n        force: true\n      });\n    }\n  },\n  created: function created() {\n    this.currentType = this.type;\n    this.assignShopService.getShopList().subscribe();\n  },\n  methods: {\n    onShopIdsChange: function onShopIdsChange(currentShopIds) {\n      this.onChange();\n    },\n    onTypeChange: function onTypeChange(e) {\n      var _this = this;\n\n      this.currentType = e.target.value;\n      this.$nextTick(function () {\n        _this.form.validateFields([_this.formItemKey], {\n          force: true\n        });\n      });\n      this.onChange();\n    },\n    onChange: function onChange() {\n      var _this2 = this;\n\n      this.$nextTick(function () {\n        var currentType = _this2.currentType;\n\n        var currentShopIds = _this2.form.getFieldValue(_this2.formItemKey);\n\n        _this2.$emit('change', currentType, currentShopIds);\n      });\n    }\n  }\n};",{"version":3,"sources":["assign-shop.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <st-form-item\n      :class=\"b()\"\n      :labelGutter=\"labelGutter\"\n      :labelWidth=\"labelWidth\"\n      :required=\"required\"\n    >\n      <template slot=\"label\">\n        <slot v-if=\"$slots.label\" name=\"label\"></slot>\n        <template>{{ label }}</template>\n      </template>\n      <a-radio-group\n        v-model=\"currentType\"\n        :options=\"types\"\n        :disabled=\"disabled\"\n        @change=\"onTypeChange\"\n      ></a-radio-group>\n      <st-container\n        v-show=\"isShowShopList\"\n        class=\"mg-t16\"\n        :class=\"b('container')\"\n      >\n        <a-checkbox-group\n          v-decorator=\"decorators[formItemKey]\"\n          :disabled=\"disabled\"\n          @change=\"onShopIdsChange\"\n          class=\"full-width\"\n        >\n          <a-row>\n            <a-col\n              :span=\"12\"\n              v-for=\"item in shopList\"\n              :key=\"item.value\"\n              :class=\"b('item')\"\n            >\n              <a-checkbox :value=\"item.id\">{{ item.shop_name }}</a-checkbox>\n            </a-col>\n          </a-row>\n        </a-checkbox-group>\n      </st-container>\n    </st-form-item>\n  </div>\n</template>\n<script>\nimport { AssignShopService } from './assign-shop.service'\nimport { ruleOptions } from './assign-shop.config'\nexport default {\n  serviceInject() {\n    return {\n      assignShopService: AssignShopService\n    }\n  },\n  rxState() {\n    const { loading$, types$, shopList$ } = this.assignShopService\n    return {\n      loading: loading$,\n      types: types$,\n      shopList: shopList$\n    }\n  },\n  bem: {\n    b: 'biz-assign-shop'\n  },\n  props: {\n    /**\n     * 1当前门店/2多店/3全店\n     */\n    type: {\n      type: Number,\n      default: 1\n    },\n    shopIds: {\n      type: Array,\n      default() {\n        return []\n      }\n    },\n    formItemKey: {\n      type: String,\n      default: 'currentShopIds'\n    },\n    form: {\n      type: Object,\n      default: () => {\n        return {}\n      }\n    },\n    label: {\n      type: String,\n      default: '入场场馆'\n    },\n    labelWidth: {\n      type: String,\n      default: '88px'\n    },\n    labelGutter: {\n      type: String,\n      default: '24px'\n    },\n    required: {\n      type: Boolean,\n      default: true\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      currentType: 1,\n      /**\n       * 多门店\n       */\n      MULTI_SHOP: 2\n    }\n  },\n  computed: {\n    ruleOptions,\n    decorators() {\n      return this.form.addDecorators(this.ruleOptions)\n    },\n    isShowShopList() {\n      /**\n       * 多店\n       */\n      return this.currentType === this.MULTI_SHOP\n    }\n  },\n  watch: {\n    type(newValue) {\n      this.currentType = newValue\n    },\n    disabled() {\n      this.form.validateFields([this.formItemKey], { force: true })\n    }\n  },\n  created() {\n    this.currentType = this.type\n    this.assignShopService.getShopList().subscribe()\n  },\n  methods: {\n    onShopIdsChange(currentShopIds) {\n      this.onChange()\n    },\n    onTypeChange(e) {\n      this.currentType = e.target.value\n      this.$nextTick(() => {\n        this.form.validateFields([this.formItemKey], { force: true })\n      })\n      this.onChange()\n    },\n    onChange() {\n      this.$nextTick(() => {\n        const { currentType } = this\n        const currentShopIds = this.form.getFieldValue(this.formItemKey)\n        this.$emit('change', currentType, currentShopIds)\n      })\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/views/biz-components/shop/assign-shop"}]}