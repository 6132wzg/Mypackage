{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/pages/shop/product/card/member/list/all.vue?vue&type=template&id=21b8532c&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/pages/shop/product/card/member/list/all.vue","mtime":1600926556375},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":1591062572376},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["\n<div :class=\"all()\">\n  <portal to=\"SHOP_PRODUCT_CARD_MEMBER_KEYWORDS_SEARCH\">\n    <st-input-search\n      v-model=\"$searchQuery.card_name\"\n      @search=\"onKeywordsSearch('card_name', $event)\"\n      :placeholder=\"`请输入${$c('member_card')}名称查找`\"\n      maxlength=\"50\"\n    />\n  </portal>\n  <div :class=\"all('search')\">\n    <router-link v-if=\"auth.add\" to=\"../add-select\">\n      <st-button type=\"primary\" icon=\"add\">\n        新增{{ $c('member_card') }}\n      </st-button>\n    </router-link>\n    <div>\n      <a-select\n        :class=\"all('search__select')\"\n        class=\"mg-r8\"\n        v-model=\"$searchQuery.card_type\"\n        @change=\"onSingleSearch('card_type', $event)\"\n      >\n        <a-select-option\n          v-for=\"(item, index) in cardType\"\n          :key=\"index\"\n          :value=\"item.value\"\n        >\n          {{ item.label }}\n        </a-select-option>\n      </a-select>\n      <a-select\n        :class=\"all('search__select')\"\n        class=\"mg-r8\"\n        v-model=\"$searchQuery.publish_channel\"\n        @change=\"onSingleSearch('publish_channel', $event)\"\n      >\n        <a-select-option\n          v-for=\"(item, index) in publishChannel\"\n          :key=\"index\"\n          :value=\"item.value\"\n        >\n          {{ item.label }}\n        </a-select-option>\n      </a-select>\n      <a-select\n        :class=\"all('search__select')\"\n        class=\"mg-r8\"\n        v-model=\"$searchQuery.shelf_status\"\n        @change=\"onSingleSearch('shelf_status', $event)\"\n      >\n        <a-select-option\n          v-for=\"(item, index) in shelfStatus\"\n          :key=\"index\"\n          :value=\"item.value\"\n        >\n          {{ item.label }}\n        </a-select-option>\n      </a-select>\n      <a-select\n        style=\"width: 160px\"\n        class=\"mg-r8\"\n        v-model=\"$searchQuery.sell_status\"\n        @change=\"onSingleSearch('sell_status', $event)\"\n      >\n        <a-select-option\n          v-for=\"(item, index) in sellStatus\"\n          :key=\"index\"\n          :value=\"item.value\"\n        >\n          {{ item.label }}\n        </a-select-option>\n      </a-select>\n      <a-select\n        style=\"width: 160px\"\n        v-model=\"$searchQuery.card_number_type\"\n        :options=\"cardNumberTypeOptions\"\n        @change=\"onSingleSearch('support_member_num', $event)\"\n      ></a-select>\n    </div>\n  </div>\n  <st-table\n    :scroll=\"{ x: 1300 }\"\n    :page=\"page\"\n    :columns=\"columns\"\n    @change=\"onTableChange\"\n    :loading=\"loading.getList\"\n    :dataSource=\"list\"\n    rowKey=\"id\"\n  >\n    <!-- 卡名称 -->\n    <template slot=\"card_name\" slot-scope=\"text, record\">\n      <st-link\n        :value=\"text\"\n        :disabled=\"!record.auth['shop:product:member_card|get']\"\n        @click=\"goToCardInfo(record)\"\n      ></st-link>\n    </template>\n    <!-- 卡类型 -->\n    <template slot=\"card_type\" slot-scope=\"text\">{{ text.name }}</template>\n    <!-- 有效期/有效次数 -->\n    <template slot=\"time_gradient\" slot-scope=\"text\">{{ text }}</template>\n    <!-- 售卖价格 -->\n    <template slot=\"price_gradient\" slot-scope=\"text, record\">\n      <card-specs\n        :value=\"record.price_gradients.name\"\n        :list=\"record.price_gradients.list\"\n      />\n    </template>\n    <!-- 支持入场门店 -->\n    <template slot=\"admission_range\" slot-scope=\"text, record\">\n      <a\n        v-if=\"text.id === ADMISSION_RANGE.GENERAL_STORE\"\n        v-modal-link=\"{\n          name: 'card-shop-member-shop-table',\n          props: { id: record.id, type: 'Sale', title: '支持入场门店' }\n        }\"\n      >\n        {{ text.name }}\n      </a>\n      <span v-else class=\"use_num\">{{ text.name }}</span>\n    </template>\n    <!-- 支持售卖门店 -->\n    <template slot=\"support_sales\" slot-scope=\"text, record\">\n      <a\n        v-if=\"text.is_clickable\"\n        v-modal-link=\"{\n          name: 'card-shop-member-shop-table',\n          props: { id: record.id, type: 'Consume', title: '支持售卖门店' }\n        }\"\n      >\n        {{ text.name }}\n      </a>\n      <span v-else class=\"use_num\">{{ text.name }}</span>\n    </template>\n    <!-- 支持售卖时间 -->\n    <template slot=\"sell_time\" slot-scope=\"text, record\">\n      <span class=\"word-break\">\n        {{ record.start_time }} ~ {{ record.end_time }}\n      </span>\n    </template>\n    <!-- 定价方式 -->\n    <template slot=\"price_setting\" slot-scope=\"text\">\n      {{ text.name }}\n    </template>\n    <!-- 发布渠道 -->\n    <template slot=\"publish_channel\" slot-scope=\"text\">\n      {{ text.name }}\n    </template>\n    <!-- 上架状态 -->\n    <template slot=\"shelf_status\" slot-scope=\"text\">{{ text.name }}</template>\n    <!-- 售卖状态 -->\n    <template slot=\"sell_status\" slot-scope=\"text, record\">\n      <st-text\n        :status=\"{\n          success: text.id === 1,\n          error: text.id === 2\n        }\"\n      >\n        {{ text.name }}\n      </st-text>\n      <st-help-popover v-if=\"text.id === SELL_STATUS.NO_SELL\">\n        <span slot=\"title\">\n          操作人：{{ record.stop_sale.operator_name }} 操作时间：{{\n            record.stop_sale.stop_time\n          }}\n        </span>\n        <span slot=\"content\">{{ record.stop_sale.stop_reason }}</span>\n      </st-help-popover>\n    </template>\n    <!-- 操作 -->\n    <div slot=\"action\" slot-scope=\"text, record\">\n      <st-table-actions>\n        <a\n          v-if=\"record.auth['shop:product:member_card|get']\"\n          @click=\"goToCardInfo(record)\"\n        >\n          详情\n        </a>\n        <a\n          v-if=\"record.auth['shop:product:member_card|edit']\"\n          @click=\"onEdit(record)\"\n        >\n          编辑\n        </a>\n        <a\n          v-if=\"record.auth['shop:product:member_card|up']\"\n          @click=\"onShelf(record)\"\n        >\n          上架\n        </a>\n        <a\n          v-if=\"record.auth['shop:product:member_card|pause']\"\n          @click=\"onStopSale(record)\"\n        >\n          停售\n        </a>\n        <a\n          v-if=\"record.auth['shop:product:member_card|restore']\"\n          @click=\"onRecoverSale(record)\"\n        >\n          恢复售卖\n        </a>\n        <a\n          v-if=\"record.auth['shop:product:member_card|del']\"\n          @click=\"onDelete(record)\"\n        >\n          删除\n        </a>\n        <a\n          v-if=\"record.auth['shop:product:member_card|sync_rights']\"\n          @click=\"\n            soldMemberCardActions.onUpdateRights(record.id, {\n              isSync: true\n            })\n          \"\n        >\n          修改售出权益\n        </a>\n      </st-table-actions>\n    </div>\n  </st-table>\n</div>\n",null]}