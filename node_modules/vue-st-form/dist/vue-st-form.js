/**
 * vue-st-form v0.1.0 
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).VueStForm=t()}(this,function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var r=function(e){return Array.isArray(e)},n=function(t){return"object"===e(t)&&!r(t)&&null!==t},o=function(e){return"function"==typeof e},i=function(t,i,u){if(!n(t)&&!o(t))throw new Error("[vue-st-form]#decorators() shoud pass an object or function but got ".concat(e(c)));var c;n(t)&&(c=t),o(t)&&(c=t(u));var f={};return Object.keys(c).forEach(function(e){var t=c[e],o=t;if(t.rules){if(!r(t.rules))throw new Error("[vue-st-form] ".concat(e," rules should be Array"));o.rules=t.rules,t.rules.forEach(function(t){t.validator&&(t.validator=function(e,t){return function(r,n,o){try{var u=e(r,n,i.getFieldsValue());return void 0===u||!0===u?o():!1===u?o(r.message||r.defalutMessage||"".concat(t,"字段验证未通过")):"string"==typeof u?o(u):u instanceof Promise?u.then(function(){o()},function(e){o(e.message)}):o()}catch(e){console.error(e)}}}(t.validator,e))})}!function(e,t,r){if(e&&n(e)&&t)if(~t.indexOf(".")){var o=t.split("."),i=o[0],u=o[1];e[i]||(e[i]={}),e[i][u]=r}else e[t]=r}(f,e,[e,o])}),f};return{install:function(e){e.mixin({beforeCreate:function(){var e=this;e.$stForm={create:function(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=e.$form.createForm(e,u);return c.validate=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=void 0,f={first:!1,firstFields:[],force:!1,scroll:{}};if(r(e))u=e,f=Object.assign(f,i);else if(n(e))f=Object.assign(f,e);else if(o(e))return new Promise(function(t,r){c.validateFieldsAndScroll(e)});var a=f&&f.forceFields;return r(a)&&a.map(function(e){c.setFieldsValue(t({},e,c.getFieldValue(e)))}),new Promise(function(e,t){c.validateFieldsAndScroll(u,f,function(r,n){try{r?t(r):e(n)}catch(e){t(e)}})})},c.decorators=function(t){var r=i(t,c,e);return c._decorators=r,r},c.addDecorators=function(e){var t=i(e,c,null),r=Object.assign(c._decorators,t);return c._decorators=r,r},c}}}})}}});
//# sourceMappingURL=vue-st-form.js.map
