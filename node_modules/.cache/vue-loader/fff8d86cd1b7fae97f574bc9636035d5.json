{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/pages/shop/member/info/follow-history.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/pages/shop/member/info/follow-history.vue","mtime":1597396799983},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { FollowHistoryService } from './follow-history.service'\nimport ShopAddFollowRecords from '@/views/biz-modals/shop/add-follow-records'\nexport default {\n  modals: {\n    ShopAddFollowRecords\n  },\n  serviceInject() {\n    return {\n      aService: FollowHistoryService\n    }\n  },\n  rxState() {\n    return {\n      followHistoryInfo: this.aService.followHistoryInfo$,\n      followInfo: this.aService.followInfo$,\n      auth: this.aService.auth$\n    }\n  },\n  data() {\n    return {\n      reverse: false\n    }\n  },\n  filters: {\n    // 跟进方式\n    followWay: function(value) {\n      let arr = ['', '电话', '微信', '客户到访', '上门拜访']\n      return arr[value]\n    },\n    // 跟进状态\n    followStatus: function(value) {\n      let arr = [\n        '',\n        '已电话',\n        '已邀约',\n        '邀约成功',\n        '实际到访',\n        '已签约',\n        '已购卡'\n      ]\n      return arr[value]\n    }\n  },\n  methods: {\n    onModalTest() {\n      this.aService.getListInfo(this.$searchQuery.id).subscribe()\n    }\n  }\n}\n",{"version":3,"sources":["follow-history.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"follow-history.vue","sourceRoot":"src/views/pages/shop/member/info","sourcesContent":["<template>\n  <div class=\"member-follow-history\">\n    <st-t4>跟进信息</st-t4>\n    <a-row :gutter=\"24\" class=\"mg-t16\">\n      <a-col :lg=\"8\">\n        <st-info>\n          <st-info-item label=\"来源类别\">\n            {{ followInfo.info.register_type }}\n          </st-info-item>\n          <st-info-item :label=\"`跟进${$c('coach')}`\">\n            {{ followInfo.info.follow_coach_name }}\n          </st-info-item>\n        </st-info>\n      </a-col>\n      <a-col :lg=\"8\">\n        <st-info>\n          <st-info-item label=\"来源方式\">\n            {{ followInfo.info.register_way }}\n          </st-info-item>\n          <st-info-item label=\"总跟进次数\">\n            {{ followInfo.info.follow_count }}\n          </st-info-item>\n        </st-info>\n      </a-col>\n      <a-col :lg=\"8\">\n        <st-info>\n          <st-info-item label=\"跟进销售\">\n            {{ followInfo.info.follow_salesman_name }}\n          </st-info-item>\n        </st-info>\n      </a-col>\n      <a-col :lg=\"8\">\n        <st-info></st-info>\n      </a-col>\n    </a-row>\n    <a-row :gutter=\"8\">\n      <a-col :lg=\"24\">\n        <st-hr></st-hr>\n      </a-col>\n    </a-row>\n    <st-t4>跟进记录</st-t4>\n    <a-row :gutter=\"8\">\n      <a-col :lg=\"24\" v-if=\"auth.add\">\n        <a\n          v-modal-link=\"{\n            name: 'shop-add-follow-records',\n            on: { done: onModalTest }\n          }\"\n        >\n          <st-button block type=\"dashed\" icon=\"add\" class=\"mg-t16 mg-b24\">\n            新增跟进记录\n          </st-button>\n        </a>\n      </a-col>\n      <a-col :lg=\"24\">\n        <a-timeline pending=\"1\" :reverse=\"reverse\">\n          <a-timeline-item\n            v-for=\"(item, index) in followHistoryInfo.record_list\"\n            :key=\"index\"\n          >\n            <div class=\"member-follow-history-timeline__item\">\n              <div class=\"member-follow-history-timeline__item__title\">\n                {{ item.follow_content }}\n              </div>\n              <div class=\"member-follow-history-timeline__item__info\">\n                <a-col :span=\"6\">跟进人：{{ item.follow_staff }}</a-col>\n                <a-col :span=\"6\">\n                  跟进方式：{{ item.follow_way | followWay }}\n                </a-col>\n                <a-col :span=\"6\">\n                  下次跟进时间：{{ item.follow_next_time }}\n                </a-col>\n                <a-col :span=\"6\">\n                  <st-text\n                    :status=\"{\n                      success: true\n                    }\"\n                  >\n                    {{ item.follow_status | followStatus }}\n                  </st-text>\n                </a-col>\n              </div>\n            </div>\n            <div class=\"time-position font-number\">\n              <div>{{ item.follow_date.split(' ')[1] }}</div>\n              <div class=\"time-position-grey\">\n                {{ item.follow_date.split(' ')[0] }}\n              </div>\n            </div>\n          </a-timeline-item>\n        </a-timeline>\n      </a-col>\n    </a-row>\n  </div>\n</template>\n<script>\nimport { FollowHistoryService } from './follow-history.service'\nimport ShopAddFollowRecords from '@/views/biz-modals/shop/add-follow-records'\nexport default {\n  modals: {\n    ShopAddFollowRecords\n  },\n  serviceInject() {\n    return {\n      aService: FollowHistoryService\n    }\n  },\n  rxState() {\n    return {\n      followHistoryInfo: this.aService.followHistoryInfo$,\n      followInfo: this.aService.followInfo$,\n      auth: this.aService.auth$\n    }\n  },\n  data() {\n    return {\n      reverse: false\n    }\n  },\n  filters: {\n    // 跟进方式\n    followWay: function(value) {\n      let arr = ['', '电话', '微信', '客户到访', '上门拜访']\n      return arr[value]\n    },\n    // 跟进状态\n    followStatus: function(value) {\n      let arr = [\n        '',\n        '已电话',\n        '已邀约',\n        '邀约成功',\n        '实际到访',\n        '已签约',\n        '已购卡'\n      ]\n      return arr[value]\n    }\n  },\n  methods: {\n    onModalTest() {\n      this.aService.getListInfo(this.$searchQuery.id).subscribe()\n    }\n  }\n}\n</script>\n"]}]}