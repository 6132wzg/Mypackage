{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/product/package/component#/add-course-range-table.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/product/package/component#/add-course-range-table.vue","mtime":1600046447617},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport _typeof from \"/Users/wangzhigang/Desktop/styd/web/node_modules/@babel/runtime-corejs2/helpers/esm/typeof\";\nimport \"core-js/modules/es6.number.constructor\";\nimport _defineProperty from \"/Users/wangzhigang/Desktop/styd/web/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport CourseSelectCourse from '@/views/biz-modals/course/select-course';\nimport { FormService } from \"./form.service\";\nimport { AddRangePackageService } from \"../add-range-package.service\";\nimport { forEach, cloneDeep, remove, filter, reduce } from 'lodash';\nimport { coachColumns } from \"../../course/personal/info#table.config\";\nimport { isEmpty } from 'lodash-es';\nexport default {\n  name: 'AddCourseRangeTable',\n  bem: {\n    add: 'page-shop-add-range-package',\n    basic: 'page-shop-add-basic-package'\n  },\n  serviceInject: function serviceInject() {\n    return {\n      addRangeService: AddRangePackageService\n    };\n  },\n  rxState: function rxState() {\n    return {\n      coachList: this.addRangeService.coachList$\n    };\n  },\n  computed: {\n    // 团课小计\n    team_total: function team_total() {\n      if (+this.packageData.team_times && +this.packageData.team_unit_price) {\n        return this.packageData.team_times * (this.packageData.team_unit_price * 10) / 10;\n      } else {\n        return 0;\n      }\n    },\n    // 私教小计\n    personal_total: function personal_total() {\n      if (+this.packageData.personal_times && +this.packageData.personal_unit_price) {\n        return this.packageData.personal_times * (this.packageData.personal_unit_price * 10) / 10;\n      } else {\n        return 0;\n      }\n    },\n    all_total: function all_total() {\n      var teamTotal = this.packageData.is_team ? this.team_total : 0;\n      var personalTotal = this.packageData.is_personal ? this.personal_total : 0;\n      return teamTotal + personalTotal;\n    }\n  },\n  watch: {\n    packageData: {\n      handler: function handler(newValue, oldValue) {\n        if (!newValue.is_team && !newValue.is_personal) {\n          this.$emit('change', {});\n          return '';\n        }\n\n        if (newValue.is_team && !this.teamCourseList.length) {\n          this.$emit('change', {});\n          return false;\n        }\n\n        if (newValue.is_personal && !this.personalCourseList.length) {\n          this.$emit('change', {});\n          return false;\n        }\n\n        var personalTotal = 0;\n        var teamTotal = 0;\n\n        if (+newValue.personal_times && +newValue.personal_unit_price) {\n          personalTotal = newValue.personal_times * (newValue.personal_unit_price * 10) / 10;\n        } else {\n          personalTotal = 0;\n        }\n\n        if (+newValue.team_times && +newValue.team_unit_price) {\n          teamTotal = newValue.team_times * (newValue.team_unit_price * 10) / 10;\n        } else {\n          teamTotal = 0;\n        }\n\n        this.allTotal = personalTotal + teamTotal;\n        this.$emit('change', this.getRangeCourse(_objectSpread({\n          team_range: this.teamCourseList\n        }, newValue, {\n          personal_range: this.personalCourseList\n        })));\n      },\n      deep: true\n    },\n    teamCourseList: {\n      handler: function handler(newValue, oldValue) {\n        this.$emit('change', this.getRangeCourse(_objectSpread({\n          team_range: newValue\n        }, this.packageData, {\n          personal_range: this.personalCourseList\n        })));\n      },\n      deep: true\n    },\n    personalCourseList: {\n      handler: function handler(newValue, oldValue) {\n        this.$emit('change', this.getRangeCourse(_objectSpread({\n          personal_range: newValue\n        }, this.packageData, {\n          team_range: this.teamCourseList\n        })));\n      },\n      deep: true\n    }\n  },\n  props: {\n    useShopInfo: {\n      type: Object,\n      default: function _default() {}\n    },\n    initInfo: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    isLimit: {\n      type: Number,\n      default: 0\n    }\n  },\n  data: function data() {\n    return {\n      personalCourseTotalList: [],\n      personalCoachListHistory: [],\n      personalCoachTotalList: [],\n      // 操作栏checkbox是否半选\n      teamIndeterminate: false,\n      // 操作栏checkbox是否半选\n      personalIndeterminate: false,\n      // 操作栏checkbox是全选\n      personalCheckAll: false,\n      // 配置课程表格是否显示\n      teamCourseListIsShow: false,\n      // 配置的课程总计\n      teamCourseTotalObject: {\n        team_times: 0,\n        total: 0\n      },\n      // 备份课程已做的操作\n      teamCourseTotalList: {},\n      // 批量操作的值\n      teamOperationObject: {\n        team_times: undefined,\n        team_unit_price: undefined\n      },\n      personalAllOperationCoachTotal: 0,\n      // 操作栏选择教练等级的dorpdown是否显示\n      coachAllOperationDropdownIsShow: false,\n      // 操作栏教练等级选择的值\n      personalAllOperationCoachList: [],\n      // 批量操作的值\n      personalOperationObject: {\n        personal_times: undefined,\n        personal_unit_price: undefined\n      },\n      // 配置课程表格是否显示\n      personalCourseListIsShow: false,\n      // 配置的课程总计\n      personalCourseTotalObject: {\n        personal_times: 0,\n        total: 0\n      },\n      // team course\n      teamCourseList: [],\n      // personal course\n      personalCourseList: [],\n      // 课程范围是否未输入过\n      courseIsFirstInput: true,\n      // 操作栏checkbox是全选\n      teamCheckAll: false,\n      packageData: {\n        is_team: false,\n        is_personal: false,\n        personal_times: undefined,\n        team_times: undefined,\n        team_unit_price: undefined,\n        personal_unit_price: undefined\n      },\n      allTotal: 0\n    };\n  },\n  modals: {\n    CourseSelectCourse: CourseSelectCourse\n  },\n  filters: {\n    // 单课价格统计\n    course_item_total: function course_item_total(times, unit_price) {\n      if (+times && +unit_price) {\n        return +times * (+unit_price * 10) / 10;\n      } else {\n        return 0;\n      }\n    }\n  },\n  methods: {\n    getRangeCourse: function getRangeCourse(rangeCourse) {\n      var form = cloneDeep(rangeCourse);\n\n      if (_typeof(form.personal_range) === 'object' && form.personal_range.length > 0) {\n        form.personal_range = form.personal_range.map(function (item) {\n          var coach_level = item.coachGradeList.map(function (item) {\n            return _typeof(item) !== 'object' ? item : item.id;\n          });\n          return {\n            course_id: item.course_id,\n            coach_level: coach_level\n          };\n        });\n      }\n\n      if (_typeof(form.team_range) === 'object') {\n        form.team_range = form.team_range.map(function (item) {\n          return item.course_id;\n        });\n      }\n\n      if (!rangeCourse.is_team) {\n        form.team_range = [];\n      }\n\n      if (!rangeCourse.is_personal) {\n        form.personal_range = [];\n      }\n\n      form.is_team = +rangeCourse.is_team;\n      form.is_personal = +rangeCourse.is_personal;\n      return form;\n    },\n    coachAllChange: function coachAllChange(e) {\n      var selectCoach = filter(this.coachList, function (o) {\n        return e.includes(o.id);\n      });\n      this.personalAllOperationCoachTotal = reduce(selectCoach, function (sum, o) {\n        return sum + o.coach_number;\n      }, 0);\n    },\n    // 移除选择的课程\n    removeCourseItems: function removeCourseItems(type) {\n      if (type === 'team') {\n        var arr = cloneDeep(this.teamCourseList);\n        remove(arr, function (o) {\n          return o.courseChecked;\n        });\n        this.teamCourseList = arr;\n      } else if (type === 'personal') {\n        var _arr = cloneDeep(this.personalCourseList);\n\n        var removeList = remove(_arr, function (o) {\n          return o.courseChecked;\n        });\n        this.personalCourseList = _arr; // 移除备份选择的教练list\n\n        var coachList = cloneDeep(this.personalCoachTotalList);\n        removeList.forEach(function (i) {\n          delete coachList[i.course_id];\n        });\n        this.personalCoachTotalList = coachList;\n      }\n    },\n    // item coach checkboxGroup changeEvent\n    coachItemChange: function coachItemChange(e, id, index) {\n      if (!e.length) {\n        this.personalCourseList[index].coachGradeList = this.personalCoachListHistory[index];\n        return;\n      } else {\n        this.personalCoachListHistory[index] = cloneDeep(e);\n      }\n\n      console.log(this.personalCourseList);\n      this.personalCoachTotalList[id] = {};\n      this.personalCoachTotalList[id].list = cloneDeep(e);\n      var selectCoach = filter(this.coachList, function (o) {\n        return e.includes(o.id);\n      });\n      var total = reduce(selectCoach, function (sum, o) {\n        return sum + o.coach_number;\n      }, 0);\n      this.personalCoachTotalList[id].total = total; // 设置教练总数\n\n      this.personalCourseList.forEach(function (i) {\n        if (i.course_id === id) {\n          i.coach = total;\n        }\n      });\n    },\n    // 选择课程\n    courseItemCheckedChange: function courseItemCheckedChange(e, type, index) {\n      if (type === 'team') {\n        this.teamCourseList[index].courseChecked = e.target.checked;\n      } else if (type === 'personal') {\n        this.personalCourseList[index].courseChecked = e.target.checked;\n      }\n    },\n    // teamItems input change\n    teamInputChange: function teamInputChange(e, type, id) {\n      this.teamCourseTotalList[id] = this.teamCourseTotalList[id] ? this.teamCourseTotalList[id] : {};\n      this.teamCourseTotalList[id][type] = e;\n    },\n    // 移除课程\n    removeCourseItem: function removeCourseItem(type, id) {\n      if (type === 'team') {\n        var arr = cloneDeep(this.teamCourseList);\n        remove(arr, function (o) {\n          return o.course_id === id;\n        });\n        this.teamCourseList = arr; // 移除备份\n\n        var list = cloneDeep(this.teamCourseTotalList);\n        delete list[id];\n        this.teamCourseTotalList = list;\n      } else if (type === 'personal') {\n        var _arr2 = cloneDeep(this.personalCourseList);\n\n        remove(_arr2, function (o) {\n          return o.course_id === id;\n        });\n        this.personalCourseList = _arr2; // 移除备份\n\n        var coachList = cloneDeep(this.personalCourseTotalList);\n        delete coachList[id];\n        this.personalCourseTotalList = coachList;\n      }\n    },\n    // 新增团课课程\n    addCourseTeam: function addCourseTeam() {\n      var _this = this;\n\n      this.$modalRouter.push({\n        name: 'course-select-course',\n        props: {\n          platform: 'brand',\n          type: 'team',\n          useShopInfo: this.useShopInfo,\n          courses: this.teamCourseList\n        },\n        on: {\n          ok: function ok(data) {\n            data.list.forEach(function (i) {\n              i.courseChecked = false;\n              i.team_times = null;\n              i.team_unit_price = null;\n            });\n            forEach(_this.teamCourseTotalList, function (value, key) {\n              forEach(data.list, function (innerValue) {\n                if (+innerValue.course_id === +key) {\n                  innerValue.team_times = value.team_times;\n                  innerValue.team_unit_price = value.team_unit_price;\n                }\n              }); // 删除teamCourseTotalList里不存在的course_id项\n\n              if (!data.list.some(function (o) {\n                return +o.course_id === +key;\n              })) {\n                delete _this.teamCourseTotalList[key];\n              }\n            });\n            _this.teamCourseList = cloneDeep(data.list);\n          }\n        }\n      });\n    },\n    // 新增私教课\n    addCoursePersonal: function addCoursePersonal() {\n      var that = this;\n      this.$modalRouter.push({\n        name: 'course-select-course',\n        props: {\n          platform: 'brand',\n          type: 'personal',\n          useShopInfo: this.useShopInfo,\n          courses: this.personalCourseList\n        },\n        on: {\n          ok: function ok(data) {\n            var coachGradeList = [];\n            forEach(that.coachList, function (i) {\n              coachGradeList.push(i.id);\n            });\n            var total = reduce(that.coachList, function (sum, o) {\n              return sum + o.coach_number;\n            }, 0);\n            data.list.forEach(function (i) {\n              i.courseChecked = false;\n              i.coachGradeList = coachGradeList;\n              i.coach = total;\n            });\n            forEach(that.personalCoachTotalList, function (value, key) {\n              forEach(data.list, function (innerValue) {\n                if (+innerValue.course_id === +key) {\n                  innerValue.coachGradeList = cloneDeep(value.list);\n                  innerValue.coach = cloneDeep(value.total);\n                }\n              }); // 删除personalCoachTotalList里不存在的course_id项\n\n              if (!data.list.some(function (o) {\n                return +o.course_id === +key;\n              })) {\n                delete that.personalCoachTotalList[key];\n              }\n            });\n            that.personalCoachListHistory = []; // 缓存选择的教练等级\n\n            data.list.forEach(function (i) {\n              that.personalCoachListHistory.push(i.coachGradeList);\n            });\n            that.personalCourseList = cloneDeep(data.list);\n          }\n        }\n      });\n    },\n    teamCheckboxChange: function teamCheckboxChange(event) {\n      this.courseIsFirstInput = false;\n      this.teamCourseListIsShow = +event.target.checked;\n    },\n    personalCheckboxChange: function personalCheckboxChange(e) {\n      this.courseIsFirstInput = false;\n      this.personalCourseListIsShow = +e.target.checked;\n    },\n    // team\n    teamCourseListShow: function teamCourseListShow() {\n      this.teamCourseListIsShow = !this.teamCourseListIsShow;\n    },\n    // personal\n    personalCourseListShow: function personalCourseListShow() {\n      this.personalCourseListIsShow = !this.personalCourseListIsShow;\n    },\n    // 全选\n    checkAllChange: function checkAllChange(type) {\n      var _this2 = this;\n\n      if (type === 'team') {\n        this.teamCheckAll = !this.teamCheckAll;\n        this.teamCourseList.forEach(function (i) {\n          i.courseChecked = _this2.teamCheckAll;\n        });\n      } else if (type === 'personal') {\n        this.personalCheckAll = !this.personalCheckAll;\n        this.personalCourseList.forEach(function (i) {\n          i.courseChecked = _this2.personalCheckAll;\n        });\n      }\n    },\n    // 批量操作团课课程包节数\n    timesOperationOk: function timesOperationOk(type) {\n      var _this3 = this;\n\n      if (type === 'team') {\n        forEach(this.teamCourseList, function (o) {\n          if (o.courseChecked) {\n            o.team_times = +_this3.teamOperationObject.team_times; // 备份批量操作的数据\n\n            _this3.teamCourseTotalList[o.course_id] = _this3.teamCourseTotalList[o.course_id] ? _this3.teamCourseTotalList[o.course_id] : {};\n            _this3.teamCourseTotalList[o.course_id].team_times = +_this3.teamOperationObject.team_times;\n          }\n        });\n      } else if (type === 'personal') {\n        forEach(this.personalCourseList, function (o) {\n          if (o.courseChecked) {\n            o.personal_times = +_this3.personalOperationObject.personal_times; // 备份批量操作的数据\n\n            _this3.personalCourseTotalList[o.course_id] = _this3.personalCourseTotalList[o.course_id] ? _this3.personalCourseTotalList[o.course_id] : {};\n            _this3.personalCourseTotalList[o.course_id].personal_times = +_this3.personalOperationObject.personal_times;\n          }\n        });\n      }\n    },\n    // 批量操作团课课程包价格\n    unitPriceOperationOk: function unitPriceOperationOk(type) {\n      var _this4 = this;\n\n      if (type === 'team') {\n        forEach(this.teamCourseList, function (o) {\n          if (o.courseChecked) {\n            o.team_unit_price = +_this4.teamOperationObject.team_unit_price; // 备份批量操作的数据\n\n            _this4.teamCourseTotalList[o.course_id] = _this4.teamCourseTotalList[o.course_id] ? _this4.teamCourseTotalList[o.course_id] : {};\n            _this4.teamCourseTotalList[o.course_id].team_unit_price = +_this4.teamOperationObject.team_unit_price;\n          }\n        });\n      } else if (type === 'personal') {\n        forEach(this.personalCourseList, function (o) {\n          if (o.courseChecked) {\n            o.personal_unit_price = +_this4.personalOperationObject.personal_unit_price; // 备份批量操作的数据\n\n            _this4.personalCourseTotalList[o.course_id] = _this4.personalCourseTotalList[o.course_id] ? _this4.personalCourseTotalList[o.course_id] : {};\n            _this4.personalCourseTotalList[o.course_id].personal_unit_price = +_this4.personalOperationObject.personal_unit_price;\n          }\n        });\n      }\n    },\n    coachAllOperationOk: function coachAllOperationOk() {\n      var _this5 = this;\n\n      // 批量设置\n      forEach(this.personalCourseList, function (value) {\n        if (value.courseChecked) {\n          value.coachGradeList = cloneDeep(_this5.personalAllOperationCoachList);\n          _this5.personalCourseTotalList[value.course_id] = _this5.personalCourseTotalList[value.course_id] ? _this5.personalCourseTotalList[value.course_id] : {};\n          _this5.personalCourseTotalList[value.course_id].list = cloneDeep(_this5.personalAllOperationCoachList);\n        }\n      }); // 缓存选择的教练等级\n\n      this.personalCoachListHistory = [];\n      forEach(this.personalCourseList, function (i) {\n        _this5.personalCoachListHistory.push(i.coachGradeList);\n      }); // 清空\n\n      this.personalAllOperationCoachList = []; // 收起\n\n      this.coachAllOperationDropdownIsShow = false;\n    }\n  },\n  created: function created() {\n    var _this6 = this;\n\n    if (isEmpty(this.initInfo)) return '';\n    this.packageData.is_team = !!this.initInfo.is_team;\n    this.packageData.is_personal = !!this.initInfo.is_personal;\n    this.packageData.personal_unit_price = this.initInfo.personal_unit_price;\n    this.packageData.team_unit_price = this.initInfo.team_unit_price;\n\n    if (this.initInfo.is_limit) {\n      this.packageData.personal_times = this.initInfo.personal_times;\n      this.packageData.team_times = this.initInfo.team_times;\n    }\n\n    this.teamCourseList = this.initInfo.team_range;\n    this.personalCourseList = this.initInfo.personal_range.map(function (item) {\n      _this6.$set(item, 'coachGradeList', item.coach_level.map(function (item) {\n        return item.id;\n      }));\n\n      return item;\n    });\n    console.log('created', this.personalCourseList);\n  },\n  mounted: function mounted() {\n    this.addRangeService.getCoachList().subscribe();\n  }\n};",{"version":3,"sources":["add-course-range-table.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div\n    :class=\"add('course')\"\n    class=\"page-shop-add-basic-package page-shop-add-range-package page-brand-add-fix-package\"\n  >\n    <div>\n      <st-form-table>\n        <colgroup>\n          <col style=\"width:5%;\" />\n          <col style=\"width:10%;\" />\n          <col style=\"width:21%;\" />\n          <col style=\"width:27%;\" />\n          <col style=\"width:20%;\" />\n          <col style=\"width:17%;\" />\n        </colgroup>\n        <tr class=\"bg-thead table-header\">\n          <th></th>\n          <th class=\"rightline\">课程类型</th>\n          <th class=\"pl-56\"><template v-if=\"isLimit\">节数</template></th>\n          <th class=\"pd-x16\">课时费</th>\n          <th>\n            <template v-if=\"isLimit\">小计(元)</template>\n          </th>\n          <th></th>\n        </tr>\n        <tbody>\n          <tr class=\"bg-row-odd checkbox\">\n            <td class=\"tg-c\">\n              <a-checkbox\n                v-model=\"packageData.is_team\"\n                @change=\"teamCheckboxChange\"\n              />\n            </td>\n            <td class=\"rightline white-nowrap\">团体课程</td>\n            <td v-if=\"isLimit\" class=\"pr-32 pl-56\">\n              <st-input-number\n                style=\"min-width:100px\"\n                :min=\"1\"\n                :max=\"99999\"\n                v-model=\"packageData.team_times\"\n                :disabled=\"!packageData.is_team\"\n              >\n                <template slot=\"addonAfter\">\n                  节\n                </template>\n              </st-input-number>\n            </td>\n            <td class=\"pr-32\">\n              <st-input-number\n                style=\"min-width:100px\"\n                :min=\"0\"\n                :max=\"999999.9\"\n                v-model=\"packageData.team_unit_price\"\n                :float=\"true\"\n                :disabled=\"!packageData.is_team\"\n              >\n                <template slot=\"addonAfter\">\n                  元\n                </template>\n              </st-input-number>\n            </td>\n            <td v-if=\"isLimit\">{{ team_total }}</td>\n            <td class=\"overflow-hidden\">\n              <a\n                class=\"set-course-button white-nowrap\"\n                @click=\"teamCourseListShow\"\n                :disabled=\"!packageData.is_team\"\n                :class=\"{\n                  hide: !(teamCourseListIsShow && packageData.is_team)\n                }\"\n              >\n                配置上课范围&nbsp;&nbsp;\n                <st-icon class=\"icon-12\" type=\"down-small\" />\n              </a>\n            </td>\n          </tr>\n          <tr\n            class=\"bg-row-odd team-course-list-content\"\n            v-if=\"teamCourseListIsShow && packageData.is_team\"\n          >\n            <td\n              class=\"rightline\"\n              colspan=\"2\"\n              style=\"background-color:#fff\"\n            ></td>\n            <td class=\"team-course-table\" colspan=\"4\">\n              <div :class=\"add('team-course-table')\">\n                <st-form-table>\n                  <colgroup>\n                    <col style=\"width:5%;\" />\n                    <col style=\"width:41%;\" />\n                    <col style=\"width:40%;\" />\n                    <col style=\"width:14%;\" />\n                  </colgroup>\n                  <tr class=\"bg-thead th\">\n                    <th></th>\n                    <th>课程名称</th>\n                    <th>上课门店</th>\n                    <th>操作</th>\n                  </tr>\n                  <tbody>\n                    <tr class=\"checkbox border-bottom\">\n                      <td colspan=\"4\" class=\"team-course-add-buton\">\n                        <st-button\n                          block\n                          type=\"dashed\"\n                          icon=\"add\"\n                          @click=\"addCourseTeam()\"\n                        >\n                          新增团体课程\n                        </st-button>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td colspan=\"4\">\n                        <p\n                          v-if=\"!teamCourseList.length\"\n                          style=\"margin: 0;text-align:center;\"\n                        >\n                          无数据\n                        </p>\n                        <!-- 在AForm组件里用自定义指令时，需要加上v-decorator,值不能重复 -->\n                        <ul\n                          class=\"team-course-content-table\"\n                          v-if=\"teamCourseList.length\"\n                          v-scrollBar=\"{ stopPropagation: true }\"\n                          v-decorator=\"['teamCourseList2']\"\n                        >\n                          <li\n                            class=\"checkbox checkbox-brand border-bottom\"\n                            :class=\"{\n                              'bg-row-odd': index % 2 !== 0,\n                              'bg-row-even': index % 2 === 0\n                            }\"\n                            v-for=\"(i, index) in teamCourseList\"\n                            :key=\"i.course_id\"\n                          >\n                            <div class=\"tg-c\">\n                              <a-checkbox\n                                :checked=\"i.courseChecked\"\n                                @change=\"\n                                  courseItemCheckedChange($event, 'team', index)\n                                \"\n                              />\n                            </div>\n                            <div>\n                              <st-overflow-text\n                                max-width=\"120px\"\n                                :value=\"i.course_name\"\n                              ></st-overflow-text>\n                            </div>\n                            <div>\n                              <st-overflow-text\n                                maxWidth=\"120px\"\n                                :value=\"i.shop_name\"\n                              ></st-overflow-text>\n                            </div>\n                            <div>\n                              <a @click=\"removeCourseItem('team', i.course_id)\">\n                                删除\n                              </a>\n                            </div>\n                          </li>\n                        </ul>\n                      </td>\n                    </tr>\n                    <tr class=\"bg-thead checkbox topline\">\n                      <td class=\"tg-c\">\n                        <a-checkbox\n                          :indeterminate=\"teamIndeterminate\"\n                          @change=\"checkAllChange('team')\"\n                          :checked=\"teamCheckAll\"\n                        />\n                      </td>\n                      <td></td>\n                      <td>批量操作</td>\n                      <td>\n                        <a @click=\"removeCourseItems('team')\">\n                          删除\n                        </a>\n                      </td>\n                    </tr>\n                  </tbody>\n                </st-form-table>\n              </div>\n            </td>\n          </tr>\n          <tr class=\"checkbox border-bottom\">\n            <td class=\"tg-c\">\n              <a-checkbox\n                v-model=\"packageData.is_personal\"\n                @change=\"personalCheckboxChange\"\n              />\n            </td>\n            <td class=\"rightline\">私教课程</td>\n            <td v-if=\"isLimit\" class=\"pr-32 pl-56\">\n              <st-input-number\n                style=\"min-width:100px\"\n                :min=\"1\"\n                :max=\"99999\"\n                v-model=\"packageData.personal_times\"\n                :disabled=\"!packageData.is_personal\"\n              >\n                <template slot=\"addonAfter\">\n                  节\n                </template>\n              </st-input-number>\n            </td>\n            <td class=\"pr-32\">\n              <st-input-number\n                style=\"min-width:100px\"\n                :min=\"0\"\n                :max=\"999999.9\"\n                v-model=\"packageData.personal_unit_price\"\n                :float=\"true\"\n                :disabled=\"!packageData.is_personal\"\n              >\n                <template slot=\"addonAfter\">\n                  元\n                </template>\n              </st-input-number>\n            </td>\n            <td v-if=\"isLimit\">{{ personal_total }}</td>\n            <td class=\"overflow-hidden\">\n              <a\n                class=\"set-course-button\"\n                @click=\"personalCourseListShow\"\n                :disabled=\"!packageData.is_personal\"\n                :class=\"{\n                  hide: !(personalCourseListIsShow && packageData.is_personal)\n                }\"\n              >\n                配置上课范围&nbsp;&nbsp;\n                <st-icon class=\"icon-12\" type=\"down-small\" />\n              </a>\n            </td>\n          </tr>\n          <tr\n            class=\"bg-row-even personal-course-list-content\"\n            v-if=\"personalCourseListIsShow && packageData.is_personal\"\n          >\n            <td class=\"rightline\" colspan=\"2\"></td>\n            <td class=\"personal-course-table\" colspan=\"4\">\n              <div :class=\"add('personal-course-table')\">\n                <st-form-table>\n                  <colgroup>\n                    <col style=\"width:5%;\" />\n                    <col style=\"width:20%;\" />\n                    <col style=\"width:19%;\" />\n                    <col style=\"width:24%;\" />\n                    <col style=\"width:16%;\" />\n                    <col style=\"width:16%;\" />\n                  </colgroup>\n                  <tr class=\"bg-thead th\">\n                    <th></th>\n                    <th>课程名称</th>\n                    <th>上课门店</th>\n                    <th>支持预约的{{ $c('coach') }}等级</th>\n                    <th>授课{{ $c('coach') }}数</th>\n                    <th>操作</th>\n                  </tr>\n                  <tbody>\n                    <tr class=\"checkbox border-bottom\">\n                      <td colspan=\"6\" class=\"personal-course-add-buton\">\n                        <st-button\n                          block\n                          type=\"dashed\"\n                          icon=\"add\"\n                          @click=\"addCoursePersonal\"\n                        >\n                          新增私教课程\n                        </st-button>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td colspan=\"6\">\n                        <p\n                          v-if=\"!personalCourseList.length\"\n                          style=\"margin: 0;text-align:center;\"\n                        >\n                          无数据\n                        </p>\n                        <!-- 在AForm组件里用自定义指令时，需要加上v-decorator,值不能重复 -->\n                        <ul\n                          class=\"personal-course-content-table\"\n                          v-if=\"personalCourseList.length\"\n                          v-scrollBar=\"{ stopPropagation: true }\"\n                          v-decorator=\"['personalCourseList1']\"\n                        >\n                          <li\n                            class=\"checkbox checkbox-brand border-bottom\"\n                            :class=\"{\n                              'bg-row-odd': index % 2 !== 0,\n                              'bg-row-even': index % 2 === 0\n                            }\"\n                            v-for=\"(item, index) in personalCourseList\"\n                            :key=\"item.course_id\"\n                          >\n                            <div class=\"tg-c\">\n                              <a-checkbox\n                                :checked=\"item.courseChecked\"\n                                @change=\"\n                                  courseItemCheckedChange(\n                                    $event,\n                                    'personal',\n                                    index\n                                  )\n                                \"\n                              />\n                            </div>\n                            <div>\n                              <st-overflow-text\n                                maxWidth=\"120px\"\n                                :value=\"item.course_name\"\n                              ></st-overflow-text>\n                            </div>\n                            <div>\n                              <st-overflow-text\n                                maxWidth=\"120px\"\n                                :value=\"item.shop_name\"\n                              ></st-overflow-text>\n                            </div>\n                            <div>\n                              <a-dropdown\n                                placement=\"bottomRight\"\n                                :trigger=\"['click']\"\n                              >\n                                <a href=\"javascript:void(0)\">\n                                  {{\n                                    item.coachGradeList.length ===\n                                    coachList.length\n                                      ? '全部'\n                                      : `${item.coachGradeList.length}个`\n                                  }}等级&nbsp;&nbsp;\n                                  <st-icon class=\"icon-12\" type=\"down-small\" />\n                                </a>\n                                <a-checkbox-group\n                                  :class=\"basic(`personal-dropdown`)\"\n                                  v-model=\"item.coachGradeList\"\n                                  @change=\"\n                                    coachItemChange(\n                                      $event,\n                                      item.course_id,\n                                      index\n                                    )\n                                  \"\n                                  slot=\"overlay\"\n                                >\n                                  <!-- 在AForm组件里用自定义指令时，需要加上v-decorator,值不能重复 -->\n                                  <ul\n                                    class=\"personal-course-coach-grade-dropdown brand-page-package__personal-course-coach-grade-dropdown\"\n                                    v-scrollBar=\"{\n                                      stopPropagation: true\n                                    }\"\n                                    v-decorator=\"[\n                                      `personalCourseListCoachGrade${index}`\n                                    ]\"\n                                  >\n                                    <li\n                                      v-for=\"(coachItem,\n                                      coachIndex) in coachList\"\n                                      :key=\"coachIndex\"\n                                    >\n                                      <a-checkbox :value=\"coachItem.id\">\n                                        {{ coachItem.setting_name }}\n                                      </a-checkbox>\n                                    </li>\n                                  </ul>\n                                </a-checkbox-group>\n                              </a-dropdown>\n                            </div>\n                            <div>{{ item.coach }}</div>\n                            <div>\n                              <a\n                                @click=\"\n                                  removeCourseItem('personal', item.course_id)\n                                \"\n                                href=\"javascript:void(0)\"\n                              >\n                                删除\n                              </a>\n                            </div>\n                          </li>\n                        </ul>\n                      </td>\n                    </tr>\n                    <tr class=\"bg-thead checkbox checkbox-brand topline\">\n                      <td class=\"tg-c\">\n                        <a-checkbox\n                          :indeterminate=\"personalIndeterminate\"\n                          @change=\"checkAllChange('personal')\"\n                          :checked=\"personalCheckAll\"\n                        />\n                      </td>\n                      <td>批量操作</td>\n                      <td></td>\n                      <td>\n                        <a-dropdown\n                          placement=\"bottomRight\"\n                          :trigger=\"['click']\"\n                          v-model=\"coachAllOperationDropdownIsShow\"\n                        >\n                          <a href=\"javascript:void(0)\">\n                            批量设置等级&nbsp;&nbsp;\n                            <st-icon class=\"icon-12\" type=\"down-small\" />\n                          </a>\n                          <a-checkbox-group\n                            :class=\"basic(`personal-dropdown`)\"\n                            v-model=\"personalAllOperationCoachList\"\n                            @change=\"coachAllChange\"\n                            class=\"all\"\n                            slot=\"overlay\"\n                          >\n                            <!-- 在AForm组件里用自定义指令时，需要加上v-decorator,值不能重复 -->\n                            <ul\n                              class=\"personal-course-coach-grade-dropdown brand-page-package__personal-course-coach-grade-dropdown\"\n                              v-scrollBar=\"{ stopPropagation: true }\"\n                              v-decorator=\"['personalCourseListCoachGradeAll']\"\n                            >\n                              <li\n                                v-for=\"(coachItem, coachIndex) in coachList\"\n                                :key=\"coachIndex\"\n                              >\n                                <a-checkbox :value=\"coachItem.id\">\n                                  {{ coachItem.setting_name }}\n                                </a-checkbox>\n                              </li>\n                            </ul>\n                            <div\n                              class=\"personal-course-coach-grade-dropdown-button\"\n                            >\n                              <a\n                                href=\"javascript:void(0)\"\n                                :disabled=\"\n                                  !personalAllOperationCoachList.length\n                                \"\n                                @click=\"coachAllOperationOk\"\n                              >\n                                确定\n                              </a>\n                            </div>\n                          </a-checkbox-group>\n                        </a-dropdown>\n                      </td>\n                      <td>{{ personalAllOperationCoachTotal }}</td>\n                      <td>\n                        <a @click=\"removeCourseItems('personal')\">\n                          删除\n                        </a>\n                      </td>\n                    </tr>\n                  </tbody>\n                </st-form-table>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </st-form-table>\n      <portal to=\"BRAND_PACKAGE_FORM_TOTAL\">\n        <a-row v-if=\"all_total\" :gutter=\"8\">\n          <a-col :lg=\"10\" :xs=\"22\" :offset=\"1\">\n            <st-form-item label=\"总价\">{{ all_total }}元</st-form-item>\n          </a-col>\n        </a-row>\n      </portal>\n    </div>\n  </div>\n</template>\n<script>\nimport CourseSelectCourse from '@/views/biz-modals/course/select-course'\nimport { FormService } from './form.service'\nimport { AddRangePackageService } from '../add-range-package.service'\nimport { forEach, cloneDeep, remove, filter, reduce } from 'lodash'\nimport { coachColumns } from '../../course/personal/info#table.config'\nimport { isEmpty } from 'lodash-es'\nexport default {\n  name: 'AddCourseRangeTable',\n  bem: {\n    add: 'page-shop-add-range-package',\n    basic: 'page-shop-add-basic-package'\n  },\n  serviceInject() {\n    return {\n      addRangeService: AddRangePackageService\n    }\n  },\n  rxState() {\n    return {\n      coachList: this.addRangeService.coachList$\n    }\n  },\n  computed: {\n    // 团课小计\n    team_total() {\n      if (+this.packageData.team_times && +this.packageData.team_unit_price) {\n        return (\n          (this.packageData.team_times *\n            (this.packageData.team_unit_price * 10)) /\n          10\n        )\n      } else {\n        return 0\n      }\n    },\n    // 私教小计\n    personal_total() {\n      if (\n        +this.packageData.personal_times &&\n        +this.packageData.personal_unit_price\n      ) {\n        return (\n          (this.packageData.personal_times *\n            (this.packageData.personal_unit_price * 10)) /\n          10\n        )\n      } else {\n        return 0\n      }\n    },\n    all_total() {\n      let teamTotal = this.packageData.is_team ? this.team_total : 0\n      let personalTotal = this.packageData.is_personal ? this.personal_total : 0\n      return teamTotal + personalTotal\n    }\n  },\n  watch: {\n    packageData: {\n      handler: function(newValue, oldValue) {\n        if (!newValue.is_team && !newValue.is_personal) {\n          this.$emit('change', {})\n          return ''\n        }\n        if (newValue.is_team && !this.teamCourseList.length) {\n          this.$emit('change', {})\n          return false\n        }\n        if (newValue.is_personal && !this.personalCourseList.length) {\n          this.$emit('change', {})\n          return false\n        }\n        let personalTotal = 0\n        let teamTotal = 0\n        if (+newValue.personal_times && +newValue.personal_unit_price) {\n          personalTotal =\n            (newValue.personal_times * (newValue.personal_unit_price * 10)) / 10\n        } else {\n          personalTotal = 0\n        }\n        if (+newValue.team_times && +newValue.team_unit_price) {\n          teamTotal =\n            (newValue.team_times * (newValue.team_unit_price * 10)) / 10\n        } else {\n          teamTotal = 0\n        }\n        this.allTotal = personalTotal + teamTotal\n        this.$emit(\n          'change',\n          this.getRangeCourse({\n            team_range: this.teamCourseList,\n            ...newValue,\n            personal_range: this.personalCourseList\n          })\n        )\n      },\n      deep: true\n    },\n    teamCourseList: {\n      handler: function(newValue, oldValue) {\n        this.$emit(\n          'change',\n          this.getRangeCourse({\n            team_range: newValue,\n            ...this.packageData,\n            personal_range: this.personalCourseList\n          })\n        )\n      },\n      deep: true\n    },\n    personalCourseList: {\n      handler: function(newValue, oldValue) {\n        this.$emit(\n          'change',\n          this.getRangeCourse({\n            personal_range: newValue,\n            ...this.packageData,\n            team_range: this.teamCourseList\n          })\n        )\n      },\n      deep: true\n    }\n  },\n  props: {\n    useShopInfo: {\n      type: Object,\n      default: () => {}\n    },\n    initInfo: {\n      type: Object,\n      default: () => {\n        return {}\n      }\n    },\n    isLimit: {\n      type: Number,\n      default: 0\n    }\n  },\n  data() {\n    return {\n      personalCourseTotalList: [],\n      personalCoachListHistory: [],\n      personalCoachTotalList: [],\n      // 操作栏checkbox是否半选\n      teamIndeterminate: false,\n      // 操作栏checkbox是否半选\n      personalIndeterminate: false,\n      // 操作栏checkbox是全选\n      personalCheckAll: false,\n      // 配置课程表格是否显示\n      teamCourseListIsShow: false,\n      // 配置的课程总计\n      teamCourseTotalObject: {\n        team_times: 0,\n        total: 0\n      },\n      // 备份课程已做的操作\n      teamCourseTotalList: {},\n      // 批量操作的值\n      teamOperationObject: {\n        team_times: undefined,\n        team_unit_price: undefined\n      },\n      personalAllOperationCoachTotal: 0,\n      // 操作栏选择教练等级的dorpdown是否显示\n      coachAllOperationDropdownIsShow: false,\n      // 操作栏教练等级选择的值\n      personalAllOperationCoachList: [],\n      // 批量操作的值\n      personalOperationObject: {\n        personal_times: undefined,\n        personal_unit_price: undefined\n      },\n      // 配置课程表格是否显示\n      personalCourseListIsShow: false,\n      // 配置的课程总计\n      personalCourseTotalObject: {\n        personal_times: 0,\n        total: 0\n      },\n      // team course\n      teamCourseList: [],\n      // personal course\n      personalCourseList: [],\n      // 课程范围是否未输入过\n      courseIsFirstInput: true,\n      // 操作栏checkbox是全选\n      teamCheckAll: false,\n      packageData: {\n        is_team: false,\n        is_personal: false,\n        personal_times: undefined,\n        team_times: undefined,\n        team_unit_price: undefined,\n        personal_unit_price: undefined\n      },\n      allTotal: 0\n    }\n  },\n  modals: {\n    CourseSelectCourse\n  },\n  filters: {\n    // 单课价格统计\n    course_item_total(times, unit_price) {\n      if (+times && +unit_price) {\n        return (+times * (+unit_price * 10)) / 10\n      } else {\n        return 0\n      }\n    }\n  },\n  methods: {\n    getRangeCourse(rangeCourse) {\n      const form = cloneDeep(rangeCourse)\n      if (\n        typeof form.personal_range === 'object' &&\n        form.personal_range.length > 0\n      ) {\n        form.personal_range = form.personal_range.map(item => {\n          const coach_level = item.coachGradeList.map(item =>\n            typeof item !== 'object' ? item : item.id\n          )\n          return {\n            course_id: item.course_id,\n            coach_level\n          }\n        })\n      }\n      if (typeof form.team_range === 'object') {\n        form.team_range = form.team_range.map(item => {\n          return item.course_id\n        })\n      }\n      if (!rangeCourse.is_team) {\n        form.team_range = []\n      }\n      if (!rangeCourse.is_personal) {\n        form.personal_range = []\n      }\n      form.is_team = +rangeCourse.is_team\n      form.is_personal = +rangeCourse.is_personal\n      return form\n    },\n    coachAllChange(e) {\n      let selectCoach = filter(this.coachList, o => e.includes(o.id))\n      this.personalAllOperationCoachTotal = reduce(\n        selectCoach,\n        (sum, o) => sum + o.coach_number,\n        0\n      )\n    },\n    // 移除选择的课程\n    removeCourseItems(type) {\n      if (type === 'team') {\n        let arr = cloneDeep(this.teamCourseList)\n        remove(arr, o => o.courseChecked)\n        this.teamCourseList = arr\n      } else if (type === 'personal') {\n        let arr = cloneDeep(this.personalCourseList)\n        let removeList = remove(arr, o => o.courseChecked)\n        this.personalCourseList = arr\n        // 移除备份选择的教练list\n        let coachList = cloneDeep(this.personalCoachTotalList)\n        removeList.forEach(i => {\n          delete coachList[i.course_id]\n        })\n        this.personalCoachTotalList = coachList\n      }\n    },\n    // item coach checkboxGroup changeEvent\n    coachItemChange(e, id, index) {\n      if (!e.length) {\n        this.personalCourseList[\n          index\n        ].coachGradeList = this.personalCoachListHistory[index]\n        return\n      } else {\n        this.personalCoachListHistory[index] = cloneDeep(e)\n      }\n      console.log(this.personalCourseList)\n      this.personalCoachTotalList[id] = {}\n      this.personalCoachTotalList[id].list = cloneDeep(e)\n      let selectCoach = filter(this.coachList, o => e.includes(o.id))\n      let total = reduce(selectCoach, (sum, o) => sum + o.coach_number, 0)\n      this.personalCoachTotalList[id].total = total\n      // 设置教练总数\n      this.personalCourseList.forEach(i => {\n        if (i.course_id === id) {\n          i.coach = total\n        }\n      })\n    },\n    // 选择课程\n    courseItemCheckedChange(e, type, index) {\n      if (type === 'team') {\n        this.teamCourseList[index].courseChecked = e.target.checked\n      } else if (type === 'personal') {\n        this.personalCourseList[index].courseChecked = e.target.checked\n      }\n    },\n    // teamItems input change\n    teamInputChange(e, type, id) {\n      this.teamCourseTotalList[id] = this.teamCourseTotalList[id]\n        ? this.teamCourseTotalList[id]\n        : {}\n      this.teamCourseTotalList[id][type] = e\n    },\n    // 移除课程\n    removeCourseItem(type, id) {\n      if (type === 'team') {\n        let arr = cloneDeep(this.teamCourseList)\n        remove(arr, o => o.course_id === id)\n        this.teamCourseList = arr\n        // 移除备份\n        let list = cloneDeep(this.teamCourseTotalList)\n        delete list[id]\n        this.teamCourseTotalList = list\n      } else if (type === 'personal') {\n        let arr = cloneDeep(this.personalCourseList)\n        remove(arr, o => o.course_id === id)\n        this.personalCourseList = arr\n        // 移除备份\n        let coachList = cloneDeep(this.personalCourseTotalList)\n        delete coachList[id]\n        this.personalCourseTotalList = coachList\n      }\n    },\n    // 新增团课课程\n    addCourseTeam() {\n      this.$modalRouter.push({\n        name: 'course-select-course',\n        props: {\n          platform: 'brand',\n          type: 'team',\n          useShopInfo: this.useShopInfo,\n          courses: this.teamCourseList\n        },\n        on: {\n          ok: data => {\n            data.list.forEach(i => {\n              i.courseChecked = false\n              i.team_times = null\n              i.team_unit_price = null\n            })\n            forEach(this.teamCourseTotalList, (value, key) => {\n              forEach(data.list, innerValue => {\n                if (+innerValue.course_id === +key) {\n                  innerValue.team_times = value.team_times\n                  innerValue.team_unit_price = value.team_unit_price\n                }\n              })\n              // 删除teamCourseTotalList里不存在的course_id项\n              if (!data.list.some(o => +o.course_id === +key)) {\n                delete this.teamCourseTotalList[key]\n              }\n            })\n            this.teamCourseList = cloneDeep(data.list)\n          }\n        }\n      })\n    },\n    // 新增私教课\n    addCoursePersonal() {\n      let that = this\n      this.$modalRouter.push({\n        name: 'course-select-course',\n        props: {\n          platform: 'brand',\n          type: 'personal',\n          useShopInfo: this.useShopInfo,\n          courses: this.personalCourseList\n        },\n        on: {\n          ok(data) {\n            let coachGradeList = []\n            forEach(that.coachList, i => {\n              coachGradeList.push(i.id)\n            })\n            let total = reduce(\n              that.coachList,\n              (sum, o) => sum + o.coach_number,\n              0\n            )\n            data.list.forEach(i => {\n              i.courseChecked = false\n              i.coachGradeList = coachGradeList\n              i.coach = total\n            })\n            forEach(that.personalCoachTotalList, (value, key) => {\n              forEach(data.list, innerValue => {\n                if (+innerValue.course_id === +key) {\n                  innerValue.coachGradeList = cloneDeep(value.list)\n                  innerValue.coach = cloneDeep(value.total)\n                }\n              })\n              // 删除personalCoachTotalList里不存在的course_id项\n              if (!data.list.some(o => +o.course_id === +key)) {\n                delete that.personalCoachTotalList[key]\n              }\n            })\n            that.personalCoachListHistory = []\n            // 缓存选择的教练等级\n            data.list.forEach(i => {\n              that.personalCoachListHistory.push(i.coachGradeList)\n            })\n            that.personalCourseList = cloneDeep(data.list)\n          }\n        }\n      })\n    },\n    teamCheckboxChange(event) {\n      this.courseIsFirstInput = false\n      this.teamCourseListIsShow = +event.target.checked\n    },\n    personalCheckboxChange(e) {\n      this.courseIsFirstInput = false\n      this.personalCourseListIsShow = +e.target.checked\n    },\n    // team\n    teamCourseListShow() {\n      this.teamCourseListIsShow = !this.teamCourseListIsShow\n    },\n    // personal\n    personalCourseListShow() {\n      this.personalCourseListIsShow = !this.personalCourseListIsShow\n    },\n    // 全选\n    checkAllChange(type) {\n      if (type === 'team') {\n        this.teamCheckAll = !this.teamCheckAll\n        this.teamCourseList.forEach(i => {\n          i.courseChecked = this.teamCheckAll\n        })\n      } else if (type === 'personal') {\n        this.personalCheckAll = !this.personalCheckAll\n        this.personalCourseList.forEach(i => {\n          i.courseChecked = this.personalCheckAll\n        })\n      }\n    },\n    // 批量操作团课课程包节数\n    timesOperationOk(type) {\n      if (type === 'team') {\n        forEach(this.teamCourseList, o => {\n          if (o.courseChecked) {\n            o.team_times = +this.teamOperationObject.team_times\n            // 备份批量操作的数据\n            this.teamCourseTotalList[o.course_id] = this.teamCourseTotalList[\n              o.course_id\n            ]\n              ? this.teamCourseTotalList[o.course_id]\n              : {}\n            this.teamCourseTotalList[o.course_id].team_times = +this\n              .teamOperationObject.team_times\n          }\n        })\n      } else if (type === 'personal') {\n        forEach(this.personalCourseList, o => {\n          if (o.courseChecked) {\n            o.personal_times = +this.personalOperationObject.personal_times\n            // 备份批量操作的数据\n            this.personalCourseTotalList[o.course_id] = this\n              .personalCourseTotalList[o.course_id]\n              ? this.personalCourseTotalList[o.course_id]\n              : {}\n            this.personalCourseTotalList[o.course_id].personal_times = +this\n              .personalOperationObject.personal_times\n          }\n        })\n      }\n    },\n    // 批量操作团课课程包价格\n    unitPriceOperationOk(type) {\n      if (type === 'team') {\n        forEach(this.teamCourseList, o => {\n          if (o.courseChecked) {\n            o.team_unit_price = +this.teamOperationObject.team_unit_price\n            // 备份批量操作的数据\n            this.teamCourseTotalList[o.course_id] = this.teamCourseTotalList[\n              o.course_id\n            ]\n              ? this.teamCourseTotalList[o.course_id]\n              : {}\n            this.teamCourseTotalList[o.course_id].team_unit_price = +this\n              .teamOperationObject.team_unit_price\n          }\n        })\n      } else if (type === 'personal') {\n        forEach(this.personalCourseList, o => {\n          if (o.courseChecked) {\n            o.personal_unit_price = +this.personalOperationObject\n              .personal_unit_price\n            // 备份批量操作的数据\n            this.personalCourseTotalList[o.course_id] = this\n              .personalCourseTotalList[o.course_id]\n              ? this.personalCourseTotalList[o.course_id]\n              : {}\n            this.personalCourseTotalList[\n              o.course_id\n            ].personal_unit_price = +this.personalOperationObject\n              .personal_unit_price\n          }\n        })\n      }\n    },\n    coachAllOperationOk() {\n      // 批量设置\n      forEach(this.personalCourseList, value => {\n        if (value.courseChecked) {\n          value.coachGradeList = cloneDeep(this.personalAllOperationCoachList)\n          this.personalCourseTotalList[value.course_id] = this\n            .personalCourseTotalList[value.course_id]\n            ? this.personalCourseTotalList[value.course_id]\n            : {}\n          this.personalCourseTotalList[value.course_id].list = cloneDeep(\n            this.personalAllOperationCoachList\n          )\n        }\n      })\n      // 缓存选择的教练等级\n      this.personalCoachListHistory = []\n      forEach(this.personalCourseList, i => {\n        this.personalCoachListHistory.push(i.coachGradeList)\n      })\n      // 清空\n      this.personalAllOperationCoachList = []\n      // 收起\n      this.coachAllOperationDropdownIsShow = false\n    }\n  },\n  created() {\n    if (isEmpty(this.initInfo)) return ''\n    this.packageData.is_team = !!this.initInfo.is_team\n    this.packageData.is_personal = !!this.initInfo.is_personal\n    this.packageData.personal_unit_price = this.initInfo.personal_unit_price\n    this.packageData.team_unit_price = this.initInfo.team_unit_price\n    if (this.initInfo.is_limit) {\n      this.packageData.personal_times = this.initInfo.personal_times\n      this.packageData.team_times = this.initInfo.team_times\n    }\n    this.teamCourseList = this.initInfo.team_range\n    this.personalCourseList = this.initInfo.personal_range.map(item => {\n      this.$set(\n        item,\n        'coachGradeList',\n        item.coach_level.map(item => item.id)\n      )\n      return item\n    })\n    console.log('created', this.personalCourseList)\n  },\n  mounted() {\n    this.addRangeService.getCoachList().subscribe()\n  }\n}\n</script>\n"],"sourceRoot":"src/views/pages/brand/product/package/component#"}]}