{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"tier-5~shop-sold-card-info-deposit~shop-sold-card-info-member~shop-sold-course-info-package~shop-sol~e80fe177\"],{1687:function(t,e,n){\"use strict\";var r,o,i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"st-modal\",{attrs:{title:\"修改合同备注\",confirmLoading:t.loading.updateContractDescription},on:{ok:t.onSubmit},model:{value:t.show,callback:function(e){t.show=e},expression:\"show\"}},[n(\"st-form\",{attrs:{form:t.form,labelWidth:\"56px\"}},[n(\"st-form-item\",{staticClass:\"mg-b0\",attrs:{label:\"合同备注\"}},[n(\"st-textarea\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:t.decorators.description,expression:\"decorators.description\"}],attrs:{autosize:{minRows:4,maxRows:6},maxlength:200,placeholder:\"请填写合同备注内容，限制200字以内\"}})],1)],1)],1)},c=[],s=(n(\"c5f6\"),n(\"e69b\")),a=n(\"d225\"),u=n(\"b0b4\"),d=n(\"9ab4\"),p=n(\"871f\"),f=n(\"0cd5\"),l=n(\"df29\"),b=function(){function t(e){Object(a[\"a\"])(this,t),this.contractApi=e,this.loading$=new l[\"d\"]({})}return Object(u[\"a\"])(t,[{key:\"updateContractDescription\",value:function(t,e){return this.contractApi.updateDescription(t,e)}}]),t}();Object(d[\"b\"])([Object(l[\"c\"])(),Object(d[\"d\"])(\"design:type\",Function),Object(d[\"d\"])(\"design:paramtypes\",[Number,\"function\"===typeof(r=\"undefined\"!==typeof p[\"UpdateDescriptionInput\"]&&p[\"UpdateDescriptionInput\"])?r:Object]),Object(d[\"d\"])(\"design:returntype\",void 0)],b.prototype,\"updateContractDescription\",null),b=Object(d[\"b\"])([Object(f[\"b\"])(),Object(d[\"d\"])(\"design:paramtypes\",[\"function\"===typeof(o=\"undefined\"!==typeof p[\"a\"]&&p[\"a\"])?o:Object])],b);var h=function(t){return{description:{}}},m={props:{order_id:{type:Number,default:0},description:{type:String,default:\"\"}},data:function(){var t=this.$stForm.create(),e=t.decorators(h);return{form:t,decorators:e,show:!1}},serviceInject:function(){return{messageService:s[\"a\"],editDescriptionService:b}},rxState:function(){return{loading:this.editDescriptionService.loading$}},mounted:function(){this.initForm()},methods:{initForm:function(){this.form.setFieldsValue({description:this.description})},onSubmit:function(){var t=this;this.form.validate().then((function(e){t.editDescriptionService.updateContractDescription(t.order_id,e).subscribe((function(){t.messageService.success({content:\"修改成功\"}),t.show=!1,t.$emit(\"success\")}))}))}}},v=m,y=n(\"2877\"),j=Object(y[\"a\"])(v,i,c,!1,null,null,null),g=j.exports,O=function(t){return{modals:{ContractEditDescription:g},methods:{editDescription:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.$modalRouter.push({name:\"contract-edit-description\",props:e,on:{success:function(){t.$router.reload()}}})}}}};e[\"a\"]=O},\"871f\":function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return p}));n(\"6b54\"),n(\"2397\");var r=n(\"d225\"),o=n(\"b0b4\"),i=n(\"308d\"),c=n(\"6bb5\"),s=n(\"4e2b\"),a=n(\"de46\");function u(t){return function(){var e,n=Object(c[\"a\"])(t);if(d()){var r=Object(c[\"a\"])(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Object(i[\"a\"])(this,e)}}function d(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var p=function(t){Object(s[\"a\"])(n,t);var e=u(n);function n(){return Object(r[\"a\"])(this,n),e.apply(this,arguments)}return Object(o[\"a\"])(n,[{key:\"getInfo\",value:function(t){return this.http.get(\"/v1/order/transaction/contract/\".concat(t.id))}},{key:\"updateDescription\",value:function(t,e){return this.http.put(\"/v1/order/transaction/contract/description/\".concat(t),{params:e})}}]),n}(a[\"a\"])}}]);","extractedComments":[]}