{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"tier-6~shop-finance-gathering~shop-reception~shop-sold-card-info-deposit~shop-sold-card-info-member~~f391d896\"],{\"9b2f\":function(e,t,n){\"use strict\";var s,i,o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"st-form-item\",{class:e.b(),attrs:{labelGutter:e.labelGutter,labelWidth:e.labelWidth,required:e.required}},[n(\"template\",{slot:\"label\"},[e.$slots.label?e._t(\"label\"):e._e(),[e._v(e._s(e.label))]],2),n(\"a-radio-group\",{attrs:{options:e.types,disabled:e.disabled},on:{change:e.onTypeChange},model:{value:e.currentType,callback:function(t){e.currentType=t},expression:\"currentType\"}}),n(\"st-container\",{directives:[{name:\"show\",rawName:\"v-show\",value:e.isShowShopList,expression:\"isShowShopList\"}],staticClass:\"mg-t16\",class:e.b(\"container\")},[n(\"a-checkbox-group\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:e.decorators.currentShopIds,expression:\"decorators.currentShopIds\"}],staticClass:\"full-width\",attrs:{disabled:e.disabled},on:{change:e.onShopIdsChange}},[n(\"a-row\",e._l(e.shopList,(function(t){return n(\"a-col\",{key:t.value,class:e.b(\"item\"),attrs:{span:12}},[n(\"a-checkbox\",{attrs:{value:t.id}},[e._v(e._s(t.shop_name))])],1)})),1)],1)],1)],2)},r=[],a=(n(\"c5f6\"),n(\"d225\")),c=n(\"b0b4\"),u=n(\"9ab4\"),p=n(\"2138\"),d=n(\"0cd5\"),h=n(\"df29\"),l=n(\"c4cc\"),f=n(\"5afb\"),b=function(){function e(t,n){Object(a[\"a\"])(this,e),this.userService=t,this.shopApi=n,this.loading$=new h[\"d\"]({}),this.types$=this.userService.getOptions$(\"sold_common.product_support_shop\"),this.shopList$=new h[\"d\"]([])}return Object(c[\"a\"])(e,[{key:\"getShopList\",value:function(){var e=this;return this.shopApi.getShopListForSelect().pipe(Object(l[\"a\"])((function(t){e.shopList$.commit((function(){return t.shops}))})))}}]),e}();Object(u[\"b\"])([Object(h[\"c\"])(),Object(u[\"d\"])(\"design:type\",Function),Object(u[\"d\"])(\"design:paramtypes\",[]),Object(u[\"d\"])(\"design:returntype\",void 0)],b.prototype,\"getShopList\",null),b=Object(u[\"b\"])([Object(d[\"b\"])(),Object(u[\"d\"])(\"design:paramtypes\",[\"function\"===typeof(s=\"undefined\"!==typeof p[\"a\"]&&p[\"a\"])?s:Object,\"function\"===typeof(i=\"undefined\"!==typeof f[\"c\"]&&f[\"c\"])?i:Object])],b);var y=function(e){return{currentShopIds:{initialValue:[],rules:[{validator:function(t,n){if(!e.disabled&&e.currentType===e.MULTI_SHOP&&!n.length)return\"请选择\".concat(e.label)}}]}}},g={serviceInject:function(){return{assignShopService:b}},rxState:function(){var e=this.assignShopService,t=e.loading$,n=e.types$,s=e.shopList$;return{loading:t,types:n,shopList:s}},decorators:function(){return this.form.addDecorators(this.ruleOptions)},bem:{b:\"biz-assign-shop\"},props:{type:{type:Number,default:1},shopIds:{type:Array,default:function(){return[]}},form:{type:Object,default:function(){return{}}},label:{type:String,default:\"入场场馆\"},labelWidth:{type:String,default:\"88px\"},labelGutter:{type:String,default:\"24px\"},required:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},data:function(){return{currentType:1,MULTI_SHOP:2}},computed:{ruleOptions:y,decorators:function(){return this.form.addDecorators(this.ruleOptions)},isShowShopList:function(){return this.currentType===this.MULTI_SHOP}},watch:{disabled:function(){this.form.validateFields([\"currentShopIds\"],{force:!0})},type:function(e){this.currentType=e},shopIds:{handler:function(e){this.form.setFieldsValue({currentShopIds:e})},deep:!0}},created:function(){this.assignShopService.getShopList().subscribe()},mounted:function(){this.init()},methods:{init:function(){var e=this,t=this.type,n=this.shopIds;this.currentType=t,this.$nextTick((function(){e.form.setFieldsValue({currentShopIds:n})}))},onShopIdsChange:function(e){this.form.setFieldsValue({currentShopIds:e}),this.onChange()},onTypeChange:function(e){var t=this;this.currentType=e.target.value,this.$nextTick((function(){t.form.validateFields([\"currentShopIds\"],{force:!0})})),this.onChange()},onChange:function(){var e=this.currentType,t=this.form.getFieldValue(\"currentShopIds\");this.$emit(\"change\",e,t)}}},S=g,m=n(\"2877\"),v=Object(m[\"a\"])(S,o,r,!1,null,null,null);t[\"a\"]=v.exports}}]);","extractedComments":[]}