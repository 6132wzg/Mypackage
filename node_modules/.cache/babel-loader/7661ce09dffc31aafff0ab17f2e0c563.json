{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/thread-loader/dist/cjs.js!/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/biz-modals/shop/app/venue/setting.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/biz-modals/shop/app/venue/setting.vue","mtime":1597396799941},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/thread-loader/dist/cjs.js","mtime":1591062572352},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { SettingService } from \"./setting.service\";\nimport { MessageService } from '@/services/message.service';\nimport { CYCLIC_TYPE, WEEK_MAP } from '@/constants/venue';\nexport default {\n  serviceInject: function serviceInject() {\n    return {\n      settingService: SettingService,\n      messageService: MessageService\n    };\n  },\n  rxState: function rxState() {\n    return {\n      list: this.settingService.list$,\n      auth: this.settingService.auth$\n    };\n  },\n  name: 'newLable',\n  props: {\n    siteId: {\n      type: Number,\n      default: function _default() {\n        return '';\n      }\n    },\n    venuesId: {\n      type: Number,\n      default: function _default() {\n        return '';\n      }\n    }\n  },\n  data: function data() {\n    return {\n      show: false,\n      CYCLIC_TYPE: CYCLIC_TYPE\n    };\n  },\n  filters: {\n    cycleFilter: function cycleFilter(val) {\n      return '每' + val.map(function (item) {\n        return WEEK_MAP[item];\n      }).join('、');\n    }\n  },\n  mounted: function mounted() {\n    this.getList();\n  },\n  methods: {\n    getList: function getList() {\n      this.settingService.getList({\n        site_id: this.siteId\n      }).subscribe();\n    },\n    delSetting: function delSetting(item) {\n      var _this = this;\n\n      var data = {\n        settings_id: item.settings_id\n      };\n      this.settingService.deleteSetting(data).subscribe(function () {\n        _this.getList();\n      });\n    },\n    order: function order(item) {\n      var _this2 = this;\n\n      var data = {\n        site_id: this.siteId,\n        settings_id: item.settings_id\n      };\n      this.settingService.orderSetting(data).subscribe(function () {\n        _this2.getList();\n      });\n    },\n    addRow: function addRow() {\n      this.show = false;\n      this.$router.push({\n        name: 'shop-app-venue-setting-add',\n        query: {\n          venues_id: this.venuesId\n        }\n      });\n    },\n    editRow: function editRow(item) {\n      this.show = false;\n      this.$router.push({\n        name: 'shop-app-venue-setting-edit',\n        query: {\n          settings_id: item.settings_id\n        }\n      });\n    },\n    save: function save(e) {\n      var _this3 = this;\n\n      var verify = true;\n      e.preventDefault();\n      var sites = this.sites.map(function (item) {\n        item.name === '' && (verify = false);\n        return item.name;\n      });\n\n      if (!verify) {\n        this.messageService.warn({\n          content: '场地名称不能为空'\n        });\n        return;\n      }\n\n      var data = {\n        venues_id: this.venuesId,\n        sites: this.sites.map(function (item) {\n          return item.name;\n        })\n      };\n      this.settingService.addSites(data).subscribe(function (state) {\n        _this3.messageService.success({\n          content: '新增成功'\n        });\n\n        _this3.show = false;\n\n        _this3.$emit('success', true);\n      });\n    }\n  }\n};",null]}