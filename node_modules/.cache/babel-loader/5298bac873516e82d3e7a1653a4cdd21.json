{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/components/mina-panel/mina-panel.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/components/mina-panel/mina-panel.vue","mtime":1600912106199},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'StMinaPanel',\n  props: {\n    initial: {\n      type: Boolean,\n      default: false\n    },\n    responsivePreview: {\n      type: Boolean,\n      default: false // 窗口缩放是否显示\n\n    }\n  },\n  bem: {\n    b: 'st-mina-panel'\n  },\n  data: function data() {\n    return {\n      isActionFixed: true,\n      actionLeft: 0,\n      actionRight: 0,\n      footerEl: null\n    };\n  },\n  methods: {\n    handleActionsPosition: function handleActionsPosition() {\n      var rect = this.footerEl.getBoundingClientRect();\n      var minaMain = document.querySelector('.st-mina-panel__main').getBoundingClientRect(); // 视窗内\n\n      if (rect.top < window.innerHeight) {\n        this.isActionFixed = false;\n      } else {\n        this.isActionFixed = true;\n        this.actionLeft = minaMain.left;\n      }\n    }\n  },\n  computed: {\n    isShowPreview: function isShowPreview() {\n      return this.$slots.preview;\n    },\n    actionStyle: function actionStyle() {\n      if (!this.isActionFixed) {\n        return {};\n      }\n\n      return {\n        left: this.actionLeft + 'px'\n      };\n    }\n  },\n  mounted: function mounted() {\n    this.footerEl = document.querySelector('.layout-default-body__footer');\n\n    if (this.footerEl) {\n      this.handleActionsPosition();\n      window.addEventListener('scroll', this.handleActionsPosition, false);\n      window.addEventListener('resize', this.handleActionsPosition, false);\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    window.removeEventListener('scroll', this.handleActionsPosition, false);\n    window.removeEventListener('resize', this.handleActionsPosition, false);\n  }\n};",{"version":3,"sources":["mina-panel.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AA0BA,eAAA;AACA,EAAA,IAAA,EAAA,aADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,OAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,OAAA,EAAA;AAFA,KADA;AAKA,IAAA,iBAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,OAAA,EAAA,KAFA,CAEA;;AAFA;AALA,GAFA;AAYA,EAAA,GAAA,EAAA;AACA,IAAA,CAAA,EAAA;AADA,GAZA;AAeA,EAAA,IAfA,kBAeA;AACA,WAAA;AACA,MAAA,aAAA,EAAA,IADA;AAEA,MAAA,UAAA,EAAA,CAFA;AAGA,MAAA,WAAA,EAAA,CAHA;AAIA,MAAA,QAAA,EAAA;AAJA,KAAA;AAMA,GAtBA;AAuBA,EAAA,OAAA,EAAA;AACA,IAAA,qBADA,mCACA;AACA,UAAA,IAAA,GAAA,KAAA,QAAA,CAAA,qBAAA,EAAA;AACA,UAAA,QAAA,GAAA,QAAA,CACA,aADA,CACA,sBADA,EAEA,qBAFA,EAAA,CAFA,CAKA;;AACA,UAAA,IAAA,CAAA,GAAA,GAAA,MAAA,CAAA,WAAA,EAAA;AACA,aAAA,aAAA,GAAA,KAAA;AACA,OAFA,MAEA;AACA,aAAA,aAAA,GAAA,IAAA;AACA,aAAA,UAAA,GAAA,QAAA,CAAA,IAAA;AACA;AACA;AAbA,GAvBA;AAsCA,EAAA,QAAA,EAAA;AACA,IAAA,aADA,2BACA;AACA,aAAA,KAAA,MAAA,CAAA,OAAA;AACA,KAHA;AAIA,IAAA,WAJA,yBAIA;AACA,UAAA,CAAA,KAAA,aAAA,EAAA;AACA,eAAA,EAAA;AACA;;AACA,aAAA;AAAA,QAAA,IAAA,EAAA,KAAA,UAAA,GAAA;AAAA,OAAA;AACA;AATA,GAtCA;AAiDA,EAAA,OAjDA,qBAiDA;AACA,SAAA,QAAA,GAAA,QAAA,CAAA,aAAA,CAAA,8BAAA,CAAA;;AACA,QAAA,KAAA,QAAA,EAAA;AACA,WAAA,qBAAA;AACA,MAAA,MAAA,CAAA,gBAAA,CAAA,QAAA,EAAA,KAAA,qBAAA,EAAA,KAAA;AACA,MAAA,MAAA,CAAA,gBAAA,CAAA,QAAA,EAAA,KAAA,qBAAA,EAAA,KAAA;AACA;AACA,GAxDA;AAyDA,EAAA,aAzDA,2BAyDA;AACA,IAAA,MAAA,CAAA,mBAAA,CAAA,QAAA,EAAA,KAAA,qBAAA,EAAA,KAAA;AACA,IAAA,MAAA,CAAA,mBAAA,CAAA,QAAA,EAAA,KAAA,qBAAA,EAAA,KAAA;AACA;AA5DA,CAAA","sourcesContent":["<template>\n  <div :class=\"b({ initial, 'responsive-preview': responsivePreview })\">\n    <div v-if=\"isShowPreview\" :class=\"b('preview')\">\n      <slot name=\"preview\"></slot>\n    </div>\n    <a-row>\n      <a-col :xl=\"12\"></a-col>\n      <a-col :xl=\"8\"></a-col>\n    </a-row>\n    <div :class=\"b('main')\">\n      <slot name=\"prepend\"></slot>\n      <div :class=\"b('content')\">\n        <slot></slot>\n      </div>\n      <div\n        v-if=\"$slots.actions\"\n        :class=\"b('actions', { fixed: isActionFixed })\"\n        :style=\"actionStyle\"\n      >\n        <slot name=\"actions\"></slot>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'StMinaPanel',\n  props: {\n    initial: {\n      type: Boolean,\n      default: false\n    },\n    responsivePreview: {\n      type: Boolean,\n      default: false // 窗口缩放是否显示\n    }\n  },\n  bem: {\n    b: 'st-mina-panel'\n  },\n  data() {\n    return {\n      isActionFixed: true,\n      actionLeft: 0,\n      actionRight: 0,\n      footerEl: null\n    }\n  },\n  methods: {\n    handleActionsPosition() {\n      const rect = this.footerEl.getBoundingClientRect()\n      const minaMain = document\n        .querySelector('.st-mina-panel__main')\n        .getBoundingClientRect()\n      // 视窗内\n      if (rect.top < window.innerHeight) {\n        this.isActionFixed = false\n      } else {\n        this.isActionFixed = true\n        this.actionLeft = minaMain.left\n      }\n    }\n  },\n  computed: {\n    isShowPreview() {\n      return this.$slots.preview\n    },\n    actionStyle() {\n      if (!this.isActionFixed) {\n        return {}\n      }\n      return { left: this.actionLeft + 'px' }\n    }\n  },\n  mounted() {\n    this.footerEl = document.querySelector('.layout-default-body__footer')\n    if (this.footerEl) {\n      this.handleActionsPosition()\n      window.addEventListener('scroll', this.handleActionsPosition, false)\n      window.addEventListener('resize', this.handleActionsPosition, false)\n    }\n  },\n  beforeDestroy() {\n    window.removeEventListener('scroll', this.handleActionsPosition, false)\n    window.removeEventListener('resize', this.handleActionsPosition, false)\n  }\n}\n</script>\n"],"sourceRoot":"src/views/components/mina-panel"}]}