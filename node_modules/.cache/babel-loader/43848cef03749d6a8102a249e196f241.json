{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/thread-loader/dist/cjs.js!/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/setting/mina/pay-config.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/setting/mina/pay-config.vue","mtime":1591147717356},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/thread-loader/dist/cjs.js","mtime":1591062572352},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { PayConfigService } from \"./pay-config.service\";\nimport PemUploadComponent from \"./components#/pem-upload.component\";\nexport default {\n  bem: {\n    pay: 'brand-setting-mina-pay-config'\n  },\n  serviceInject: function serviceInject() {\n    return {\n      payConfigService: PayConfigService\n    };\n  },\n  components: {\n    PemUploadComponent: PemUploadComponent\n  },\n  data: function data() {\n    return {\n      form: this.$form.createForm(this),\n      payConfig: {\n        mch_name: ['mch_name', {\n          rules: [{\n            required: true,\n            message: '请填写商户名称'\n          }]\n        }],\n        mch_id: ['mch_id', {\n          rules: [{\n            required: true,\n            message: '请填写微信商户号'\n          }]\n        }],\n        key: ['key', {\n          rules: [{\n            required: true,\n            message: '请填写API密钥'\n          }]\n        }],\n        cert_pem: ['cert_pem'],\n        key_pem: ['key_pem']\n      }\n    };\n  },\n  methods: {\n    uploadPemSuccess: function uploadPemSuccess(key) {\n      this.form.setFieldsValue({\n        cert_pem: key\n      });\n    },\n    uploadSecretKeySuccess: function uploadSecretKeySuccess(key) {\n      this.form.setFieldsValue({\n        key_pem: key\n      });\n    },\n    trim: function trim(str) {\n      return str.replace(/(^\\s*)|(\\s*$)/g, '');\n    },\n    save: function save() {\n      var _this = this;\n\n      var self = this;\n      this.form.validateFields(function (err, values) {\n        if (!err) {\n          values.mch_name = _this.trim(values.mch_name);\n          values.mch_id = _this.trim(values.mch_id);\n          values.key = _this.trim(values.key);\n          self.payConfigService.saveMch(values).subscribe(function () {\n            self.$router.push({\n              path: '/brand/setting/mina/auth-callback?type=payConfig'\n            });\n          });\n        }\n      });\n    },\n    back: function back() {\n      this.$router.back();\n    },\n    skip: function skip() {\n      this.$router.push({\n        name: 'brand-setting-mina-index'\n      });\n    }\n  }\n};",null]}