{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/thread-loader/dist/cjs.js!/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/product/package/component#/add-course-unlimit-table.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/product/package/component#/add-course-unlimit-table.vue","mtime":1594718340366},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/thread-loader/dist/cjs.js","mtime":1591062572352},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'AddCourseUnlimitTable',\n  bem: {\n    add: 'page-shop-add-fix-package',\n    b: 'add-course-fix-table'\n  },\n  props: {\n    initInfo: {\n      type: Object,\n      default: function _default() {\n        return {\n          // 是否支持团体课 0为不支持 1为支持\n          is_team: 0,\n          // 团体课总节数\n          team_times: undefined,\n          // 团体课单价\n          team_unit_price: undefined,\n          // 是否支持私教课 0为不支持 1为支持\n          is_personal: 0,\n          // 私教课总节数\n          personal_times: undefined,\n          // 私教课单价\n          personal_unit_price: undefined\n        };\n      }\n    }\n  },\n  watch: {\n    packageData: {\n      handler: function handler(newValue, oldValue) {\n        if (!newValue.is_team && !newValue.is_personal) {\n          this.$emit('change', null);\n          return;\n        }\n\n        if (newValue.is_team && !newValue.is_personal && !newValue.team_times && !newValue.team_unit_price) {\n          this.$emit('change', null);\n          return;\n        }\n\n        if (newValue.is_personal && !newValue.is_team && !newValue.personal_times && !newValue.personal_unit_price) {\n          this.$emit('change', null);\n          return;\n        }\n\n        this.$emit('change', newValue);\n      },\n      deep: true\n    }\n  },\n  data: function data() {\n    return {\n      packageData: {\n        // 是否支持团体课 0为不支持 1为支持\n        is_team: 0,\n        // 团体课总节数\n        team_times: undefined,\n        // 团体课单价\n        team_unit_price: undefined,\n        // 是否支持私教课 0为不支持 1为支持\n        is_personal: 0,\n        // 私教课总节数\n        personal_times: undefined,\n        // 私教课单价\n        personal_unit_price: undefined\n      },\n      // 课程范围是否未输入过\n      courseIsFirstInput: true\n    };\n  },\n  created: function created() {\n    this.packageData.is_team = this.initInfo.is_team;\n    this.packageData.is_personal = this.initInfo.is_personal;\n    this.packageData.personal_unit_price = this.initInfo.personal_unit_price;\n    this.packageData.team_unit_price = this.initInfo.team_unit_price;\n    this.packageData.team_times = this.initInfo.team_times;\n    this.packageData.personal_times = this.initInfo.personal_times;\n  },\n  methods: {\n    // checkboxChange\n    teamCheckboxChange: function teamCheckboxChange(e) {\n      this.packageData.is_team = +e.target.checked;\n      this.courseIsFirstInput = false;\n    },\n    personalCheckboxChange: function personalCheckboxChange(e) {\n      this.packageData.is_personal = +e.target.checked;\n      this.courseIsFirstInput = false;\n    }\n  },\n  computed: {\n    // 团课小计\n    team_total: function team_total() {\n      if (+this.packageData.team_times && +this.packageData.team_unit_price) {\n        return this.packageData.team_times * (this.packageData.team_unit_price * 10) / 10;\n      } else {\n        return 0;\n      }\n    },\n    // 私教小计\n    personal_total: function personal_total() {\n      if (+this.packageData.personal_times && +this.packageData.personal_unit_price) {\n        return this.packageData.personal_times * (this.packageData.personal_unit_price * 10) / 10;\n      } else {\n        return 0;\n      }\n    },\n    // 总价\n    all_total: function all_total() {\n      var teamTotal = this.packageData.is_team ? this.team_total : 0;\n      var personalTotal = this.packageData.is_personal ? this.personal_total : 0;\n      return teamTotal + personalTotal;\n    }\n  }\n};",null]}