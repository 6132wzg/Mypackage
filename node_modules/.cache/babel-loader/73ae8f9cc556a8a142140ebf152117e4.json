{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/thread-loader/dist/cjs.js!/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/biz-modals/shop-staff/batch-import.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/biz-modals/shop-staff/batch-import.vue","mtime":1591147717198},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/thread-loader/dist/cjs.js","mtime":1591062572352},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { BatchImportService } from \"./batch-import.service\";\nimport { StaffApi } from '@/api/v1/staff';\nimport { json2AntDesignTreeData } from '@/utils/json-2-tree-data';\nexport default {\n  name: 'BindEntityCard',\n  serviceInject: function serviceInject() {\n    return {\n      staffApi: StaffApi,\n      batchImportService: BatchImportService\n    };\n  },\n  rxState: function rxState() {\n    return {\n      loading: this.batchImportService.loading$\n    };\n  },\n  props: {\n    ids: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    }\n  },\n  data: function data() {\n    return {\n      show: false,\n      departmentOptions: [],\n      department_id: 0\n    };\n  },\n  mounted: function mounted() {\n    this.getDepartmentList();\n  },\n  methods: {\n    onSelect: function onSelect(keys) {\n      this.department_id = keys.map(function (item) {\n        return JSON.parse(item)['key'];\n      })[0];\n    },\n    save: function save(e) {\n      var _this = this;\n\n      e.preventDefault();\n      this.batchImportService.transferBrand({\n        ids: this.ids,\n        department_id: this.department_id\n      }).subscribe(function (res) {\n        _this.show = false;\n\n        _this.$emit('change');\n      });\n    },\n    traverseTree: function traverseTree(tree) {\n      var _this2 = this;\n\n      // 将ID转化为String UI组件需要\n      return tree.map(function (item) {\n        return item.children ? {\n          name: item.name,\n          children: _this2.traverseTree(item.children),\n          id: item.id + '',\n          count: item.count\n        } : item;\n      });\n    },\n    getDepartmentList: function getDepartmentList() {\n      var _this3 = this;\n\n      this.staffApi.getDepartmentList().subscribe(function (res) {\n        _this3.departmentOptions = json2AntDesignTreeData(res.department, {\n          keyName: 'id'\n        });\n      });\n    }\n  }\n};",null]}