{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/node_modules/ts-loader/index.js??ref--13-2!/Users/wangzhigang/Desktop/styd/web/src/views/pages/shop/reception/components#/shortcut-model.service.ts","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/pages/shop/reception/components#/shortcut-model.service.ts","mtime":1600926556422},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/ts-loader/index.js","mtime":1591062571609}],"contextDependencies":[],"result":["import _classCallCheck from \"/Users/wangzhigang/Desktop/styd/web/node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wangzhigang/Desktop/styd/web/node_modules/@babel/runtime-corejs2/helpers/esm/createClass\";\n\nvar _a, _b, _c;\n\nimport { __decorate, __metadata } from \"tslib\";\nimport { Injectable } from 'vue-service-app';\nimport { AuthService } from '@/services/auth.service';\nimport { IconsApi, FrontIconsInput } from '@/api/v1/front/icons';\nimport { State, Effect } from 'rx-state';\nimport { tap } from 'rxjs/operators';\n\nvar ShortcutModelService = /*#__PURE__*/function () {\n  function ShortcutModelService(authService, iconsApi) {\n    _classCallCheck(this, ShortcutModelService);\n\n    this.authService = authService;\n    this.iconsApi = iconsApi;\n    this.auth$ = this.authService.authMap$({\n      memberBill: 'shop:front_end:module|member_card',\n      depositBill: 'shop:front_end:module|deposit_card',\n      personalBill: 'shop:front_end:module|personal_course',\n      packageBill: 'shop:front_end:module|package_course',\n      smallCourseBill: 'shop:front_end:module|small_course',\n      cabinetBill: 'shop:front_end:module|cabinet',\n      reserveAdd: 'shop:reserve:visit_reserve|add',\n      earnestAdd: 'shop:temporary_payment:bargin|add',\n      modelSetting: 'shop:front_end:module|option_setting'\n    });\n    this.loading$ = new State({});\n    this.list$ = new State([]);\n  }\n\n  _createClass(ShortcutModelService, [{\n    key: \"getIcons\",\n    value: function getIcons() {\n      var _this = this;\n\n      return this.iconsApi.getFrontIcons().pipe(tap(function (res) {\n        _this.list$.commit(function () {\n          return res.info;\n        });\n      }));\n    }\n  }, {\n    key: \"setIcons\",\n    value: function setIcons(query) {\n      return this.iconsApi.setFrontIcons(query);\n    }\n  }, {\n    key: \"beforeEach\",\n    value: function beforeEach() {\n      return this.getIcons();\n    }\n  }]);\n\n  return ShortcutModelService;\n}();\n\n__decorate([Effect(), __metadata(\"design:type\", Function), __metadata(\"design:paramtypes\", []), __metadata(\"design:returntype\", void 0)], ShortcutModelService.prototype, \"getIcons\", null);\n\n__decorate([Effect(), __metadata(\"design:type\", Function), __metadata(\"design:paramtypes\", [typeof (_a = typeof FrontIconsInput !== \"undefined\" && FrontIconsInput) === \"function\" ? _a : Object]), __metadata(\"design:returntype\", void 0)], ShortcutModelService.prototype, \"setIcons\", null);\n\nShortcutModelService = __decorate([Injectable(), __metadata(\"design:paramtypes\", [typeof (_b = typeof AuthService !== \"undefined\" && AuthService) === \"function\" ? _b : Object, typeof (_c = typeof IconsApi !== \"undefined\" && IconsApi) === \"function\" ? _c : Object])], ShortcutModelService);\nexport { ShortcutModelService };",{"version":3,"sources":["/Users/wangzhigang/Desktop/styd/web/src/views/pages/shop/reception/components#/shortcut-model.service.ts"],"names":[],"mappings":";;;;;;AAAA,SAAS,UAAT,QAA2B,iBAA3B;AACA,SAAS,WAAT,QAA4B,yBAA5B;AACA,SAAS,QAAT,EAAmB,eAAnB,QAA0C,sBAA1C;AACA,SAAS,KAAT,EAAgB,MAAhB,QAA8B,UAA9B;AACA,SAAS,GAAT,QAAoB,gBAApB;;AAGA,IAAa,oBAAb;AAcE,gCAAoB,WAApB,EAAsD,QAAtD,EAAwE;AAAA;;AAApD,SAAA,WAAA,GAAA,WAAA;AAAkC,SAAA,QAAA,GAAA,QAAA;AAbtD,SAAA,KAAA,GAAQ,KAAK,WAAL,CAAiB,QAAjB,CAA0B;AAChC,MAAA,UAAU,EAAE,mCADoB;AAEhC,MAAA,WAAW,EAAE,oCAFmB;AAGhC,MAAA,YAAY,EAAE,uCAHkB;AAIhC,MAAA,WAAW,EAAE,sCAJmB;AAKhC,MAAA,eAAe,EAAE,oCALe;AAMhC,MAAA,WAAW,EAAE,+BANmB;AAOhC,MAAA,UAAU,EAAE,gCAPoB;AAQhC,MAAA,UAAU,EAAE,mCARoB;AAShC,MAAA,YAAY,EAAE;AATkB,KAA1B,CAAR;AAWA,SAAA,QAAA,GAAW,IAAI,KAAJ,CAAU,EAAV,CAAX;AACA,SAAA,KAAA,GAAQ,IAAI,KAAJ,CAAU,EAAV,CAAR;AAC4E;;AAd9E;AAAA;AAAA,+BAgBU;AAAA;;AACN,aAAO,KAAK,QAAL,CAAc,aAAd,GAA8B,IAA9B,CACL,GAAG,CAAC,UAAC,GAAD,EAAa;AACf,QAAA,KAAI,CAAC,KAAL,CAAW,MAAX,CAAkB;AAAA,iBAAM,GAAG,CAAC,IAAV;AAAA,SAAlB;AACD,OAFE,CADE,CAAP;AAKD;AAtBH;AAAA;AAAA,6BAwBW,KAxBX,EAwBiC;AAC7B,aAAO,KAAK,QAAL,CAAc,aAAd,CAA4B,KAA5B,CAAP;AACD;AA1BH;AAAA;AAAA,iCA2BY;AACR,aAAO,KAAK,QAAL,EAAP;AACD;AA7BH;;AAAA;AAAA,GAAA;;AAgBE,UAAA,CAAA,CADC,MAAM,EACP,E,mCAAA,E,mCAAA,E,uCAAA,CAAA,E,8BAAA,E,UAAA,EAMC,IAND,CAAA;;AAQA,UAAA,CAAA,CADC,MAAM,EACP,E,mCAAA,E,qDAAgB,e,KAAe,W,IAAf,e,MAAe,U,GAAA,E,GAAA,M,EAA/B,E,uCAAA,CAAA,E,8BAAA,E,UAAA,EAEC,IAFD,CAAA;;AAxBW,oBAAoB,GAAA,UAAA,CAAA,CADhC,UAAU,EACsB,E,qDAcE,W,KAAW,W,IAAX,W,MAAW,U,GAAA,E,GAAA,M,EAAA,QAAA,EAAA,GAAA,OAAoB,QAApB,KAA4B,WAA5B,IAAoB,QAApB,MAA4B,UAA5B,GAA4B,EAA5B,GAA4B,M,EAdzC,CAAA,EAApB,oBAAoB,CAApB;SAAA,oB","sourcesContent":["import { Injectable } from 'vue-service-app'\nimport { AuthService } from '@/services/auth.service'\nimport { IconsApi, FrontIconsInput } from '@/api/v1/front/icons'\nimport { State, Effect } from 'rx-state'\nimport { tap } from 'rxjs/operators'\n\n@Injectable()\nexport class ShortcutModelService {\n  auth$ = this.authService.authMap$({\n    memberBill: 'shop:front_end:module|member_card',\n    depositBill: 'shop:front_end:module|deposit_card',\n    personalBill: 'shop:front_end:module|personal_course',\n    packageBill: 'shop:front_end:module|package_course',\n    smallCourseBill: 'shop:front_end:module|small_course',\n    cabinetBill: 'shop:front_end:module|cabinet',\n    reserveAdd: 'shop:reserve:visit_reserve|add',\n    earnestAdd: 'shop:temporary_payment:bargin|add',\n    modelSetting: 'shop:front_end:module|option_setting'\n  })\n  loading$ = new State({})\n  list$ = new State([])\n  constructor(private authService: AuthService, private iconsApi: IconsApi) {}\n  @Effect()\n  getIcons() {\n    return this.iconsApi.getFrontIcons().pipe(\n      tap((res: any) => {\n        this.list$.commit(() => res.info)\n      })\n    )\n  }\n  @Effect()\n  setIcons(query: FrontIconsInput) {\n    return this.iconsApi.setFrontIcons(query)\n  }\n  beforeEach() {\n    return this.getIcons()\n  }\n}\n"],"sourceRoot":""}]}