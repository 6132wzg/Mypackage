{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/product/package/component#/add-course-fix-table.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/product/package/component#/add-course-fix-table.vue","mtime":1597396799965},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport CourseSelectCourse from '@/views/biz-modals/course/select-course'\nimport { FormService } from './form.service'\nimport { AddFixPackageService } from '../add-fix-package.service'\nimport { forEach, cloneDeep, remove, every, reduce, filter } from 'lodash'\nimport { isEmpty } from 'lodash-es'\nexport default {\n  name: 'AddCourseFixTable',\n  bem: {\n    add: 'page-shop-add-fix-package',\n    b: 'page-shop-add-basic-package'\n  },\n  serviceInject() {\n    return {\n      addFixService: AddFixPackageService\n    }\n  },\n  rxState() {\n    return {\n      coachList: this.addFixService.coachList$\n    }\n  },\n  computed: {\n    all_total() {\n      let teamTotal = this.packageData.is_team\n        ? this.teamCourseTotalObject.total\n        : 0\n      let personalTotal = this.packageData.is_personal\n        ? this.personalCourseTotalObject.total\n        : 0\n      return teamTotal + personalTotal\n    }\n  },\n  props: {\n    initInfo: {\n      type: Object,\n      default: () => {\n        return {}\n      }\n    },\n    useShopInfo: {\n      type: Object,\n      default: () => {}\n    }\n  },\n  watch: {\n    packageData: {\n      handler: function(newValue, oldValue) {\n        if (!newValue.is_team && !newValue.is_personal) {\n          this.$emit('change', {})\n          return ''\n        }\n        if (newValue.is_team && !this.teamCourseList.length) {\n          this.$emit('change', {})\n          return false\n        }\n        if (newValue.is_personal && !this.personalCourseList.length) {\n          this.$emit('change', {})\n          return false\n        }\n        this.$emit(\n          'change',\n          this.getRangeCourse({\n            team_range: this.teamCourseList,\n            ...newValue,\n            personal_range: this.personalCourseList\n          })\n        )\n      },\n      deep: true\n    },\n    teamCourseList: {\n      handler: function(newValue, oldValue) {\n        let allSelect = false\n        let allNotSelect = false\n        allSelect = every(newValue, o => o.courseChecked)\n        allNotSelect = every(newValue, o => !o.courseChecked)\n        this.teamIndeterminate = !allSelect && !allNotSelect\n        this.teamCheckAll = newValue.length ? allSelect : false\n        newValue.forEach(item => {\n          this.validateTeam = !item.team_times || !item.team_unit_price\n        })\n        // 计算团课总计\n        this.teamCourseTotalObject.team_times = reduce(\n          newValue,\n          (sum, o) => {\n            let team_times = isNaN(+o.team_times) ? 0 : +o.team_times\n            return sum + team_times\n          },\n          0\n        )\n        this.teamCourseTotalObject.total = reduce(\n          newValue,\n          (sum, o) => {\n            let team_times = isNaN(+o.team_times) ? 0 : +o.team_times\n            let team_unit_price = isNaN(+o.team_unit_price)\n              ? 0\n              : +o.team_unit_price\n            return sum + (team_times * (team_unit_price * 10)) / 10\n          },\n          0\n        )\n        if (this.validateTeam) {\n          this.$emit('change', {})\n          return\n        }\n        this.$emit(\n          'change',\n          this.getRangeCourse({\n            personal_range: this.personalCourseList,\n            ...this.packageData,\n            team_range: newValue\n          })\n        )\n      },\n      deep: true\n    },\n    personalCourseList: {\n      handler: function(newValue, oldValue) {\n        newValue.forEach(item => {\n          this.validatePersonal =\n            !item.personal_times || !item.personal_unit_price\n        })\n        let allSelect = false\n        let allNotSelect = false\n        allSelect = every(newValue, o => o.courseChecked)\n        allNotSelect = every(newValue, o => !o.courseChecked)\n        this.personalIndeterminate = !allSelect && !allNotSelect\n        this.personalCheckAll = newValue.length ? allSelect : false\n        // 计算私教课总计\n        this.personalCourseTotalObject.personal_times = reduce(\n          newValue,\n          (sum, o) => {\n            let personal_times = isNaN(+o.personal_times)\n              ? 0\n              : +o.personal_times\n            return sum + personal_times\n          },\n          0\n        )\n        this.personalCourseTotalObject.total = reduce(\n          newValue,\n          (sum, o) => {\n            let personal_times = isNaN(+o.personal_times)\n              ? 0\n              : +o.personal_times\n            let personal_unit_price = isNaN(+o.personal_unit_price)\n              ? 0\n              : +o.personal_unit_price\n            return sum + (personal_times * (personal_unit_price * 10)) / 10\n          },\n          0\n        )\n        if (this.validatePersonal) {\n          this.$emit('change', {})\n          return\n        }\n        this.$emit(\n          'change',\n          this.getRangeCourse({\n            personal_range: newValue,\n            ...this.packageData,\n            team_range: this.teamCourseList\n          })\n        )\n      },\n      deep: true\n    }\n  },\n  data() {\n    return {\n      isCourseRange: false,\n      validateTeam: false,\n      validatePersonal: false,\n      personalCoachTotalList: {},\n      personalCoachListHistory: [],\n      // 操作栏checkbox是否半选\n      teamIndeterminate: false,\n      // 操作栏checkbox是否半选\n      personalIndeterminate: false,\n      // 操作栏checkbox是全选\n      personalCheckAll: false,\n      // 配置课程表格是否显示\n      teamCourseListIsShow: false,\n      // 配置的课程总计\n      teamCourseTotalObject: {\n        team_times: 0,\n        total: 0\n      },\n      // 备份课程已做的操作\n      teamCourseTotalList: {},\n      // 批量操作的值\n      teamOperationObject: {\n        team_times: undefined,\n        team_unit_price: undefined\n      },\n      // 操作栏选择教练等级的dorpdown是否显示\n      coachAllOperationDropdownIsShow: false,\n      // 操作栏教练等级选择的值\n      personalAllOperationCoachList: [],\n      // 批量操作的值\n      personalOperationObject: {\n        personal_times: undefined,\n        personal_unit_price: undefined\n      },\n      // 配置课程表格是否显示\n      personalCourseListIsShow: false,\n      // 配置的课程总计\n      personalCourseTotalObject: {\n        personal_times: 0,\n        total: 0\n      },\n      personalCourseTotalList: [],\n      // team course\n      teamCourseList: [],\n      // personal course\n      personalCourseList: [],\n      // 课程范围是否未输入过\n      courseIsFirstInput: true,\n      // 操作栏checkbox是全选\n      teamCheckAll: false,\n      packageData: {\n        is_team: false,\n        is_personal: false\n      },\n      validateCourseRange: ''\n    }\n  },\n  modals: {\n    CourseSelectCourse\n  },\n  filters: {\n    // 单课价格统计\n    course_item_total(times, unit_price) {\n      if (+times && +unit_price) {\n        return (+times * (+unit_price * 10)) / 10\n      } else {\n        return 0\n      }\n    }\n  },\n  methods: {\n    // 移除选择的课程\n    removeCourseItems(type) {\n      if (type === 'team') {\n        let arr = cloneDeep(this.teamCourseList)\n        let removeList = remove(arr, o => o.courseChecked)\n        this.teamCourseList = arr\n        // 移除备份\n        let list = cloneDeep(this.teamCourseTotalList)\n        removeList.forEach(i => {\n          delete list[i.course_id]\n        })\n        this.teamCourseTotalList = list\n      } else if (type === 'personal') {\n        let arr = cloneDeep(this.personalCourseList)\n        let removeList = remove(arr, o => o.courseChecked)\n        this.personalCourseList = arr\n        // 移除备份\n        let coachList = cloneDeep(this.personalCourseTotalList)\n        removeList.forEach(i => {\n          delete coachList[i.course_id]\n        })\n        this.personalCourseTotalList = coachList\n      }\n    },\n    getRangeCourse(rangeCourse) {\n      const form = cloneDeep(rangeCourse)\n      if (typeof form.personal_range === 'object') {\n        form.personal_range = form.personal_range.map(item => {\n          return {\n            personal_unit_price: item.personal_unit_price,\n            personal_times: item.personal_times,\n            course_id: item.course_id,\n            coach_level: item.coachGradeList.map(item =>\n              typeof item === 'number' ? item : item.id\n            )\n          }\n        })\n      }\n      if (typeof form.team_range === 'object') {\n        form.team_range = form.team_range.map(item => {\n          return {\n            team_unit_price: item.team_unit_price,\n            team_times: item.team_times,\n            course_id: item.course_id\n          }\n        })\n      }\n      if (!rangeCourse.is_team) {\n        form.team_range = []\n      }\n      if (!rangeCourse.is_personal) {\n        form.personal_range = []\n      }\n      form.is_team = +rangeCourse.is_team\n      form.is_personal = +rangeCourse.is_personal\n      return form\n    },\n    // item coach checkboxGroup changeEvent\n    coachItemChange(e, id, index) {\n      if (!e.length) {\n        this.personalCourseList[\n          index\n        ].coachGradeList = this.personalCoachListHistory[index]\n        return\n      } else {\n        this.personalCoachListHistory[index] = cloneDeep(e)\n      }\n      this.personalCourseTotalList[id] = this.personalCourseTotalList[id]\n        ? this.personalCourseTotalList[id]\n        : {}\n      this.personalCourseTotalList[id].list = cloneDeep(e)\n    },\n    // teamItems input change\n    teamInputChange(e, type, id) {\n      this.teamCourseTotalList[id] = this.teamCourseTotalList[id]\n        ? this.teamCourseTotalList[id]\n        : {}\n      this.teamCourseTotalList[id][type] = e\n    },\n    // 选择课程\n    courseItemCheckedChange(e, type, index) {\n      if (type === 'team') {\n        this.teamCourseList[index].courseChecked = e.target.checked\n      } else if (type === 'personal') {\n        this.personalCourseList[index].courseChecked = e.target.checked\n      }\n    },\n    // personalItems input change\n    personalInputChange(e, type, id) {\n      this.personalCourseTotalList[id] = this.personalCourseTotalList[id]\n        ? this.personalCourseTotalList[id]\n        : {}\n      this.personalCourseTotalList[id][type] = e\n    },\n    // 移除课程\n    removeCourseItem(type, id) {\n      if (type === 'team') {\n        let arr = cloneDeep(this.teamCourseList)\n        remove(arr, o => o.course_id === id)\n        this.teamCourseList = arr\n        // 移除备份\n        let list = cloneDeep(this.teamCourseTotalList)\n        delete list[id]\n        this.teamCourseTotalList = list\n      } else if (type === 'personal') {\n        let arr = cloneDeep(this.personalCourseList)\n        remove(arr, o => o.course_id === id)\n        this.personalCourseList = arr\n        // 移除备份\n        let coachList = cloneDeep(this.personalCourseTotalList)\n        delete coachList[id]\n        this.personalCourseTotalList = coachList\n      }\n    },\n    // 新增团课课程\n    addCourseTeam() {\n      let that = this\n      this.$modalRouter.push({\n        name: 'course-select-course',\n        props: {\n          platform: 'brand',\n          type: 'team',\n          useShopInfo: this.useShopInfo,\n          courses: this.teamCourseList,\n          isLimit: true\n        },\n        on: {\n          ok: data => {\n            data.list.forEach(i => {\n              i.courseChecked = false\n              i.team_times = i.team_times ? +i.team_times : 0\n              i.team_unit_price = i.team_unit_price ? +i.team_unit_price : 0\n            })\n            forEach(this.teamCourseTotalList, (value, key) => {\n              forEach(data.list, innerValue => {\n                if (+innerValue.course_id === +key) {\n                  innerValue.team_times = value.team_times\n                    ? +value.team_times\n                    : 0\n                  innerValue.team_unit_price = value.team_unit_price\n                    ? +value.team_unit_price\n                    : 0\n                }\n              })\n              // 删除teamCourseTotalList里不存在的course_id项\n              if (!data.list.some(o => +o.course_id === +key)) {\n                delete this.teamCourseTotalList[key]\n              }\n            })\n            this.teamCourseList = cloneDeep(data.list)\n          }\n        }\n      })\n    },\n    // 新增私教课\n    addCoursePersonal() {\n      let that = this\n      this.$modalRouter.push({\n        name: 'course-select-course',\n        props: {\n          platform: 'brand',\n          type: 'personal',\n          useShopInfo: this.useShopInfo,\n          courses: this.personalCourseList,\n          isLimit: true\n        },\n        on: {\n          ok(data) {\n            let coachGradeList = []\n            forEach(that.coachList, i => {\n              coachGradeList.push(i.id)\n            })\n            let total = reduce(\n              that.coachList,\n              (sum, o) => sum + o.coach_number,\n              0\n            )\n            data.list.forEach(i => {\n              i.courseChecked = false\n              i.coachGradeList = coachGradeList\n              i.personal_times = i.personal_times ? +i.personal_times : 0\n              i.personal_unit_price = i.personal_unit_price\n                ? +i.personal_unit_price\n                : 0\n            })\n            forEach(that.personalCourseTotalList, (value, key) => {\n              forEach(data.list, innerValue => {\n                if (+innerValue.course_id === +key) {\n                  innerValue.coachGradeList = cloneDeep(\n                    value.list ? value.list : coachGradeList\n                  )\n                  innerValue.personal_times = value.personal_times\n                    ? +value.personal_times\n                    : 0\n                  innerValue.personal_unit_price = value.personal_unit_price\n                    ? +value.personal_unit_price\n                    : 0\n                }\n              })\n              // 删除personalCoachTotalList里不存在的course_id项\n              if (!data.list.some(o => +o.course_id === +key)) {\n                delete that.personalCourseTotalList[key]\n              }\n            })\n            // 缓存选择的教练等级\n            that.personalCoachListHistory = []\n            data.list.forEach(i => {\n              that.personalCoachListHistory.push(i.coachGradeList)\n            })\n            that.personalCourseList = cloneDeep(data.list)\n            that.personalCourseList.forEach(item => {\n              if (item.coachGradeList && item.coachGradeList.length > 0) {\n                item.coachGradeList = item.coachGradeList.map(i => {\n                  return i.id || i\n                })\n              }\n            })\n            console.log(that.personalCourseList)\n          }\n        }\n      })\n    },\n    teamCheckboxChange(event) {\n      this.courseIsFirstInput = false\n      this.teamCourseListIsShow = +event.target.checked\n    },\n    personalCheckboxChange(e) {\n      this.courseIsFirstInput = false\n      this.personalCourseListIsShow = +e.target.checked\n    },\n    // team\n    teamCourseListShow() {\n      this.teamCourseListIsShow = !this.teamCourseListIsShow\n    },\n    // personal\n    personalCourseListShow() {\n      this.personalCourseListIsShow = !this.personalCourseListIsShow\n    },\n    // 全选\n    checkAllChange(type) {\n      if (type === 'team') {\n        this.teamCheckAll = !this.teamCheckAll\n        this.teamCourseList.forEach(i => {\n          i.courseChecked = this.teamCheckAll\n        })\n      } else if (type === 'personal') {\n        this.personalCheckAll = !this.personalCheckAll\n        this.personalCourseList.forEach(i => {\n          i.courseChecked = this.personalCheckAll\n        })\n      }\n    },\n    // 批量操作团课课程包节数\n    timesOperationOk(type) {\n      if (type === 'team') {\n        forEach(this.teamCourseList, o => {\n          if (o.courseChecked) {\n            o.team_times = +this.teamOperationObject.team_times\n            // 备份批量操作的数据\n            this.teamCourseTotalList[o.course_id] = this.teamCourseTotalList[\n              o.course_id\n            ]\n              ? this.teamCourseTotalList[o.course_id]\n              : {}\n            this.teamCourseTotalList[o.course_id].team_times = +this\n              .teamOperationObject.team_times\n          }\n        })\n      } else if (type === 'personal') {\n        forEach(this.personalCourseList, o => {\n          if (o.courseChecked) {\n            o.personal_times = +this.personalOperationObject.personal_times\n            // 备份批量操作的数据\n            let personalCourse = this.personalCourseTotalList[o.course_id]\n              ? this.personalCourseTotalList[o.course_id]\n              : {}\n            let personal_times = +this.personalOperationObject.personal_times\n            this.personalCourseTotalList[o.course_id] = {\n              ...personalCourse,\n              personal_times\n            }\n          }\n        })\n      }\n    },\n    // 批量操作团课课程包价格\n    unitPriceOperationOk(type) {\n      if (type === 'team') {\n        forEach(this.teamCourseList, o => {\n          if (o.courseChecked) {\n            o.team_unit_price = +this.teamOperationObject.team_unit_price\n            // 备份批量操作的数据\n            this.teamCourseTotalList[o.course_id] = this.teamCourseTotalList[\n              o.course_id\n            ]\n              ? this.teamCourseTotalList[o.course_id]\n              : {}\n            this.teamCourseTotalList[o.course_id].team_unit_price = +this\n              .teamOperationObject.team_unit_price\n          }\n        })\n      } else if (type === 'personal') {\n        forEach(this.personalCourseList, o => {\n          if (o.courseChecked) {\n            o.personal_unit_price = +this.personalOperationObject\n              .personal_unit_price\n            // 备份批量操作的数据\n            this.personalCourseTotalList[o.course_id] = this\n              .personalCourseTotalList[o.course_id]\n              ? this.personalCourseTotalList[o.course_id]\n              : {}\n            this.personalCourseTotalList[\n              o.course_id\n            ].personal_unit_price = +this.personalOperationObject\n              .personal_unit_price\n          }\n        })\n      }\n    },\n    coachAllOperationOk() {\n      // 批量设置\n      forEach(this.personalCourseList, value => {\n        if (value.courseChecked) {\n          value.coachGradeList = cloneDeep(this.personalAllOperationCoachList)\n          this.personalCourseTotalList[value.course_id] = this\n            .personalCourseTotalList[value.course_id]\n            ? this.personalCourseTotalList[value.course_id]\n            : {}\n          this.personalCourseTotalList[value.course_id].list = cloneDeep(\n            this.personalAllOperationCoachList\n          )\n        }\n      })\n      // 缓存选择的教练等级\n      this.personalCoachListHistory = []\n      forEach(this.personalCourseList, i => {\n        this.personalCoachListHistory.push(i.coachGradeList)\n      })\n      // 清空\n      this.personalAllOperationCoachList = []\n      // 收起\n      this.coachAllOperationDropdownIsShow = false\n    }\n  },\n  created() {\n    if (isEmpty(this.initInfo)) return ''\n    this.packageData.is_team = this.initInfo.is_team\n    this.packageData.is_personal = this.initInfo.is_personal\n    this.packageData.personal_unit_price = this.initInfo.personal_unit_price\n    this.packageData.team_unit_price = this.initInfo.team_unit_price\n    forEach(this.initInfo.team_range, o => {\n      this.teamCourseList.push({\n        courseChecked: false,\n        ...o\n      })\n      this.teamCourseTotalList[o.course_id] =\n        this.teamCourseTotalList[o.course_id] || {}\n      this.teamCourseTotalList[o.course_id].team_times = o.team_times\n      this.teamCourseTotalList[o.course_id].team_unit_price = o.team_unit_price\n    })\n    forEach(this.initInfo.personal_range, o => {\n      let coachGradeList = []\n      o.coach_level.forEach(i => {\n        coachGradeList.push(i.id)\n      })\n      let selectCoach = filter(this.coachList, i =>\n        coachGradeList.includes(i.id)\n      )\n      let total = reduce(selectCoach, (sum, i) => sum + i.coach_number, 0)\n      this.personalCourseList.push({\n        courseChecked: false,\n        ...o,\n        coachGradeList,\n        coach: total\n      })\n      this.personalCoachTotalList[o.course_id] =\n        this.personalCoachTotalList[o.course_id] || {}\n      this.personalCoachTotalList[o.course_id].list = cloneDeep(o.coach_level)\n      this.personalCoachTotalList[o.course_id].total = total\n      this.personalCoachListHistory.push(\n        cloneDeep(o.coach_level.map(item => item.id))\n      )\n    })\n  },\n  mounted() {\n    this.addFixService.getCoachList().subscribe()\n  }\n}\n",null]}