{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/layouts/default.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/layouts/default.vue","mtime":1594718340310},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport DefaultSiderMenu from './default#/sider-menu.vue'\nimport DefaultNotify from './default#/notify.vue'\nimport SwitchShop from '@/views/fragments/shop/switch'\nimport { find } from 'lodash-es'\nimport { UserService } from '@/services/user.service'\nimport { TokenService } from '@/services/token.service'\nimport { TitleService } from '@/services/title.service'\n\nimport AccountBind from '@/views/biz-modals/account/bind'\nimport AccountUnbind from '@/views/biz-modals/account/unbind'\nimport AccountModify from '@/views/biz-modals/account/modify'\nimport { UdeskService } from '@/services/udesk.service'\nimport StUdeskBtn from '@/views/biz-components/udesk-btn/udesk-btn'\nimport { WsNotifyService } from './default#/ws-notify.service'\nimport Copyright from '@/views/biz-components/copyright/copyright'\n\nexport default {\n  name: 'SaasLayout',\n  components: {\n    DefaultSiderMenu,\n    SwitchShop,\n    DefaultNotify,\n    StUdeskBtn,\n    Copyright\n  },\n  serviceInject() {\n    return {\n      userService: UserService,\n      tokenService: TokenService,\n      titleService: TitleService,\n      udeskService: UdeskService,\n      wsNotifyService: WsNotifyService\n    }\n  },\n  rxState() {\n    const { systemList$, activityList$ } = this.wsNotifyService\n    return {\n      systemList$,\n      activityList$,\n      user: this.userService.user$,\n      brand: this.userService.brand$,\n      shop: this.userService.shop$,\n      theme: this.userService.theme$,\n      title: this.titleService.title$,\n      isThemeStudio: this.userService.isThemeStudio$,\n      isShowUdeskBtn: this.udeskService.isShowUdeskBtn$\n    }\n  },\n  data() {\n    return {\n      isShowSwitchShop: false,\n      systemListLength: 0,\n      menuObj: {},\n      fastEntryComp: null\n    }\n  },\n  modals: {\n    CommonNotifyConfig: () =>\n      import(\n        /* webpackChunkName: \"notify-config\" */ '@/views/biz-modals/common/notify/config'\n      ),\n    CommonNotifyActivity: () =>\n      import(\n        /* webpackChunkName: \"notify-activity\" */ '@/views/biz-modals/common/notify/activity'\n      ),\n    CommonNotifySystem: () =>\n      import(\n        /* webpackChunkName: \"notify-system\" */ '@/views/biz-modals/common/notify/system'\n      ),\n    AccountBind,\n    AccountUnbind,\n    AccountModify\n  },\n  computed: {\n    breadCrumbs() {\n      const menuBreadCrumb = this.getSiderMenuBreadCrumb()\n      const parentBreadCrumb = this.getParentBreadCrumb()\n      return [...menuBreadCrumb, ...parentBreadCrumb]\n    },\n    isInShop() {\n      return this.shop.id\n    },\n    isSchedule() {\n      return this.$route.path.includes('shop/product/course/schedule')\n    },\n    isReception() {\n      return this.$route.path.includes('shop/reception/index')\n    },\n    siderMenuTip() {\n      return this.isThemeStudio ? '工作室版' : '俱乐部版'\n    }\n  },\n  watch: {\n    systemList$(newValue, oldValue) {\n      if (newValue.length === 0) {\n        if (this.activityList$.length > 0) {\n          this.$modalRouter.push({\n            name: 'common-notify-activity',\n            props: { list: this.activityList$ },\n            on: {\n              success: res => {\n                this.wsNotifyService.setRead().subscribe()\n              }\n            }\n          })\n        }\n        return\n      }\n      if (newValue.length === 0) return\n      this.onSuccess()\n    }\n  },\n  methods: {\n    onFastEntryVisible(visible) {\n      if (visible) {\n        import(\n          /* webpackChunkName: \"fast-entry\" */ './default#/fast-entry'\n        ).then(C => {\n          this.fastEntryComp = C.default || C\n        })\n      }\n    },\n    onSuccess() {\n      const len = this.systemList$.length\n      if (this.systemListLength === len) {\n        if (this.activityList$.length > 0) {\n          this.$modalRouter.push({\n            name: 'common-notify-activity',\n            props: { list: this.activityList$ },\n            on: {\n              success: res => {\n                this.wsNotifyService.setRead().subscribe()\n              }\n            }\n          })\n        }\n        return\n      }\n      this.$modalRouter.push({\n        name: 'common-notify-system',\n        props: { info: this.systemList$[this.systemListLength] },\n        on: {\n          // 模态窗动画400ms\n          success: res => {\n            this.systemListLength++\n            setTimeout(() => {\n              this.wsNotifyService.setRead().subscribe()\n              this.onSuccess()\n            }, 400)\n          },\n          cancel: res => {\n            this.systemListLength++\n            setTimeout(() => {\n              this.onSuccess()\n            }, 400)\n          }\n        }\n      })\n    },\n    onClickNotifyConfig() {\n      this.$modalRouter.push({ name: 'common-notify-config' })\n    },\n    switchShop() {\n      this.isShowSwitchShop = !this.isShowSwitchShop\n    },\n    onClickBind() {\n      this.$modalRouter.push({\n        name: 'account-bind'\n      })\n    },\n    onClickUnbind() {\n      this.$modalRouter.push({\n        name: 'account-unbind'\n      })\n    },\n    onClickModifyPass() {\n      this.$modalRouter.push({\n        name: 'account-modify'\n      })\n    },\n    onClickLogout() {\n      this.tokenService.REMOVE_TOKEN()\n      location.href = '/account/login'\n    },\n    getParentBreadCrumb() {\n      const parentRouteName = this.$route.meta.parentRouteName\n      let parentRoute\n      if (parentRouteName) {\n        parentRoute = this.$router.resolve({\n          name: parentRouteName\n        }).resolved\n      }\n      if (parentRoute) {\n        const name = parentRoute.name\n        const title = this.userService.interpolation(parentRoute.meta.title)\n        return [\n          {\n            label: title,\n            route: {\n              name\n            }\n          }\n        ]\n      } else {\n        return []\n      }\n    },\n    getSiderMenuBreadCrumb() {\n      const { selectedKey, currentSiderMenu } = this.menuObj\n      if (selectedKey) {\n        const menuBreadCrumb = []\n        menuBreadCrumb.push({\n          label: currentSiderMenu.name,\n          route: {\n            name: currentSiderMenu.url\n          }\n        })\n        if (selectedKey) {\n          const currentSubMenu = find(currentSiderMenu.children, subMenu => {\n            return subMenu.id === selectedKey\n          })\n          if (currentSubMenu) {\n            menuBreadCrumb.push({\n              label: currentSubMenu.name,\n              route: {\n                name: currentSubMenu.url\n              }\n            })\n          }\n        }\n        return menuBreadCrumb\n      } else {\n        return []\n      }\n    },\n    onSiderMenuChange(menuObj) {\n      this.menuObj = menuObj\n    },\n    onClickSiderMenu() {\n      /**\n       * 切换路由时关闭切换门店 drawer\n       */\n      this.isShowSwitchShop = false\n    }\n  }\n}\n",{"version":3,"sources":["default.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4MA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"default.vue","sourceRoot":"src/views/layouts","sourcesContent":["<template>\n  <div class=\"layout-default\" :class=\"theme\">\n    <aside class=\"layout-default-sider\">\n      <!-- 门店维度下 -->\n      <div class=\"layout-default-sider__shop\" v-if=\"isInShop\">\n        <div class=\"layout-default-sider__shop-top\">\n          <div class=\"layout-default-sider__logo\">\n            <img\n              width=\"100%\"\n              height=\"100%\"\n              :src=\"shop.logo | imgFilter({ w: 128, h: 128 })\"\n              alt=\"logo\"\n            />\n            <!-- <i class=\"layout-default-sider__certification st-icon-certified\"></i> -->\n          </div>\n          <div class=\"layout-default-sider__shop-brand-name\">\n            {{ brand.name }}\n          </div>\n        </div>\n        <div\n          class=\"layout-default-sider__name cursor-pointer\"\n          @click=\"switchShop\"\n        >\n          <span>{{ shop.name }}</span>\n          <st-icon\n            type=\"arrow-arc-right\"\n            class=\"layout-default-sider__arrow\"\n          ></st-icon>\n        </div>\n        <img\n          class=\"layout-default-sider__shop-tag\"\n          src=\"~@/assets/img/brand/tag-shop.png\"\n        />\n      </div>\n      <!-- 品牌维度下 -->\n      <div class=\"layout-default-sider__brand\" v-else>\n        <div class=\"layout-default-sider__logo\">\n          <img\n            width=\"100%\"\n            height=\"100%\"\n            :src=\"brand.logo | imgFilter({ w: 96, h: 96 })\"\n            alt=\"logo\"\n          />\n          <!-- <i class=\"layout-default-sider__certification st-icon-certified\"></i> -->\n        </div>\n        <div\n          class=\"layout-default-sider__name cursor-pointer\"\n          @click=\"switchShop\"\n        >\n          <span>{{ brand.name }}</span>\n          <st-icon\n            type=\"arrow-arc-right\"\n            class=\"layout-default-sider__arrow\"\n          ></st-icon>\n        </div>\n        <img\n          class=\"layout-default-sider__brand-tag\"\n          src=\"~@/assets/img/brand/tag-brand.png\"\n        />\n      </div>\n      <div\n        class=\"layout-default-sider__scrollbox\"\n        v-scrollBar\n        @click=\"onClickSiderMenu\"\n      >\n        <default-sider-menu @change=\"onSiderMenuChange\" />\n        <div class=\"layout-default-sider__version\">\n          <div class=\"layout-default-sider__version-bg\"></div>\n          <label class=\"layout-default-sider__version-text\">\n            {{ siderMenuTip }}\n          </label>\n        </div>\n      </div>\n    </aside>\n    <header\n      class=\"layout-default-body__header\"\n      :class=\"{ 'layout-default-body__header--schedule': isSchedule }\"\n    >\n      <div class=\"layout-default-body__location\">\n        <a-breadcrumb>\n          <img\n            slot=\"separator\"\n            src=\"~@/assets/img/separator.png\"\n            alt=\"separator\"\n            width=\"4px\"\n            class=\"layout-default-body__bread-separator\"\n          />\n          <a-breadcrumb-item class=\"layout-default-body__bread-home\">\n            <router-link to=\"/\">\n              <st-icon type=\"home\" class=\"layout-default-body__icon\" />\n            </router-link>\n          </a-breadcrumb-item>\n          <a-breadcrumb-item v-for=\"b in breadCrumbs\" :key=\"b.label\">\n            <router-link :to=\"b.route\" v-if=\"b.label && b.route.name\">\n              <span class=\"layout-default-body__breadtext\">{{ b.label }}</span>\n            </router-link>\n            <span v-if=\"!b.route.name\" class=\"layout-default-body__breadtext\">\n              {{ b.label }}\n            </span>\n          </a-breadcrumb-item>\n          <a-breadcrumb-item\n            v-if=\"title\"\n            class=\"layout-default-body__breadtext layout-default-body__breadtext--title\"\n          >\n            <span>{{ title }}</span>\n          </a-breadcrumb-item>\n        </a-breadcrumb>\n      </div>\n      <div class=\"layout-default-body__personal\">\n        <!-- 消息通知 -->\n        <default-notify></default-notify>\n        <!-- 九宫格 -->\n        <a-dropdown\n          :trigger=\"['hover']\"\n          placement=\"bottomRight\"\n          @visibleChange=\"onFastEntryVisible\"\n        >\n          <div class=\"layout-default-body__avatar\">\n            <st-icon\n              class=\"layout-fast-entry_icon\"\n              type=\"square\"\n              color=\"#9BACB9\"\n            ></st-icon>\n          </div>\n          <div slot=\"overlay\">\n            <componet :is=\"fastEntryComp\" />\n          </div>\n        </a-dropdown>\n\n        <a-dropdown :trigger=\"['hover']\" placement=\"bottomRight\">\n          <div class=\"layout-default-body__avatar\">\n            <img\n              :src=\"user.avatar | imgFilter({ w: 64, h: 64 })\"\n              width=\"32\"\n              height=\"32\"\n              alt=\"avatar\"\n            />\n          </div>\n          <div slot=\"overlay\" class=\"layout-default-body__dropdown\">\n            <div class=\"layout-default-body__username\">\n              <p class=\"layout-default-body__name\">{{ user.name }}</p>\n              <p class=\"layout-default-body__mobile\">{{ user.mobile }}</p>\n            </div>\n            <a-menu class=\"layout-default-body__menu\">\n              <!-- <a-menu-item class=\"layout-default-body__options\">\n                  <st-icon type=\"safety\"></st-icon>\n                  <span>账号安全</span>\n              </a-menu-item>-->\n              <!-- <a-menu-item class=\"layout-default-body__options\">\n                  <a v-modal-link=\"{ name: 'brand-switch' }\">\n                    <st-icon type=\"switch\"></st-icon>\n                    <span>切换品牌</span>\n                  </a>\n              </a-menu-item>-->\n              <!-- <a-menu-divider/> -->\n              <a-menu-item\n                @click=\"onClickNotifyConfig\"\n                class=\"layout-default-body__options\"\n              >\n                <st-icon type=\"notify-config\" color=\"#000000\"></st-icon>\n                <span>通知设置</span>\n              </a-menu-item>\n              <a-menu-item\n                @click=\"onClickBind\"\n                class=\"layout-default-body__options\"\n              >\n                <st-icon type=\"bind-phone\" size=\"16px\"></st-icon>\n                <span>绑定手机号</span>\n              </a-menu-item>\n              <a-menu-item\n                @click=\"onClickModifyPass\"\n                class=\"layout-default-body__options\"\n              >\n                <st-icon type=\"modify\" size=\"16px\"></st-icon>\n                <span>修改密码</span>\n              </a-menu-item>\n              <a-menu-item\n                @click=\"onClickLogout\"\n                class=\"layout-default-body__options\"\n              >\n                <st-icon type=\"logout\" size=\"16px\"></st-icon>\n                <span>退出</span>\n              </a-menu-item>\n            </a-menu>\n          </div>\n        </a-dropdown>\n      </div>\n    </header>\n    <main class=\"layout-default-body\">\n      <article\n        class=\"layout-default-body__content\"\n        :class=\"{ 'layout-default-body__content--reception': isReception }\"\n      >\n        <router-view></router-view>\n        <div class=\"layout-default-body__footer\">\n          <copyright></copyright>\n        </div>\n      </article>\n    </main>\n    <switch-shop v-model=\"isShowSwitchShop\"></switch-shop>\n    <st-udesk-btn v-show=\"isShowUdeskBtn\" />\n  </div>\n</template>\n<script>\nimport DefaultSiderMenu from './default#/sider-menu.vue'\nimport DefaultNotify from './default#/notify.vue'\nimport SwitchShop from '@/views/fragments/shop/switch'\nimport { find } from 'lodash-es'\nimport { UserService } from '@/services/user.service'\nimport { TokenService } from '@/services/token.service'\nimport { TitleService } from '@/services/title.service'\n\nimport AccountBind from '@/views/biz-modals/account/bind'\nimport AccountUnbind from '@/views/biz-modals/account/unbind'\nimport AccountModify from '@/views/biz-modals/account/modify'\nimport { UdeskService } from '@/services/udesk.service'\nimport StUdeskBtn from '@/views/biz-components/udesk-btn/udesk-btn'\nimport { WsNotifyService } from './default#/ws-notify.service'\nimport Copyright from '@/views/biz-components/copyright/copyright'\n\nexport default {\n  name: 'SaasLayout',\n  components: {\n    DefaultSiderMenu,\n    SwitchShop,\n    DefaultNotify,\n    StUdeskBtn,\n    Copyright\n  },\n  serviceInject() {\n    return {\n      userService: UserService,\n      tokenService: TokenService,\n      titleService: TitleService,\n      udeskService: UdeskService,\n      wsNotifyService: WsNotifyService\n    }\n  },\n  rxState() {\n    const { systemList$, activityList$ } = this.wsNotifyService\n    return {\n      systemList$,\n      activityList$,\n      user: this.userService.user$,\n      brand: this.userService.brand$,\n      shop: this.userService.shop$,\n      theme: this.userService.theme$,\n      title: this.titleService.title$,\n      isThemeStudio: this.userService.isThemeStudio$,\n      isShowUdeskBtn: this.udeskService.isShowUdeskBtn$\n    }\n  },\n  data() {\n    return {\n      isShowSwitchShop: false,\n      systemListLength: 0,\n      menuObj: {},\n      fastEntryComp: null\n    }\n  },\n  modals: {\n    CommonNotifyConfig: () =>\n      import(\n        /* webpackChunkName: \"notify-config\" */ '@/views/biz-modals/common/notify/config'\n      ),\n    CommonNotifyActivity: () =>\n      import(\n        /* webpackChunkName: \"notify-activity\" */ '@/views/biz-modals/common/notify/activity'\n      ),\n    CommonNotifySystem: () =>\n      import(\n        /* webpackChunkName: \"notify-system\" */ '@/views/biz-modals/common/notify/system'\n      ),\n    AccountBind,\n    AccountUnbind,\n    AccountModify\n  },\n  computed: {\n    breadCrumbs() {\n      const menuBreadCrumb = this.getSiderMenuBreadCrumb()\n      const parentBreadCrumb = this.getParentBreadCrumb()\n      return [...menuBreadCrumb, ...parentBreadCrumb]\n    },\n    isInShop() {\n      return this.shop.id\n    },\n    isSchedule() {\n      return this.$route.path.includes('shop/product/course/schedule')\n    },\n    isReception() {\n      return this.$route.path.includes('shop/reception/index')\n    },\n    siderMenuTip() {\n      return this.isThemeStudio ? '工作室版' : '俱乐部版'\n    }\n  },\n  watch: {\n    systemList$(newValue, oldValue) {\n      if (newValue.length === 0) {\n        if (this.activityList$.length > 0) {\n          this.$modalRouter.push({\n            name: 'common-notify-activity',\n            props: { list: this.activityList$ },\n            on: {\n              success: res => {\n                this.wsNotifyService.setRead().subscribe()\n              }\n            }\n          })\n        }\n        return\n      }\n      if (newValue.length === 0) return\n      this.onSuccess()\n    }\n  },\n  methods: {\n    onFastEntryVisible(visible) {\n      if (visible) {\n        import(\n          /* webpackChunkName: \"fast-entry\" */ './default#/fast-entry'\n        ).then(C => {\n          this.fastEntryComp = C.default || C\n        })\n      }\n    },\n    onSuccess() {\n      const len = this.systemList$.length\n      if (this.systemListLength === len) {\n        if (this.activityList$.length > 0) {\n          this.$modalRouter.push({\n            name: 'common-notify-activity',\n            props: { list: this.activityList$ },\n            on: {\n              success: res => {\n                this.wsNotifyService.setRead().subscribe()\n              }\n            }\n          })\n        }\n        return\n      }\n      this.$modalRouter.push({\n        name: 'common-notify-system',\n        props: { info: this.systemList$[this.systemListLength] },\n        on: {\n          // 模态窗动画400ms\n          success: res => {\n            this.systemListLength++\n            setTimeout(() => {\n              this.wsNotifyService.setRead().subscribe()\n              this.onSuccess()\n            }, 400)\n          },\n          cancel: res => {\n            this.systemListLength++\n            setTimeout(() => {\n              this.onSuccess()\n            }, 400)\n          }\n        }\n      })\n    },\n    onClickNotifyConfig() {\n      this.$modalRouter.push({ name: 'common-notify-config' })\n    },\n    switchShop() {\n      this.isShowSwitchShop = !this.isShowSwitchShop\n    },\n    onClickBind() {\n      this.$modalRouter.push({\n        name: 'account-bind'\n      })\n    },\n    onClickUnbind() {\n      this.$modalRouter.push({\n        name: 'account-unbind'\n      })\n    },\n    onClickModifyPass() {\n      this.$modalRouter.push({\n        name: 'account-modify'\n      })\n    },\n    onClickLogout() {\n      this.tokenService.REMOVE_TOKEN()\n      location.href = '/account/login'\n    },\n    getParentBreadCrumb() {\n      const parentRouteName = this.$route.meta.parentRouteName\n      let parentRoute\n      if (parentRouteName) {\n        parentRoute = this.$router.resolve({\n          name: parentRouteName\n        }).resolved\n      }\n      if (parentRoute) {\n        const name = parentRoute.name\n        const title = this.userService.interpolation(parentRoute.meta.title)\n        return [\n          {\n            label: title,\n            route: {\n              name\n            }\n          }\n        ]\n      } else {\n        return []\n      }\n    },\n    getSiderMenuBreadCrumb() {\n      const { selectedKey, currentSiderMenu } = this.menuObj\n      if (selectedKey) {\n        const menuBreadCrumb = []\n        menuBreadCrumb.push({\n          label: currentSiderMenu.name,\n          route: {\n            name: currentSiderMenu.url\n          }\n        })\n        if (selectedKey) {\n          const currentSubMenu = find(currentSiderMenu.children, subMenu => {\n            return subMenu.id === selectedKey\n          })\n          if (currentSubMenu) {\n            menuBreadCrumb.push({\n              label: currentSubMenu.name,\n              route: {\n                name: currentSubMenu.url\n              }\n            })\n          }\n        }\n        return menuBreadCrumb\n      } else {\n        return []\n      }\n    },\n    onSiderMenuChange(menuObj) {\n      this.menuObj = menuObj\n    },\n    onClickSiderMenu() {\n      /**\n       * 切换路由时关闭切换门店 drawer\n       */\n      this.isShowSwitchShop = false\n    }\n  }\n}\n</script>\n"]}]}