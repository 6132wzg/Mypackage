{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/pages/shop/member/info/user-experience.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/pages/shop/member/info/user-experience.vue","mtime":1597396799984},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport G2 from '@antv/g2'\nimport { UserExperienceService } from './user-experience.service'\nimport ShopAddLateralRecording from '@/views/biz-modals/shop/add-lateral-recording'\nconst defaultOptions = {\n  /**\n   * 指定图表的高度，单位为 'px\n   */\n  height: 300,\n  /**\n   * 设置图表的内边距\n   */\n  padding: 'auto',\n  fieldNames: {\n    x: 'test_time',\n    y: 'value'\n  },\n  lineColor: '#258EF9',\n  lineWidth: 2,\n  /**\n   * 使用渐变色，l 后面传入角度，0 代表起始颜色，1 代表结束颜色\n   */\n  areaColor: 'l(90) 0:rgba(63, 102, 246, .2) 1:rgba(0, 202, 255, 0)'\n}\nexport default {\n  modals: {\n    ShopAddLateralRecording\n  },\n  serviceInject() {\n    return {\n      aService: UserExperienceService\n    }\n  },\n  rxState() {\n    return {\n      physicalListInfo: this.aService.physicalListInfo$,\n      followInfo: this.aService.followInfo$,\n      auth: this.aService.auth$\n    }\n  },\n\n  data() {\n    return {\n      tcData: 'weight',\n      pageData: {\n        pageSizeOptions: ['10', '20', '30', '40', '50'],\n        current: 1,\n        pageSize: 20,\n        total: 0\n      },\n      tableTitle: [\n        { title: '体测时间', width: '13%' },\n        { title: '身高', width: '10%' },\n        { title: '体重', width: '10%' },\n        { title: '体脂率', width: '10%' },\n        { title: '基础代谢值', width: '10%' },\n        { title: '脂肪含量', width: '10%' },\n        { title: '骨骼肌含量', width: '10%' },\n        { title: '胸围', width: '10%' },\n        { title: '腰围', width: '10%' },\n        { title: '臀围', width: '10%' }\n      ],\n      g2: [],\n      options: {}\n    }\n  },\n  created() {\n    this.g2 = this.followInfo.weight\n    this.pageData.current = this.physicalListInfo.page.current_page\n    this.pageData.pageSize = this.physicalListInfo.page.size\n    this.pageData.total = this.physicalListInfo.page.total_counts\n  },\n  mounted() {},\n  methods: {\n    tcDataFunc(value) {\n      this.g2 = this.followInfo[value]\n    },\n    onPageChange(value) {\n      console.log(value)\n      let self = this\n      this.pageData.current = value.current\n      this.pageData.pageSize = value.pageSize\n      this.aService\n        .getMemberSideRecord(self.$searchQuery.id, {\n          size: this.pageData.pageSize,\n          page: this.pageData.current\n        })\n        .subscribe()\n    },\n    onModalTest() {\n      let self = this\n      this.aService\n        .getMemberSideRecord(self.$searchQuery.id, {\n          size: this.pageData.pageSize,\n          page: this.pageData.current\n        })\n        .subscribe()\n    },\n    echarts(data) {\n      const opts = Object.assign(defaultOptions, this.options)\n      const { x, y } = opts.fieldNames\n      G2.track(false) // 关闭打点监控\n      const chart = new G2.Chart({\n        container: 'mountNode',\n        forceFit: true,\n        ...opts\n      })\n      chart.source(data)\n      chart.scale({\n        [x]: {\n          range: [0, 1]\n        }\n      })\n      chart.axis(x, {\n        label: {\n          textStyle: {\n            fill: '#9BACB9'\n          },\n          tickLine: null\n        },\n        tickLine: {\n          alignWithLabel: false,\n          length: 0\n        }\n      })\n      chart.axis(y, {\n        label: {\n          formatter: function formatter(val) {\n            return (val / 10000).toFixed(1) + 'kg'\n          },\n          textStyle: {\n            fill: '#9BACB9'\n          }\n        },\n        grid: {\n          type: 'line',\n          lineStyle: {\n            stroke: '#E6E9EF', // 网格线的颜色\n            lineWidth: 1, // 网格线的粗细\n            lineDash: [0, 0] // 网格线的虚线配置，第一个参数描述虚线的实部占多少像素，第二个参数描述虚线的虚部占多少像素\n          }\n        }\n      })\n      chart.tooltip({\n        crosshairs: {\n          type: 'line'\n        },\n        showTitle: false,\n        useHtml: true,\n        htmlContent: function htmlContent(title, items) {\n          console.log(items)\n          return `<div class=\"custom-tooltip\">${(\n            items[0].value / 10000\n          ).toFixed(1)}kg</div>`\n        }\n      })\n      chart\n        .area()\n        .position([x, y])\n        .color(opts.areaColor)\n        .shape('smooth')\n      chart\n        .line()\n        .position([x, y])\n        .color(opts.lineColor)\n        .size(opts.lineWidth)\n        .shape('smooth')\n      chart.render()\n      chart.clear()\n      chart.source(data)\n      chart\n        .area()\n        .position([x, y])\n        .color(opts.areaColor)\n        .shape('smooth')\n      chart\n        .line()\n        .position([x, y])\n        .color(opts.lineColor)\n        .size(opts.lineWidth)\n        .shape('smooth')\n      chart.render()\n    }\n  }\n}\n",{"version":3,"sources":["user-experience.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"user-experience.vue","sourceRoot":"src/views/pages/shop/member/info","sourcesContent":["<template>\n  <div class=\"member-info-user-experience\">\n    <st-t4>体测数据</st-t4>\n    <a-row :gutter=\"24\" class=\"mg-t16\">\n      <a-col :lg=\"24\">\n        <a-radio-group\n          v-model=\"tcData\"\n          @change=\"tcDataFunc(tcData)\"\n          style=\"position: absolute;right: 20px;top: -30px;\"\n        >\n          <a-radio-button value=\"weight\">体重</a-radio-button>\n          <a-radio-button value=\"body_fat_rate\">体脂率</a-radio-button>\n          <a-radio-button value=\"basal_metabolism\">基础代谢率</a-radio-button>\n        </a-radio-group>\n        <div id=\"mountNode\"></div>\n        <st-area-chart id=\"mountNode\" :data=\"g2\" />\n      </a-col>\n    </a-row>\n    <a-row :gutter=\"8\">\n      <a-col :lg=\"24\">\n        <st-hr></st-hr>\n      </a-col>\n    </a-row>\n    <st-t4>体测记录</st-t4>\n    <a-row :gutter=\"24\" class=\"mg-t16\">\n      <a-col :lg=\"24\">\n        <st-form-table\n          hoverable\n          :page=\"physicalListInfo.page\"\n          @change=\"onPageChange\"\n        >\n          <thead>\n            <tr>\n              <th\n                v-for=\"(item, index) in tableTitle\"\n                :key=\"index\"\n                :style=\"{ width: item.width }\"\n              >\n                {{ item.title }}\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td :colspan=\"tableTitle.length\">\n                <a\n                  v-modal-link=\"{\n                    name: 'shop-add-lateral-recording',\n                    on: { done: onModalTest }\n                  }\"\n                >\n                  <st-button class=\"editable-add-btn\" type=\"dashed\" icon=\"add\">\n                    新增体侧记录\n                  </st-button>\n                </a>\n              </td>\n            </tr>\n            <tr\n              v-for=\"(item, index) in physicalListInfo.physical_list\"\n              :key=\"index\"\n            >\n              <td>{{ item.test_time }}</td>\n              <td>{{ item.height }}</td>\n              <td>{{ item.weight }}</td>\n              <td>{{ item.body_fat_rate }}</td>\n              <td>{{ item.basal_metabolism }}</td>\n              <td>{{ item.fat_content }}</td>\n              <td>{{ item.skeletal_muscle_content }}</td>\n              <td>{{ item.bust }}</td>\n              <td>{{ item.waistline }}</td>\n              <td>{{ item.hipline }}</td>\n            </tr>\n          </tbody>\n        </st-form-table>\n      </a-col>\n    </a-row>\n  </div>\n</template>\n<script>\nimport G2 from '@antv/g2'\nimport { UserExperienceService } from './user-experience.service'\nimport ShopAddLateralRecording from '@/views/biz-modals/shop/add-lateral-recording'\nconst defaultOptions = {\n  /**\n   * 指定图表的高度，单位为 'px\n   */\n  height: 300,\n  /**\n   * 设置图表的内边距\n   */\n  padding: 'auto',\n  fieldNames: {\n    x: 'test_time',\n    y: 'value'\n  },\n  lineColor: '#258EF9',\n  lineWidth: 2,\n  /**\n   * 使用渐变色，l 后面传入角度，0 代表起始颜色，1 代表结束颜色\n   */\n  areaColor: 'l(90) 0:rgba(63, 102, 246, .2) 1:rgba(0, 202, 255, 0)'\n}\nexport default {\n  modals: {\n    ShopAddLateralRecording\n  },\n  serviceInject() {\n    return {\n      aService: UserExperienceService\n    }\n  },\n  rxState() {\n    return {\n      physicalListInfo: this.aService.physicalListInfo$,\n      followInfo: this.aService.followInfo$,\n      auth: this.aService.auth$\n    }\n  },\n\n  data() {\n    return {\n      tcData: 'weight',\n      pageData: {\n        pageSizeOptions: ['10', '20', '30', '40', '50'],\n        current: 1,\n        pageSize: 20,\n        total: 0\n      },\n      tableTitle: [\n        { title: '体测时间', width: '13%' },\n        { title: '身高', width: '10%' },\n        { title: '体重', width: '10%' },\n        { title: '体脂率', width: '10%' },\n        { title: '基础代谢值', width: '10%' },\n        { title: '脂肪含量', width: '10%' },\n        { title: '骨骼肌含量', width: '10%' },\n        { title: '胸围', width: '10%' },\n        { title: '腰围', width: '10%' },\n        { title: '臀围', width: '10%' }\n      ],\n      g2: [],\n      options: {}\n    }\n  },\n  created() {\n    this.g2 = this.followInfo.weight\n    this.pageData.current = this.physicalListInfo.page.current_page\n    this.pageData.pageSize = this.physicalListInfo.page.size\n    this.pageData.total = this.physicalListInfo.page.total_counts\n  },\n  mounted() {},\n  methods: {\n    tcDataFunc(value) {\n      this.g2 = this.followInfo[value]\n    },\n    onPageChange(value) {\n      console.log(value)\n      let self = this\n      this.pageData.current = value.current\n      this.pageData.pageSize = value.pageSize\n      this.aService\n        .getMemberSideRecord(self.$searchQuery.id, {\n          size: this.pageData.pageSize,\n          page: this.pageData.current\n        })\n        .subscribe()\n    },\n    onModalTest() {\n      let self = this\n      this.aService\n        .getMemberSideRecord(self.$searchQuery.id, {\n          size: this.pageData.pageSize,\n          page: this.pageData.current\n        })\n        .subscribe()\n    },\n    echarts(data) {\n      const opts = Object.assign(defaultOptions, this.options)\n      const { x, y } = opts.fieldNames\n      G2.track(false) // 关闭打点监控\n      const chart = new G2.Chart({\n        container: 'mountNode',\n        forceFit: true,\n        ...opts\n      })\n      chart.source(data)\n      chart.scale({\n        [x]: {\n          range: [0, 1]\n        }\n      })\n      chart.axis(x, {\n        label: {\n          textStyle: {\n            fill: '#9BACB9'\n          },\n          tickLine: null\n        },\n        tickLine: {\n          alignWithLabel: false,\n          length: 0\n        }\n      })\n      chart.axis(y, {\n        label: {\n          formatter: function formatter(val) {\n            return (val / 10000).toFixed(1) + 'kg'\n          },\n          textStyle: {\n            fill: '#9BACB9'\n          }\n        },\n        grid: {\n          type: 'line',\n          lineStyle: {\n            stroke: '#E6E9EF', // 网格线的颜色\n            lineWidth: 1, // 网格线的粗细\n            lineDash: [0, 0] // 网格线的虚线配置，第一个参数描述虚线的实部占多少像素，第二个参数描述虚线的虚部占多少像素\n          }\n        }\n      })\n      chart.tooltip({\n        crosshairs: {\n          type: 'line'\n        },\n        showTitle: false,\n        useHtml: true,\n        htmlContent: function htmlContent(title, items) {\n          console.log(items)\n          return `<div class=\"custom-tooltip\">${(\n            items[0].value / 10000\n          ).toFixed(1)}kg</div>`\n        }\n      })\n      chart\n        .area()\n        .position([x, y])\n        .color(opts.areaColor)\n        .shape('smooth')\n      chart\n        .line()\n        .position([x, y])\n        .color(opts.lineColor)\n        .size(opts.lineWidth)\n        .shape('smooth')\n      chart.render()\n      chart.clear()\n      chart.source(data)\n      chart\n        .area()\n        .position([x, y])\n        .color(opts.areaColor)\n        .shape('smooth')\n      chart\n        .line()\n        .position([x, y])\n        .color(opts.lineColor)\n        .size(opts.lineWidth)\n        .shape('smooth')\n      chart.render()\n    }\n  }\n}\n</script>\n"]}]}