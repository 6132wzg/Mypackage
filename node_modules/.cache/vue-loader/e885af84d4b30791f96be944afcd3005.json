{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/pages/shop/sold/transaction/store.vue?vue&type=template&id=fafe2ab2&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/pages/shop/sold/transaction/store.vue","mtime":1597396800005},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":1591062572376},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('st-panel',{class:_vm.basic(),attrs:{\"loading\":_vm.loading.getStoreProductList}},[_c('st-mina-panel',{attrs:{\"app\":\"\"}},[_c('div',{class:_vm.basic('footer'),attrs:{\"slot\":\"actions\"},slot:\"actions\"},[_c('div',{class:_vm.basic('footer-page')},[_c('st-pagination',{staticClass:\"mg-t8\",attrs:{\"page\":_vm.productPage},on:{\"change\":_vm.onChange}})],1),_c('div',{class:_vm.basic('footer-action')},[_c('div',{staticClass:\"price\"},[_c('span',[_vm._v(\"共\"+_vm._s(_vm.buyCar.length)+\"件商品 合计：\")]),_c('span',{staticClass:\"money font-number\"},[_vm._v(\"¥ \"+_vm._s(_vm.currentPrice))])]),_c('div',{staticClass:\"button\"},[_c('st-button',{attrs:{\"loading\":_vm.loading.createOrder},on:{\"click\":_vm.onCreateOrder}},[_vm._v(\"\\n            创建订单\\n          \")]),_c('st-button',{staticClass:\"mg-l16\",attrs:{\"type\":\"primary\",\"loading\":_vm.loading.createOrderPay},on:{\"click\":function($event){return _vm.onPayOrder(null)}}},[_vm._v(\"\\n            立即支付\\n          \")])],1)])]),_c('div',{class:_vm.basic('list')},[_c('div',{class:_vm.basic('head')},[_c('p',{class:_vm.basic('title')},[_vm._v(\"查看商品\")]),_c('st-input-search',{class:_vm.basic('search'),staticStyle:{\"width\":\"291px\"},attrs:{\"placeholder\":\"请输入商品名查找\"},on:{\"search\":function($event){return _vm.onKeywordsSearch('product_name', $event)}},model:{value:(_vm.$searchQuery.product_name),callback:function ($$v) {_vm.$set(_vm.$searchQuery, \"product_name\", $$v)},expression:\"$searchQuery.product_name\"}})],1),(_vm.storeProductList.length)?_c('ul',{class:_vm.basic('product')},_vm._l((_vm.storeProductList),function(item,index){return _c('li',{key:index},[(item.isError)?_c('img',{class:_vm.basic('product-img'),attrs:{\"src\":_vm.defaultImg,\"alt\":\"\"}}):_c('img',{class:_vm.basic('product-img'),attrs:{\"src\":_vm._f(\"imgFilter\")(item.img,{ w: 194, h: 172 }),\"alt\":\"\"},on:{\"error\":function($event){return _vm.productImg(index)}}}),_c('div',{class:_vm.basic('product-name')},[_c('span',[_vm._v(_vm._s(item.product_name))])]),_c('div',{class:_vm.basic('product-price')},[_c('span',{staticClass:\"font-number\"},[_vm._v(\"\\n              \"+_vm._s(item.price)+\"\\n            \")]),_c('span',[_vm._v(\"库存:\"+_vm._s(item.count)+\"件\")])]),_c('div',{staticClass:\"product-mask\",on:{\"click\":function($event){return _vm.onSku(item.id)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/img/icon-buy-car.png\"),\"alt\":\"\"}}),_c('p',[_vm._v(\"新增至购物车\")])])])}),0):_c('st-no-data')],1),_c('div',{class:_vm.basic('buycar')},[_c('p',{staticClass:\"title\"},[_vm._v(\"购物车\")]),_c('div',[_c('st-form',{attrs:{\"form\":_vm.form,\"labelWidth\":\"66px\"}},[_c('st-form-item',{class:_vm.basic('padding')},[_c('st-table',{class:_vm.basic('table'),attrs:{\"rowKey\":\"sku_id\",\"pagination\":false,\"columns\":_vm.columns,\"scroll\":{ y: 320 },\"dataSource\":_vm.buyCar},scopedSlots:_vm._u([{key:\"product_name\",fn:function(customRender, record){return [_c('div',[_vm._v(\"\\n                  \"+_vm._s(record.product_name)+\"\\n                  \"),(record.rule_name)?_c('span',[_vm._v(\"\\n                    (\"+_vm._s(record.rule_name)+\")\\n                  \")]):_vm._e()])]}},{key:\"stock_amount\",fn:function(customRender, record){return [_c('a-input-number',{attrs:{\"min\":1,\"max\":record.stock_amount},on:{\"change\":_vm.onSelectProductChange},model:{value:(record.nums),callback:function ($$v) {_vm.$set(record, \"nums\", $$v)},expression:\"record.nums\"}})]}},{key:\"priceSum\",fn:function(customRender, record){return [_vm._v(\"\\n                \"+_vm._s((record.nums * record.unit_price).toFixed(1))+\"\\n              \")]}},{key:\"action\",fn:function(customRender, record, index){return [_c('st-table-actions',{attrs:{\"sytle\":\"width: 120px\"}},[_c('a',{on:{\"click\":function($event){return _vm.onDelBuyCar(index)}}},[_vm._v(\"\\n                    删除\\n                  \")])])]}}])}),(_vm.buyCar.length)?_c('div',{staticClass:\"font-number\",class:_vm.basic('all-price')},[_vm._v(\"\\n              总额：¥ \"+_vm._s(_vm.actualAmount)+\"\\n            \")]):_vm._e()],1),_c('st-form-item',{class:_vm.basic('padding')},[_c('div',{staticClass:\"divider-line\"})]),_c('st-form-item',{attrs:{\"label\":\"购买会员\",\"required\":\"\"}},[_c('a-select',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(_vm.decorators.memberId),expression:\"decorators.memberId\"}],attrs:{\"showSearch\":\"\",\"allowClear\":\"\",\"placeholder\":\"输入手机号或会员名搜索\",\"defaultActiveFirstOption\":false,\"showArrow\":false,\"filterOption\":false},on:{\"search\":_vm.onMemberSearch,\"change\":_vm.onMemberChange,\"blur\":_vm.onMemberBlur}},[(!_vm.memberList.length && _vm.memberSearchText !== '')?_c('template',{slot:\"notFoundContent\"},[_c('div',[_vm._v(\"\\n                  暂无此会员，\\n                  \"),_c('span',{class:_vm.basic('add-member'),on:{\"click\":_vm.addMember}},[_vm._v(\"\\n                    新增新会员？\\n                  \")])])]):_vm._e(),_vm._l((_vm.memberList),function(item,index){return _c('a-select-option',{key:index,attrs:{\"value\":item.id}},[_c('span',{domProps:{\"innerHTML\":_vm._s(\n                    ((item.member_name) + \" \" + (item.mobile)).replace(\n                      new RegExp(_vm.memberSearchText, 'g'),\n                      (\"<span class='global-highlight-color'>\" + _vm.memberSearchText + \"</span>\")\n                    )\n                  )}},[_vm._v(\"\\n                  \"+_vm._s(item.member_name)+\" \"+_vm._s(item.mobile)+\"\\n                \")])])})],2)],1),_c('st-form-item',{class:_vm.basic('discounts'),attrs:{\"label\":\"优惠券\"}},[_c('div',[_c('div',{class:_vm.basic('discounts-total')},[_c('span',[_vm._v(_vm._s(_vm.couponText))]),_c('a-dropdown',{class:_vm.basic({ disabled: _vm.couponList.length === 0 }),attrs:{\"disabled\":_vm.couponList.length === 0,\"placement\":\"bottomRight\",\"getPopupContainer\":function (trigger) { return trigger.parentNode; },\"trigger\":['click']},model:{value:(_vm.couponDropdownVisible),callback:function ($$v) {_vm.couponDropdownVisible=$$v},expression:\"couponDropdownVisible\"}},[_c('div',{class:_vm.basic('discounts-promotion')},[_c('span',[_vm._v(_vm._s(_vm.couponList.length)+\"张可用优惠券\")]),_c('a-icon',{attrs:{\"type\":\"right\"}})],1),_c('a-radio-group',{class:_vm.basic('dropdown'),attrs:{\"slot\":\"overlay\"},on:{\"change\":_vm.onSelectCouponChange},slot:\"overlay\",model:{value:(_vm.selectCoupon),callback:function ($$v) {_vm.selectCoupon=$$v},expression:\"selectCoupon\"}},[_c('a-menu',_vm._l((_vm.couponList),function(item,index){return _c('a-menu-item',{key:index,on:{\"click\":_vm.onSelectCoupon}},[_c('a-radio',{attrs:{\"value\":item}},[_vm._v(\"\\n                          \"+_vm._s(item.name)+_vm._s(item.price)+\"\\n                        \")])],1)}),1)],1)],1)],1)])]),_c('st-form-item',{attrs:{\"label\":\"减免\"}},[_c('st-input-number',{attrs:{\"float\":true,\"maxlength\":\"12\",\"placeholder\":\"请输入减免金额\"},on:{\"input\":function($event){return _vm.getPrice(0)}},model:{value:(_vm.reducePrice),callback:function ($$v) {_vm.reducePrice=$$v},expression:\"reducePrice\"}},[_c('span',{attrs:{\"slot\":\"addonAfter\"},slot:\"addonAfter\"},[_vm._v(\"元\")])])],1),_c('st-form-item',{attrs:{\"label\":\"销售\"}},[_c('a-select',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(_vm.decorators.saleName),expression:\"decorators.saleName\"}],attrs:{\"placeholder\":\"请选择销售名字\"}},_vm._l((_vm.saleList),function(item,index){return _c('a-select-option',{key:index,attrs:{\"value\":item.id}},[_vm._v(\"\\n                \"+_vm._s(item.staff_name)+\"\\n              \")])}),1)],1),_c('st-form-item',{attrs:{\"label\":\"备注\"}},[_c('a-textarea',{staticClass:\"st-textarea\",attrs:{\"maxlength\":\"200\",\"placeholder\":\"请填写备注\"},model:{value:(_vm.description),callback:function ($$v) {_vm.description=$$v},expression:\"description\"}})],1)],1)],1)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"]}