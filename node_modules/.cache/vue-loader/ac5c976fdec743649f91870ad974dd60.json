{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/product/package/add-fix-package.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/product/package/add-fix-package.vue","mtime":1597396799963},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport BizForm from './component#/form'\nimport AddCourseFixTable from './component#/add-course-fix-table'\nimport { AddFixPackageService } from './add-fix-package.service'\nimport { isEmpty } from 'lodash-es'\n\nexport default {\n  name: 'AddFixPackage',\n  components: {\n    BizForm,\n    AddCourseFixTable\n  },\n  serviceInject() {\n    return {\n      service: AddFixPackageService\n    }\n  },\n  watch: {\n    rangeCourse: {\n      handler: function(newValue) {\n        this.getValidateCourseRange()\n      },\n      deep: true\n    }\n  },\n  data() {\n    return {\n      rangeCourse: {},\n      useShopInfo: {},\n      isRestCourseRange: true,\n      isCourseRange: true,\n      styleDanger: '',\n      validateCourseRange: ''\n    }\n  },\n  methods: {\n    onRestUseShop() {\n      this.isRestCourseRange = false\n      let timer = setTimeout(() => {\n        this.isRestCourseRange = true\n        clearTimeout(timer)\n      })\n    },\n    onUseShop(useShopInfo) {\n      this.useShopInfo = useShopInfo\n    },\n    onCourseRange(rangeCourse) {\n      this.rangeCourse = { ...rangeCourse }\n    },\n    getValidateCourseRange() {\n      if (isEmpty(this.rangeCourse)) {\n        this.isCourseRange = false\n        this.validateCourseRange = '请新增课程'\n        this.styleDanger = 'border: 1px solid red'\n        return true\n      } else {\n        this.isCourseRange = true\n        this.styleDanger = ''\n        this.validateCourseRange = ''\n      }\n    },\n    onSubmit(form) {\n      if (this.getValidateCourseRange()) return\n      this.service.add({ ...this.rangeCourse, ...form }).subscribe(res => {\n        this.$router.push({\n          name: 'brand-product-package-list'\n        })\n      })\n    },\n    onSaveAndUp(form) {\n      if (this.getValidateCourseRange()) return\n      this.service.addAndUp({ ...this.rangeCourse, ...form }).subscribe(res => {\n        this.$router.push({\n          name: 'brand-product-package-list'\n        })\n      })\n    }\n  }\n}\n",{"version":3,"sources":["add-fix-package.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"add-fix-package.vue","sourceRoot":"src/views/pages/brand/product/package","sourcesContent":["<template>\n  <biz-form\n    @submit-form=\"onSubmit\"\n    @use-shop=\"onUseShop\"\n    @rest-use-shop=\"onRestUseShop\"\n    @up=\"onSaveAndUp\"\n  >\n    <template slot=\"courseRange\">\n      <div :style=\"styleDanger\">\n        <add-course-fix-table\n          v-if=\"isRestCourseRange\"\n          :useShopInfo=\"useShopInfo\"\n          @change=\"onCourseRange\"\n        ></add-course-fix-table>\n        <span v-if=\"!isCourseRange\" style=\"color: red;font-size: 12px\">\n          {{ validateCourseRange }}\n        </span>\n      </div>\n    </template>\n  </biz-form>\n</template>\n\n<script>\nimport BizForm from './component#/form'\nimport AddCourseFixTable from './component#/add-course-fix-table'\nimport { AddFixPackageService } from './add-fix-package.service'\nimport { isEmpty } from 'lodash-es'\n\nexport default {\n  name: 'AddFixPackage',\n  components: {\n    BizForm,\n    AddCourseFixTable\n  },\n  serviceInject() {\n    return {\n      service: AddFixPackageService\n    }\n  },\n  watch: {\n    rangeCourse: {\n      handler: function(newValue) {\n        this.getValidateCourseRange()\n      },\n      deep: true\n    }\n  },\n  data() {\n    return {\n      rangeCourse: {},\n      useShopInfo: {},\n      isRestCourseRange: true,\n      isCourseRange: true,\n      styleDanger: '',\n      validateCourseRange: ''\n    }\n  },\n  methods: {\n    onRestUseShop() {\n      this.isRestCourseRange = false\n      let timer = setTimeout(() => {\n        this.isRestCourseRange = true\n        clearTimeout(timer)\n      })\n    },\n    onUseShop(useShopInfo) {\n      this.useShopInfo = useShopInfo\n    },\n    onCourseRange(rangeCourse) {\n      this.rangeCourse = { ...rangeCourse }\n    },\n    getValidateCourseRange() {\n      if (isEmpty(this.rangeCourse)) {\n        this.isCourseRange = false\n        this.validateCourseRange = '请新增课程'\n        this.styleDanger = 'border: 1px solid red'\n        return true\n      } else {\n        this.isCourseRange = true\n        this.styleDanger = ''\n        this.validateCourseRange = ''\n      }\n    },\n    onSubmit(form) {\n      if (this.getValidateCourseRange()) return\n      this.service.add({ ...this.rangeCourse, ...form }).subscribe(res => {\n        this.$router.push({\n          name: 'brand-product-package-list'\n        })\n      })\n    },\n    onSaveAndUp(form) {\n      if (this.getValidateCourseRange()) return\n      this.service.addAndUp({ ...this.rangeCourse, ...form }).subscribe(res => {\n        this.$router.push({\n          name: 'brand-product-package-list'\n        })\n      })\n    }\n  }\n}\n</script>\n"]}]}