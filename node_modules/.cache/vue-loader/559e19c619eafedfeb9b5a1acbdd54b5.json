{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/setting/shop/list.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/setting/shop/list.vue","mtime":1597396799972},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { ListService } from './list.service'\nimport { columns } from './list.config.ts'\nimport { dateFilter } from '@/filters/date.filters'\nimport tableMixin from '@/mixins/table.mixin'\nimport { AppConfig } from '@/constants/config'\nimport BrandSettingShopHoliday from '@/views/biz-modals/brand/setting/shop/holiday'\nimport BrandSettingShopStatus from '@/views/biz-modals/brand/setting/shop/status'\nexport default {\n  mixins: [tableMixin],\n  name: 'PageBrandSettingShopList',\n  serviceInject() {\n    return {\n      appConfig: AppConfig,\n      listService: ListService\n    }\n  },\n  rxState() {\n    return {\n      loading: this.listService.loading$,\n      list: this.listService.list$,\n      page: this.listService.page$,\n      count: this.listService.count$,\n      auth: this.listService.auth$,\n      shopStatusList: this.listService.shopStatusList$,\n      isValidList: this.listService.isValidList$\n    }\n  },\n  filters: {\n    dateFilter\n  },\n  modals: {\n    BrandSettingShopHoliday,\n    BrandSettingShopStatus\n  },\n  computed: {\n    columns\n  },\n  methods: {\n    onListChange() {\n      this.$router.push({ query: this.$searchQuery })\n    }\n  }\n}\n",{"version":3,"sources":["list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"list.vue","sourceRoot":"src/views/pages/brand/setting/shop","sourcesContent":["<template>\n  <st-panel app>\n    <a-row class=\"mg-b16\">\n      <a-col :span=\"8\">\n        <router-link to=\"./add\">\n          <st-button v-if=\"auth.add\" type=\"primary\" icon=\"add\">\n            新增门店\n          </st-button>\n        </router-link>\n        <span class=\"st-des mg-l8\">\n          （已开店{{ count.count_opened }}家门店/可开店{{\n            count.count_can_opened\n          }}家门店）\n        </span>\n      </a-col>\n      <a-col :span=\"16\" class=\"ta-r\">\n        <a-select\n          style=\"width: 160px\"\n          class=\"mg-r8\"\n          v-model=\"$searchQuery.shop_status\"\n          @change=\"onSingleSearch('shop_status', $event)\"\n        >\n          <a-select-option\n            v-for=\"(item, index) in shopStatusList\"\n            :key=\"index\"\n            :value=\"item.value\"\n          >\n            {{ item.label }}\n          </a-select-option>\n        </a-select>\n        <a-select\n          style=\"width: 160px\"\n          v-model=\"$searchQuery.is_valid\"\n          @change=\"onSingleSearch('is_valid', $event)\"\n        >\n          <a-select-option\n            v-for=\"(item, index) in isValidList\"\n            :key=\"index\"\n            :value=\"item.value\"\n          >\n            {{ item.label }}\n          </a-select-option>\n        </a-select>\n      </a-col>\n    </a-row>\n    <st-table\n      :page=\"page\"\n      @change=\"onTableChange\"\n      :loading=\"loading.getList\"\n      :columns=\"columns\"\n      :dataSource=\"list\"\n      rowKey=\"shop_id\"\n    >\n      <!-- 运营状态 -->\n      <template slot=\"shop_status\" slot-scope=\"text, record\">\n        {{ record.shop_status | enumFilter('shop.shop_status') }}\n        <st-help-popover v-if=\"record.has_holiday_setting\" title=\"放假时间\">\n          <div slot=\"content\">\n            {{\n              record.holiday_start_time\n                | dateFilter(appConfig.DATE_FORMAT.datetime)\n            }}\n            <br />\n            {{\n              record.holiday_end_time\n                | dateFilter(appConfig.DATE_FORMAT.datetime)\n            }}\n          </div>\n        </st-help-popover>\n      </template>\n      <!-- 系统状态 -->\n      <template slot=\"is_valid\" slot-scope=\"text\">\n        <st-text\n          :status=\"{\n            success: text === 1,\n            error: text === 0\n          }\"\n        >\n          {{ text | enumFilter('shop.is_valid') }}\n        </st-text>\n      </template>\n      <!-- 操作 -->\n      <div slot=\"action\" slot-scope=\"text, record\">\n        <st-table-actions>\n          <router-link\n            v-if=\"record.auth['brand:shop:shop|get']\"\n            :to=\"`./info?id=${record.shop_id}`\"\n          >\n            详情\n          </router-link>\n          <router-link\n            v-if=\"record.auth['brand:shop:shop|edit']\"\n            :to=\"`./edit?id=${record.shop_id}`\"\n          >\n            编辑\n          </router-link>\n          <a\n            v-if=\"record.auth['brand:shop:shop_type|edit']\"\n            v-modal-link=\"{\n              name: 'brand-setting-shop-status',\n              props: {\n                shopId: record.shop_id,\n                shopName: record.shop_name,\n                shopStatus: record.shop_status\n              },\n              on: {\n                change: onListChange\n              }\n            }\"\n          >\n            更改运营状态\n          </a>\n          <a\n            v-if=\"record.auth['brand_shop:shop:shop_holiday|edit']\"\n            v-modal-link=\"{\n              name: 'brand-setting-shop-holiday',\n              props: {\n                shopId: record.shop_id,\n                shopName: record.shop_name,\n                shopStatus: record.shop_status,\n                isHoliday: record.has_holiday_setting,\n                holidayTime: {\n                  start: record.holiday_start_time,\n                  end: record.holiday_end_time\n                }\n              },\n              on: {\n                change: onListChange\n              }\n            }\"\n          >\n            {{ record.has_holiday_setting ? '管理' : '' }}门店放假\n          </a>\n        </st-table-actions>\n      </div>\n    </st-table>\n  </st-panel>\n</template>\n<script>\nimport { ListService } from './list.service'\nimport { columns } from './list.config.ts'\nimport { dateFilter } from '@/filters/date.filters'\nimport tableMixin from '@/mixins/table.mixin'\nimport { AppConfig } from '@/constants/config'\nimport BrandSettingShopHoliday from '@/views/biz-modals/brand/setting/shop/holiday'\nimport BrandSettingShopStatus from '@/views/biz-modals/brand/setting/shop/status'\nexport default {\n  mixins: [tableMixin],\n  name: 'PageBrandSettingShopList',\n  serviceInject() {\n    return {\n      appConfig: AppConfig,\n      listService: ListService\n    }\n  },\n  rxState() {\n    return {\n      loading: this.listService.loading$,\n      list: this.listService.list$,\n      page: this.listService.page$,\n      count: this.listService.count$,\n      auth: this.listService.auth$,\n      shopStatusList: this.listService.shopStatusList$,\n      isValidList: this.listService.isValidList$\n    }\n  },\n  filters: {\n    dateFilter\n  },\n  modals: {\n    BrandSettingShopHoliday,\n    BrandSettingShopStatus\n  },\n  computed: {\n    columns\n  },\n  methods: {\n    onListChange() {\n      this.$router.push({ query: this.$searchQuery })\n    }\n  }\n}\n</script>\n"]}]}