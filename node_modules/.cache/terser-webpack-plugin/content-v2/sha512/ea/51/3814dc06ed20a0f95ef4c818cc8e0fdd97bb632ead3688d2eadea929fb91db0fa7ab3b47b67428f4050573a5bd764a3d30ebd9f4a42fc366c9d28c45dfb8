{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"brand-stat\"],{\"0f91\":function(t,e,a){\"use strict\";a.d(e,\"a\",(function(){return d}));a(\"6b54\"),a(\"2397\");var n=a(\"d225\"),r=a(\"b0b4\"),i=a(\"308d\"),o=a(\"6bb5\"),s=a(\"4e2b\"),c=a(\"de46\");function u(t){return function(){var e,a=Object(o[\"a\"])(t);if(l()){var n=Object(o[\"a\"])(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return Object(i[\"a\"])(this,e)}}function l(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var d=function(t){Object(s[\"a\"])(a,t);var e=u(a);function a(){return Object(n[\"a\"])(this,a),e.apply(this,arguments)}return Object(r[\"a\"])(a,[{key:\"getChart\",value:function(t){return this.http.get(\"/v1/report/order-collect/brand/summer\",{query:t})}},{key:\"getData\",value:function(t){return this.http.get(\"/v1/report/order-collect/brand/list\",{query:t})}},{key:\"getDataTotal\",value:function(t){return this.http.get(\"/v1/report/order-collect/brand/list_total\",{query:t})}},{key:\"getAnalyseData\",value:function(t){return this.http.get(\"/v1/report/order-analysis/brand/list\",{query:t})}}]),a}(c[\"a\"])},\"17da\":function(t,e,a){\"use strict\";a.r(e),a.d(e,\"SaleService\",(function(){return m}));var n,r,i,o=a(\"d225\"),s=a(\"b0b4\"),c=a(\"9ab4\"),u=a(\"0cd5\"),l=a(\"df29\"),d=a(\"c4cc\"),h=a(\"a8b0\"),p=a(\"2cbb\"),f=a(\"2138\"),m=function(){function t(e,a,n){Object(o[\"a\"])(this,t),this.salesApi=e,this.authService=a,this.userService=n,this.loading$=new l[\"d\"]({}),this.dataLine$=new l[\"d\"]([]),this.dataRing$=new l[\"d\"]([]),this.featsRankList$=new l[\"d\"]([]),this.salesRankList$=new l[\"d\"]([]),this.chartTotal$=new l[\"d\"](0),this.authTabs$=this.authService.getAuthTabs$(\"brand-stat-sale\"),this.productType$=this.userService.getEnumValue$(\"report.report_product_performance\"),this.auth$=this.authService.authMap$({export:\"brand_shop:stat:revenue_reports|batch_export\"})}return Object(s[\"a\"])(t,[{key:\"getChart\",value:function(t){var e=this;return this.salesApi.getChart(t).pipe(Object(d[\"a\"])((function(t){var a=t.info,n=[],r=e.productType$.snapshot()||{};a.product_cate.map((function(t){n.push({key:t.product_type,name:r[t.product_type],value:t.value})})),e.salesRankList$.commit((function(){return a.order_top})),e.featsRankList$.commit((function(){return a.amount_top})),e.dataRing$.commit((function(){return n})),e.chartTotal$.commit((function(){return a.product_cate_total}))})))}}]),t}();m=Object(c[\"b\"])([Object(u[\"b\"])(),Object(c[\"d\"])(\"design:paramtypes\",[\"function\"===typeof(n=\"undefined\"!==typeof h[\"c\"]&&h[\"c\"])?n:Object,\"function\"===typeof(r=\"undefined\"!==typeof p[\"a\"]&&p[\"a\"])?r:Object,\"function\"===typeof(i=\"undefined\"!==typeof f[\"a\"]&&f[\"a\"])?i:Object])],m)},2023:function(t,e,a){\"use strict\";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"multi-line\"})},r=[],i=(a(\"8e6e\"),a(\"456d\"),a(\"bd86\")),o=(a(\"6b54\"),a(\"ac6a\"),a(\"5df3\"),a(\"4f7f\"),a(\"7f7f\"),a(\"75fc\")),s=(a(\"c5f6\"),a(\"9607\")),c=a(\"7f1a\"),u=a(\"9b0b\"),l=a(\"70aa\");function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function h(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){Object(i[\"a\"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var p={name:\"MultiLine\",mixins:[l[\"a\"]],props:{fold:{type:Boolean,default:!1},data:{type:Array,default:function(){return[]}},dataItem:{type:Function,default:function(t){return t}},dataItemKeyMap:{type:Object,default:function(){return{name:\"name\",key:\"key\",value:\"value\",date:\"date\"}}},height:{type:Number,default:280},fields:{type:[Boolean,Array],default:function(){return[]}},fieldKey:{type:String,default:\"key\"},colors:{type:Array,default:function(){return[\"#3F66F6\",\"#798AFF\",\"#06DB8C\",\"#77FF74\",\"#B8F10F\",\"#FFE679\",\"#FFB946\",\"#FF6466\",\"#C87FFF\",\"#484F83\"]}},colorIsQueue:{type:Boolean,default:!1},colorMap:{type:[Object,Array,Boolean],default:!1},max:{type:Number,default:4e3}},data:function(){return{type:\"MultiLine\",dv:new s[\"View\"]}},computed:{isEmpty:function(){return!this.data||!this.data.length},dataSource:function(){return this.data&&this.data.length?this.data:[{key:0,name:\"\",value:0,date:\"\"}].concat(Object(o[\"a\"])(this.data))},$fieldsOpts:function(){var t=this,e=[],a=[],n={},r=this.fold?this.dv.rows:this.dataSource;return r.map((function(r){e.push(r[t.fieldKey]),a.push(r.name),n[r[t.fieldKey]]=r.name})),this.fields.length&&(e=[].concat(Object(o[\"a\"])(this.fields),Object(o[\"a\"])(e))),e=Object(o[\"a\"])(new Set(e)),a=Object(o[\"a\"])(new Set(a)),{colorMap:this.colorMap,fieldsKey:e,fieldsName:a,fieldsObj:n}},$colorMap:function(){return Object(u[\"b\"])(this.$fieldsOpts,this.colors,this.colorIsQueue)},shadowColors:function(){var t={};for(var e in this.$colorMap)t[e]=Object(u[\"a\"])(this.$colorMap[e],.4);return t},MAX:function(){var t=this.dv.rows.length?this.dv.max(\"value\"):this.max;return t>this.max?t:this.max}},methods:{toKFilter:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\",a=Object(u[\"d\"])(t);return a.toString().indexOf(\"万\")>=0?a:a+e},thousandsFilter:u[\"c\"],initDv:function(){var t=this;this.dv.source(this.dataSource),this.fold&&this.dv.transform({type:\"fold\",fields:this.$fieldsOpts.fieldsName,key:\"name\",value:\"value\"}),this.dv.transform({type:\"map\",callback:function(e,a){for(var n in t.dataItemKeyMap){var r=e[t.dataItemKeyMap[n]];r&&(e[n]=r)}return e.$idx=a,e.value=+e.value,t.dataItem?t.dataItem(e):e}})},renderChart:function(){this.chart=new c[\"Chart\"](h({},this.opts,{container:this.$el,data:this.dv,forceFit:!0,height:this.height,padding:[8,160,\"auto\",\"auto\"],renderer:\"svg\"})),this.isEmpty&&(this.chart.tooltip(!1),this.chart.legend(\"name\",!1)),this.chart.render()},changeData:function(){this.chart.destroy(),this.renderChart()}}},f=p,m=a(\"2877\"),g=Object(m[\"a\"])(f,n,r,!1,null,null,null);e[\"a\"]=g.exports},\"217d\":function(t,e){t.exports=\"data:image/png;base64,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\"},2966:function(t,e,a){\"use strict\";a.d(e,\"b\",(function(){return n})),a.d(e,\"a\",(function(){return r}));var n=[{key:0,name:\"empty\",value:\"#E9EDF2\"},{key:1,name:\"线上微信\",value:\"#3F66F6\"},{key:2,name:\"线下微信\",value:\"#798AFF\"},{key:3,name:\"线下支付宝\",value:\"#06DB8C\"},{key:4,name:\"银行转账\",value:\"#77FF74\"},{key:5,name:\"POS机刷卡\",value:\"#FFE679\"},{key:6,name:\"现金\",value:\"#FF6466\"},{key:7,name:\"内部结转\",value:\"#FFB946\"},{key:8,name:\"其他\",value:\"#C87FFF\"},{key:-1,name:\"收银总额|退款总额\",value:\"#484F83\"}],r=[{key:\"order_num_new\",name:\"成单数量(新签)\",value:\"#3F66F6\"},{key:\"order_num_renew\",name:\"成单数量(续费)\",value:\"#798AFF\"},{key:\"order_num_update\",name:\"成单数量(升级)\",value:\"#C87FFF\"},{key:\"per_order_price\",name:\"客单价\",value:\"#FFB946\"}]},\"304a\":function(t,e){t.exports=\"data:image/png;base64,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\"},\"4fb3\":function(t,e,a){\"use strict\";a.r(e),a.d(e,\"RevenueService\",(function(){return m}));a(\"c5f6\");var n,r,i,o=a(\"d225\"),s=a(\"b0b4\"),c=a(\"9ab4\"),u=a(\"0cd5\"),l=a(\"df29\"),d=a(\"c4cc\"),h=a(\"5a69\"),p=a(\"2cbb\"),f=a(\"2138\"),m=function(){function t(e,a,n){Object(o[\"a\"])(this,t),this.revenueApi=e,this.authService=a,this.userService=n,this.dataLine$=new l[\"d\"]([]),this.dataRing$=new l[\"d\"]([]),this.dataRingTotal$=new l[\"d\"](0),this.authTabs$=this.authService.getAuthTabs$(\"brand-stat-revenue\"),this.auth$=this.authService.authMap$({export:\"brand_shop:stat:revenue_reports|batch_export\"}),this.productType$=this.userService.getEnumValue$(\"report.revenue_product_type\")}return Object(s[\"a\"])(t,[{key:\"getChart\",value:function(t){var e=this;return this.revenueApi.getChart(t).pipe(Object(d[\"a\"])((function(t){var a=t.course_summer,n=a.trend,r=a.trend_sort,i=void 0===r?[]:r,o=a.percent,s=o.list,c=void 0===s?[]:s,u=o.total_price,l=void 0===u?0:u,d=e.productType$.snapshot()||{},h=[],p=[];i&&i.map((function(t){n[t]&&n[t].map((function(t){p.push({key:t.product_type,name:d[t.product_type],value:t.total_amount,date:t.stat_date})}))})),c.map((function(t){h.push({key:t.product_type,name:d[t.product_type],value:t.total_amount,percent:t.percent})})),e.dataRing$.commit((function(){return h})),e.dataRingTotal$.commit((function(){return Number(l)})),e.dataLine$.commit((function(){return p}))})))}}]),t}();m=Object(c[\"b\"])([Object(u[\"b\"])(),Object(c[\"d\"])(\"design:paramtypes\",[\"function\"===typeof(n=\"undefined\"!==typeof h[\"a\"]&&h[\"a\"])?n:Object,\"function\"===typeof(r=\"undefined\"!==typeof p[\"a\"]&&p[\"a\"])?r:Object,\"function\"===typeof(i=\"undefined\"!==typeof f[\"a\"]&&f[\"a\"])?i:Object])],m)},\"537a4\":function(t,e,a){\"use strict\";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{class:t.b()},[a(\"div\",{class:t.b(\"section\")},[a(\"header\",{class:t.bHeader(\"header\")},[a(\"st-t3\",{class:t.bHeader(\"title\")},[t._v(\"\\n        订单概览\\n      \")]),a(\"div\",{class:t.bHeader(\"actions\")},[a(\"shop-select\",{attrs:{defaultValue:-1},on:{change:t.onChangeChartShop},model:{value:t.chartParam.shop_id,callback:function(e){t.$set(t.chartParam,\"shop_id\",e)},expression:\"chartParam.shop_id\"}}),a(\"st-recent-radio-group\",{on:{change:t.onChangeChartDays}})],1)],1),a(\"a-row\",{staticClass:\"mg-t32\"},[a(\"pillar-line\",{staticStyle:{height:\"280px\"},attrs:{fold:!0,fields:t.fields,dataItem:t.fieldsForamt,data:t.chartData,dataFormat:t.fieldsForamt,colorMap:t.orderColorMap}})],1)],1),a(\"st-panel\",{class:t.b(),attrs:{app:\"\",initial:\"\",type:\"card\",tabs:t.authTabs}},[a(\"router-view\")],1)],1)},r=[],i=(a(\"7f7f\"),a(\"b346\")),o=(a(\"1044\"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"plillar-line\"})}),s=[],c=(a(\"8e6e\"),a(\"bd86\")),u=(a(\"6b54\"),a(\"456d\"),a(\"ac6a\"),a(\"5df3\"),a(\"4f7f\"),a(\"75fc\")),l=(a(\"c5f6\"),a(\"9b0b\")),d=a(\"9607\"),h=a(\"7f1a\"),p=a(\"70aa\");function f(){var t=this,e={options:{scales:{type:{nice:!0},value:{max:+this.MAX,min:0,tickCount:6,formatter:this.toKFilter,sync:!0},value2:{max:+this.MAX2,min:0,tickCount:6,formatter:function(e){return t.toKFilter(e,t.unit2||\"元\")},sync:!0}},axes:{type:{label:{textStyle:{fill:\"#9BACB9\"}},tickLine:{lineWidth:0,length:0}},value:{label:{textStyle:{fill:\"#9BACB9\"}},grid:{lineStyle:{lineWidth:.5,lineDash:[0,0]}}},value2:{label:{textStyle:{fill:\"#9BACB9\"}},grid:{lineStyle:{lineWidth:.5,lineDash:[0,0]}}}},legends:{name:{position:\"right\",useHtml:!0,itemTpl:function(){return'<li class=\"g2-legend-list-item item-{index} {checked}\" data-color=\"{originColor}\" data-value=\"{originValue}\"><span class=\"g2-legend-marker\" style=\"background-color:{color};\"></span> <span class=\"g2-legend-text\">{value}</span></li>'}},name2:{position:\"right\",offsetY:-12,useHtml:!0,itemTpl:function(){return'<li class=\"g2-legend-list-item item-{index} {checked}\" data-color=\"{originColor}\" data-value=\"{originValue}\"><span class=\"g2-legend-marker\" style=\"background-color:{color};\"></span> <span class=\"g2-legend-text\">{value}</span></li>'}}},geoms:[{type:\"interval\",adjust:\"stack\",position:\"type*value\",color:{field:\"name\",callback:function(e){return t.$colorMap[e]}},tooltip:{field:\"name*value\",callback:function(e,a){return{name:e,value:t.thousandsFilter(a)}}},size:40},{type:\"line\",position:\"type*value2\",color:{field:\"name2\",callback:function(e){return t.$colorMap[e]}},style:{field:\"name2\",cfg:{shadowColor:function(e){return t.shadowColors[e]},shadowBlur:20,shadowOffsetY:4}},tooltip:{field:\"name2*value2\",callback:function(e,a){return{name:e,value:\"¥\"+t.thousandsFilter(a)}}},size:2,shape:\"smooth\"},{type:\"point\",position:\"type*value2\",color:{field:\"name2\",callback:function(e){return t.$colorMap[e]}},style:{field:\"name\",shadowColor:function(e){return t.shadowColors[e]},shadowBlur:20,shadowOffsetY:4},tooltip:!1,size:3,shape:\"circle\"}]}};return e}function m(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function g(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?m(Object(a),!0).forEach((function(e){Object(c[\"a\"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var b={name:\"PillarLine\",mixins:[p[\"a\"]],props:{fold:{type:Boolean,default:!1},data:{type:Array,default:function(){return[]}},dataItem:{type:Function,default:function(t){return t}},dataItemKeyMap:{type:Object,default:function(){return{name:\"name\",key:\"key\",value:\"value\",name2:\"name2\",key2:\"key2\",value2:\"value2\",type:\"type\"}}},height:{type:Number,default:280},fields:{type:[Boolean,Array],default:function(){return[]}},fieldKey:{type:String,default:\"key\"},fieldKey2:{type:String,default:\"key2\"},colors:{type:Array,default:function(){return[\"#3F66F6\",\"#798AFF\",\"#06DB8C\",\"#77FF74\",\"#B8F10F\",\"#FFE679\",\"#FFB946\",\"#FF6466\",\"#C87FFF\",\"#484F83\"]}},colorIsQueue:{type:Boolean,default:!1},colorMap:{type:[Object,Array,Boolean],default:!1},max:{type:Number,default:10},max2:{type:Number,default:1e3}},data:function(){return{type:\"PillarLine\",dv:new d[\"View\"]}},computed:{dataSource:function(){return this.data&&this.data.length?this.data:[{key:0,name:\"\",value:0,type:\"\"}].concat(Object(u[\"a\"])(this.data))},$fieldsOpts:function(){var t=this,e=[],a=[],n={},r=this.fold?this.dv.rows:this.dataSource;return r.map((function(r){e.push(r[t.fieldKey]),a.push(r.name),n[r[t.fieldKey]]=r.name,e.push(r[t.fieldKey2]),a.push(r.name2),n[r[t.fieldKey2]]=r.name2})),this.fields.length&&(e=[].concat(Object(u[\"a\"])(this.fields),Object(u[\"a\"])(e))),e=Object(u[\"a\"])(new Set(e)),a=Object(u[\"a\"])(new Set(a)),{colorMap:this.colorMap,fieldsKey:e,fieldsName:a,fieldsObj:n}},$colorMap:function(){return Object(l[\"b\"])(this.$fieldsOpts,this.colors,this.colorIsQueue)},shadowColors:function(){var t={};for(var e in this.$colorMap)t[e]=Object(l[\"a\"])(this.$colorMap[e],.4);return t},MAX:function(){var t=this.max,e={};return this.dv.rows.map((function(t){e[t.type]?e[t.type]+=t.value:e[t.type]=+t.value})),Object.keys(e).map((function(a){e[a]>t&&(t=e[a])})),t},MAX2:function(){var t=this.dv.rows.length?this.dv.max(\"value2\"):this.max;return t>this.max2?t:this.max2}},methods:{toKFilter:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\",a=Object(l[\"d\"])(t);return a.toString().indexOf(\"万\")>=0?a:a+e},thousandsFilter:l[\"c\"],initDv:function(){var t=this;this.dv=new d[\"View\"],this.dv.source(this.dataSource),this.fold&&this.dv.transform({type:\"fold\",fields:this.fields,key:\"name\",value:\"value\"}),this.dv.transform({type:\"map\",callback:function(e,a){for(var n in t.dataItemKeyMap){var r=e[t.dataItemKeyMap[n]];r&&(e[n]=r)}return e.$idx=a,e.value=+e.value,e.value2=+e.value2,t.dataItem?t.dataItem(e):e}})},renderChart:function(){this.chart=new h[\"Chart\"](g({},this.opts,{container:this.$el,data:this.dv,forceFit:!0,height:this.height,padding:[\"auto\",160,\"auto\",\"auto\"]})),this.isEmpty&&(this.chart.tooltip(!1),this.chart.legend(\"name\",!1),this.chart.legend(\"name2\",!1)),this.chart.render()},changeData:function(){this.chart.destroy(),this.renderChart()},getChartConfig:function(){return f.apply(this)},setInteraction:function(t){t.interaction(\"element-highlight-by-color\")}}},v=b,y=a(\"2877\"),O=Object(y[\"a\"])(v,o,s,!1,null,null,null),C=O.exports,S=a(\"2966\"),A=a(\"d495\"),j=a(\"ea3e\"),w={name:\"BrandStatOrders\",mixins:[j[\"a\"]],serviceInject:function(){return{orderService:A[\"OrdersService\"]}},rxState:function(){return{chartData:this.orderService.chartData$,fields:this.orderService.fields$,fieldsMap:this.orderService.fieldsMap$,loading:this.orderService.loading$,authTabs:this.orderService.authTabs$}},bem:{b:\"page-brand-stat-orders\",bHeader:\"page-brand-stat-header\"},watch:{},data:function(){return{orderColorMap:S[\"a\"],chartParam:{shop_id:-1,day:7,start_date:void 0,end_date:void 0},dataParam:{shop_id:-1,day:7}}},created:function(){this.getChart()},computed:{},methods:{fieldsForamt:function(t,e){return t.key=t.name,t.name=this.fieldsMap[t.name],t},onChangeChartShop:function(t){this.chartParam.shop_id=t,this.getChart()},onChangeChartDays:function(t){this.chartParam.day=t.recently_day||void 0,this.chartParam.start_date=t.start_date||void 0,this.chartParam.end_date=t.end_date||void 0,this.getChart()},getChart:function(){this.orderService.getChart(this.chartParam).subscribe()}},components:{shopSelect:i[\"a\"],PillarLine:C}},k=w,x=Object(y[\"a\"])(k,n,r,!1,null,null,null);e[\"default\"]=x.exports},\"5a69\":function(t,e,a){\"use strict\";a.d(e,\"a\",(function(){return d}));a(\"6b54\"),a(\"2397\");var n=a(\"d225\"),r=a(\"b0b4\"),i=a(\"308d\"),o=a(\"6bb5\"),s=a(\"4e2b\"),c=a(\"de46\");function u(t){return function(){var e,a=Object(o[\"a\"])(t);if(l()){var n=Object(o[\"a\"])(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return Object(i[\"a\"])(this,e)}}function l(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var d=function(t){Object(s[\"a\"])(a,t);var e=u(a);function a(){return Object(n[\"a\"])(this,a),e.apply(this,arguments)}return Object(r[\"a\"])(a,[{key:\"getChart\",value:function(t){return this.http.get(\"/v1/report/revenue/brand/stat_summer\",{query:t})}},{key:\"getData\",value:function(t){return this.http.get(\"/v1/report/revenue/brand/revenue_list\",{query:t})}},{key:\"getDataTotal\",value:function(t){return this.http.get(\"/v1/report/revenue/brand/revenue_total\",{query:t})}},{key:\"getDataToady\",value:function(t){return this.http.get(\"/v1/report/revenue/brand/today_summer\",{query:t})}},{key:\"getProductData\",value:function(t){return this.http.get(\"/v1/report/revenue/brand/product/revenue_list\",{query:t})}},{key:\"getProductDataTotal\",value:function(t){return this.http.get(\"/v1/report/revenue/brand/product/revenue_total\",{query:t})}},{key:\"getProductDataToady\",value:function(t){return this.http.get(\"/v1/report/revenue/brand/product/today_summer\",{query:t})}}]),a}(c[\"a\"])},\"74e1\":function(t,e,a){\"use strict\";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{class:t.b()},[a(\"div\",{class:t.b(\"section\")},[a(\"header\",{class:t.bHeader(\"header\")},[a(\"st-t3\",{class:t.bHeader(\"title\")},[t._v(\"\\n        订单概览\\n      \")]),a(\"div\",{class:t.bHeader(\"actions\")},[a(\"shop-select\",{attrs:{defaultValue:-1},on:{change:t.onChangeChartShop},model:{value:t.chartParam.shop_id,callback:function(e){t.$set(t.chartParam,\"shop_id\",e)},expression:\"chartParam.shop_id\"}}),a(\"st-recent-radio-group\",{on:{change:t.onChangeChartDays}})],1)],1),a(\"a-row\",{staticClass:\"mg-t32\"},[a(\"brand-stat-order-facet-bar\",{attrs:{data:t.chartData}})],1)],1),a(\"st-hr\"),a(\"div\",{class:t.b(\"section\")},[a(\"header\",{class:t.bHeader(\"header\")},[a(\"div\",{class:t.bHeader(\"button-wapper\")},[t.auth.export?a(\"st-button\",{directives:[{name:\"export-excel\",rawName:\"v-export-excel\",value:{type:\"order/brand\",query:t.$searchQuery},expression:\"{\\n            type: 'order/brand',\\n            query: $searchQuery\\n          }\"}],attrs:{type:\"primary\"}},[t._v(\"\\n          全部导出\\n        \")]):t._e()],1),a(\"div\",{class:t.bHeader(\"actions\")},[a(\"shop-select\",{on:{change:function(e){return t.onSingleSearch(\"shop_id\",e)}},model:{value:t.$searchQuery.shop_id,callback:function(e){t.$set(t.$searchQuery,\"shop_id\",e)},expression:\"$searchQuery.shop_id\"}}),a(\"st-recent-radio-group\",{on:{change:t.onChangeDataDays}})],1)]),a(\"st-total\",{staticClass:\"mg-t16\",class:t.b(\"total\"),attrs:{indexs:t.totalColumns,dataSource:t.total,hasTitle:\"\"}}),a(\"st-table\",{staticClass:\"mg-t16\",attrs:{loading:t.loading.getList,columns:t.columns,scroll:{x:2e3},rowKey:\"member_id\",page:t.page,dataSource:t.list},on:{change:t.onTableChange}})],1)],1)},r=[],i=a(\"b346\"),o=a(\"1044\"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"brand-stat-facet-bar\"})},c=[],u=(a(\"c5f6\"),a(\"3f2e\")),l=a(\"7f1a\"),d=a(\"9607\"),h=a(\"8bbf\"),p=a.n(h),f=a(\"be52\"),m=a(\"85b1\"),g={mixins:[u[\"a\"]],data:function(){return{dataSource:[]}},props:{data:{type:Array,default:function(){return[]}},fields:{type:Array,default:function(){return[\"客单价\",\"成单数量\"]}},colors:{type:Array,default:function(){return[\"#3F66F6\",\"#06DB8C\"]}},height:{type:Number,default:280}},mounted:function(){window.addEventListener(\"resize\",Object(m[\"a\"])(this.mountedTooltip,200))},methods:{mountedTooltip:function(){setTimeout(this.changeData,400)},initDv:function(){this.dv=new d[\"View\"],this.dv.source(this.data),this.dv.transform({type:\"fold\",fields:this.fields,key:\"type\",value:\"value\"}).transform({type:\"map\",callback:function(t){return t.value=t.value?+t.value:0,t}})},initChart:function(){var t=this;this.$createElement,new p.a({components:{StHelpTooltip:f[\"default\"]},render:function(t){return t(\"st-help-tooltip\")}}).$mount().$el;this.chart=new l[\"Chart\"]({container:this.$el,padding:[0,0,18,70],renderer:\"svg\",forceFit:!0,height:this.height}),this.chart.source(this.dv),this.chart.legend({position:\"bottom-center\",useHtml:!0,itemTpl:function(t,e,a,n){var r=0;return\"成单数量\"===t&&(r=1),'<li class=\"g2-legend-list-item item-{index} {checked}\" data-color=\"{originColor}\" data-value=\"{originValue}\"><i class=\"g2-legend-marker\" style=\"background-color:{color};\"></i>'+'<span class=\"g2-legend-text\">'.concat(t,\"&nbsp;<span id='legend-\").concat(r,'\\' class=\"test test1\"></span></span>')+\"</li>\"}}),this.chart.facet(\"mirror\",{fields:[\"type\"],padding:4,showTitle:!1,transpose:!0,eachView:function(e,a){var n=a.colIndex;e.axis(\"group\",{position:\"top\",label:{offset:70,textStyle:{fill:\"#3E4D5C\",fontSize:12},htmlTemplate:function(t,e,a){return'<span style=\"width:70px;display:block;\">'.concat(t,\"</span>\")}},tickLine:{alignWithLabel:!1,length:0},line:{lineWidth:0}});var r=t.colors[n];e.axis(\"value\",!1);for(var i=t.data.length,o=0;o<i;o++){var s=2.3+100/i*o,c=12.3+100/i*o;e.guide().region({start:[\"0%\",\"\".concat(s,\"%\")],end:[\"100%\",\"\".concat(c,\"%\")],style:{lineWidth:0,fill:\"#E9EDF2\",fillOpacity:1,stroke:\"#ccc\"}})}e.interval().position(\"group*value\").tooltip(\"type*value\",(function(t,e){return{name:t,value:e}})).color(\"type\",(function(t){return r})).size(24).opacity(1).label(\"value\",(function(e){var a=t.dv.max(\"value\"),r=-4,i=1===n?\"end\":\"start\",o=\"white\",s=e/a<.1;return s&&(r=4,i=1===n?\"start\":\"end\",o=\"#3E4D5C\"),{offset:r,textStyle:{fill:o,textAlign:i}}}))}}),this.chart.render(),this.changeData()},changeData:function(){this.$createElement;new p.a({components:{StHelpTooltip:f[\"default\"]},render:function(t){return t(\"st-help-tooltip\",{attrs:{id:\"TBDAO001\"}})}}).$mount(\"#legend-0\"),new p.a({components:{StHelpTooltip:f[\"default\"]},render:function(t){return t(\"st-help-tooltip\",{attrs:{id:\"TBDAO002\"}})}}).$mount(\"#legend-1\")}}},b=g,v=a(\"2877\"),y=Object(v[\"a\"])(b,s,c,!1,null,null,null),O=y.exports,C=a(\"7c5f\"),S=a(\"ea3e\"),A=function(t){return[{title:\"日期\",dataIndex:\"stat_date\",fixed:\"left\",width:140},{title:\"\".concat(t.$c(\"member_card\"),\"客单价(元)\"),align:\"right\",dataIndex:\"member_card_avg\"},{title:\"\".concat(t.$c(\"member_card\"),\"成单数\"),align:\"right\",dataIndex:\"member_card_num\"},{title:\"私教课客单价(元)\",align:\"right\",dataIndex:\"personal_course_avg\"},{title:\"私教课成单数\",align:\"right\",dataIndex:\"personal_course_num\"},{title:\"团体课客单价(元)\",align:\"right\",dataIndex:\"team_course_avg\"},{title:\"团体课成单数\",align:\"right\",dataIndex:\"team_course_num\"},{title:\"储值卡客单价(元)\",align:\"right\",dataIndex:\"deposit_card_avg\"},{title:\"储值卡成单数\",align:\"right\",dataIndex:\"deposit_card_num\"},{title:\"课程包客单价(元)\",align:\"right\",dataIndex:\"package_course_avg\"},{title:\"课程包成单数\",align:\"right\",dataIndex:\"package_course_num\"},{title:\"\".concat(t.$c(\"small_course\"),\"客单价(元)\"),align:\"right\",dataIndex:\"small_course_avg\"},{title:\"\".concat(t.$c(\"small_course\"),\"成单数\"),align:\"right\",dataIndex:\"small_course_num\"},{title:\"云店订单客单价(元)\",align:\"right\",dataIndex:\"shop_avg\"},{title:\"云店成单数\",align:\"right\",dataIndex:\"shop_num\"}]},j=function(t){return[{title:\"\".concat(t.$c(\"member_card\"),\"客单价(元)\"),dataIndex:\"member_card_avg\"},{title:\"\".concat(t.$c(\"member_card\"),\"成单数\"),dataIndex:\"member_card_num\"},{title:\"私教课客单价(元)\",dataIndex:\"personal_course_avg\"},{title:\"私教课成单数\",dataIndex:\"personal_course_num\"},{title:\"团体课客单价(元)\",dataIndex:\"team_course_avg\"},{title:\"团体课成单数\",dataIndex:\"team_course_num\"},{title:\"储值卡客单价(元)\",dataIndex:\"deposit_card_avg\"},{title:\"储值卡成单数\",dataIndex:\"deposit_card_num\"},{title:\"课程包客单价(元)\",dataIndex:\"package_course_avg\"},{title:\"课程包成单数\",dataIndex:\"package_course_num\"},{title:\"\".concat(t.$c(\"small_course\"),\"客单价(元)\"),dataIndex:\"small_course_avg\"},{title:\"\".concat(t.$c(\"small_course\"),\"成单数\"),dataIndex:\"small_course_num\"},{title:\"云店订单客单价(元)\",dataIndex:\"shop_avg\"},{title:\"云店成单数\",dataIndex:\"shop_num\"}]},w={name:\"BrandStatInfoOrder\",mixins:[S[\"a\"]],serviceInject:function(){return{orderService:C[\"OrderService\"]}},rxState:function(){return{list:this.orderService.list$,page:this.orderService.page$,total:this.orderService.total$,auth:this.orderService.auth$,chartData:this.orderService.chartData$,loading:this.orderService.loading$}},bem:{b:\"page-brand-stat-order\",bHeader:\"page-brand-stat-header\"},watch:{},data:function(){return{chartParam:{shop_id:-1,day:7,start_date:void 0,end_date:void 0},dataParam:{shop_id:-1,day:7}}},created:function(){this.getChart()},computed:{columns:A,totalColumns:j},methods:{onChangeChartShop:function(t){this.chartParam.shop_id=t,this.getChart()},onChangeChartDays:function(t){this.chartParam.day=t.recently_day||void 0,this.chartParam.start_date=t.start_date||void 0,this.chartParam.end_date=t.end_date||void 0,this.getChart()},onChangeDataDays:function(t){this.$searchQuery.day=t.recently_day||void 0,this.$searchQuery.start_date=t.start_date||void 0,this.$searchQuery.end_date=t.end_date||void 0,this.onSearch()},getChart:function(){this.orderService.getChart(this.chartParam).subscribe()}},components:{shopSelect:i[\"a\"],BrandStatOrderFacetBar:O,StTotal:o[\"a\"]}},k=w,x=Object(v[\"a\"])(k,n,r,!1,null,null,null);e[\"default\"]=x.exports},\"7c5f\":function(t,e,a){\"use strict\";a.r(e),a.d(e,\"OrderService\",(function(){return S}));var n=a(\"d225\"),r=a(\"b0b4\"),i=a(\"9ab4\"),o=a(\"0cd5\"),s=a(\"df29\"),c=a(\"c4cc\"),u=(a(\"6b54\"),a(\"2397\"),a(\"308d\")),l=a(\"6bb5\"),d=a(\"4e2b\"),h=a(\"de46\");function p(t){return function(){var e,a=Object(l[\"a\"])(t);if(f()){var n=Object(l[\"a\"])(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return Object(u[\"a\"])(this,e)}}function f(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var m,g,b,v,y=function(t){Object(d[\"a\"])(a,t);var e=p(a);function a(){return Object(n[\"a\"])(this,a),e.apply(this,arguments)}return Object(r[\"a\"])(a,[{key:\"getChart\",value:function(t){return this.http.get(\"/v1/stat/order/chart\",{query:t})}},{key:\"getData\",value:function(t){return this.http.get(\"/v1/stat/order/brand\",{query:t})}}]),a}(h[\"a\"]),O=a(\"2cbb\"),C=a(\"2138\"),S=function(){function t(e,a,r){Object(n[\"a\"])(this,t),this.orderApi=e,this.authService=a,this.userService=r,this.chartData$=new s[\"d\"]([]),this.list$=new s[\"d\"]([]),this.page$=new s[\"d\"]({}),this.total$=new s[\"d\"]({}),this.loading$=new s[\"d\"]({}),this.auth$=this.authService.authMap$({export:\"brand:stat:order_reports|batch_export\"})}return Object(r[\"a\"])(t,[{key:\"getChart\",value:function(t){var e=this,a=this.userService.c(\"small_course\");return this.orderApi.getChart(t).pipe(Object(c[\"a\"])((function(t){var n=t.info,r=[{group:\"云店\",\"成单数量\":n.shop.num,\"客单价\":n.shop.avg},{group:a,\"成单数量\":n.small_course.num,\"客单价\":n.small_course.avg},{group:\"课程包\",\"成单数量\":n.package_course.num,\"客单价\":n.package_course.avg},{group:\"储值卡\",\"成单数量\":n.deposit_card.num,\"客单价\":n.deposit_card.avg},{group:\"团体课\",\"成单数量\":n.team_course.num,\"客单价\":n.team_course.avg},{group:\"私教课\",\"成单数量\":n.personal_course.num,\"客单价\":n.personal_course.avg},{group:e.userService.c(\"member_card\"),\"成单数量\":n.member_card.num,\"客单价\":n.member_card.avg}];e.chartData$.commit((function(){return r}))})))}},{key:\"getList\",value:function(t){var e=this;return this.orderApi.getData(t).pipe(Object(c[\"a\"])((function(t){e.list$.commit((function(){return t.list})),e.page$.commit((function(){return t.page})),e.total$.commit((function(){return t.total}))})))}},{key:\"beforeEach\",value:function(t,e){return this.getList(t.meta.query)}}]),t}();Object(i[\"b\"])([Object(s[\"c\"])(),Object(i[\"d\"])(\"design:type\",Function),Object(i[\"d\"])(\"design:paramtypes\",[\"function\"===typeof(m=!1)?m:Object]),Object(i[\"d\"])(\"design:returntype\",void 0)],S.prototype,\"getList\",null),S=Object(i[\"b\"])([Object(o[\"b\"])(),Object(i[\"d\"])(\"design:paramtypes\",[\"function\"===typeof(g=\"undefined\"!==typeof y&&y)?g:Object,\"function\"===typeof(b=\"undefined\"!==typeof O[\"a\"]&&O[\"a\"])?b:Object,\"function\"===typeof(v=\"undefined\"!==typeof C[\"a\"]&&C[\"a\"])?v:Object])],S)},\"8eec\":function(t,e,a){\"use strict\";a.r(e),a.d(e,\"CourseService\",(function(){return m}));var n,r,i,o=a(\"d225\"),s=a(\"b0b4\"),c=a(\"9ab4\"),u=a(\"0cd5\"),l=a(\"df29\"),d=a(\"c4cc\"),h=a(\"4387\"),p=a(\"2cbb\"),f=a(\"2138\"),m=function(){function t(e,a,n){Object(o[\"a\"])(this,t),this.api=e,this.authService=a,this.userService=n,this.saleChartData$=new l[\"d\"]([]),this.remainChartData$=new l[\"d\"]([]),this.amountChartData$=new l[\"d\"]([]),this.saleChartTotal$=new l[\"d\"](0),this.remainCourseTotal$=new l[\"d\"](0),this.amountCourseTotal$=new l[\"d\"](0),this.authTabs$=this.authService.getAuthTabs$(\"brand-stat-course\"),this.productType$=this.userService.getEnumValue$(\"report.course_overview_product_type\"),this.auth$=this.authService.authMap$({export:\"brand:stat:course|batch_export\"}),this.keyArr=[\"私教课\",\"课程包(限次)\",\"课程包(不限次)\",\"小班课\"]}return Object(s[\"a\"])(t,[{key:\"GET_LIST\",value:function(t){var e=[],a=this.productType$.snapshot()||{};return t.map((function(t){e.push({key:t.product_type,name:a[t.product_type],value:t.value})})),e}},{key:\"SET_SALE_COURSE_DATA\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.GET_LIST(t.list);this.saleChartData$.commit((function(){return e})),this.saleChartTotal$.commit((function(){return+t.total}))}},{key:\"SET_REMAING_COURSE_DATA\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.GET_LIST(t.list);this.remainChartData$.commit((function(){return e})),this.remainCourseTotal$.commit((function(){return+t.total}))}},{key:\"SET_REMAING_AVG_AMOUNT_DATA\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.GET_LIST(t.list);this.amountChartData$.commit((function(){return e})),this.amountCourseTotal$.commit((function(){return+t.total}))}},{key:\"getChart\",value:function(t){var e=this;return this.api.getChart(t).pipe(Object(d[\"a\"])((function(t){var a=t.info||{};e.SET_SALE_COURSE_DATA(a.sale_course_total),e.SET_REMAING_COURSE_DATA(a.remaing_course_total),e.SET_REMAING_AVG_AMOUNT_DATA(a.remaing_course_amount_total)})))}}]),t}();m=Object(c[\"b\"])([Object(u[\"b\"])(),Object(c[\"d\"])(\"design:paramtypes\",[\"function\"===typeof(n=\"undefined\"!==typeof h[\"a\"]&&h[\"a\"])?n:Object,\"function\"===typeof(r=\"undefined\"!==typeof p[\"a\"]&&p[\"a\"])?r:Object,\"function\"===typeof(i=\"undefined\"!==typeof f[\"a\"]&&f[\"a\"])?i:Object])],m)},a8b0:function(t,e,a){\"use strict\";a.d(e,\"c\",(function(){return d}));a(\"6b54\"),a(\"2397\");var n=a(\"d225\"),r=a(\"b0b4\"),i=a(\"308d\"),o=a(\"6bb5\"),s=a(\"4e2b\"),c=a(\"de46\");function u(t){return function(){var e,a=Object(o[\"a\"])(t);if(l()){var n=Object(o[\"a\"])(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return Object(i[\"a\"])(this,e)}}function l(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var d=function(t){Object(s[\"a\"])(a,t);var e=u(a);function a(){return Object(n[\"a\"])(this,a),e.apply(this,arguments)}return Object(r[\"a\"])(a,[{key:\"getChart\",value:function(t){return this.http.get(\"/v1/report/sales/chart\",{query:t})}},{key:\"getFeatsRank\",value:function(t){return this.http.get(\"/v1/report/sales/get-amount-top-list\",{query:t})}},{key:\"getSalesRank\",value:function(t){return this.http.get(\"/v1/report/sales/get-order-top-list\",{query:t})}},{key:\"getData\",value:function(t){return this.http.get(\"/v1/report/sales/brand/get-list\",{query:t})}},{key:\"getDataTotal\",value:function(t){return this.http.get(\"/v1/report/sales/brand/get-total-data\",{query:t})}},{key:\"getDetailData\",value:function(t){return this.http.get(\"/v1/report/sales/brand/get-order-list\",{query:t})}},{key:\"getProductData\",value:function(t){return this.http.get(\"/v1/report/product-performance/brand/get-list\",{query:t})}},{key:\"getProductDataTotal\",value:function(t){return this.http.get(\"/v1/report/product-performance/brand/get-total-data\",{query:t})}}]),a}(c[\"a\"])},ac05:function(t,e,a){\"use strict\";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{class:t.b()},[a(\"div\",{class:t.b(\"section\")},[a(\"header\",{class:t.bHeader(\"header\")},[a(\"st-t3\",{class:t.bHeader(\"title\")},[t._v(\"\\n        销售概览\\n      \")]),a(\"div\",{class:t.bHeader(\"actions\")},[a(\"shop-select\",{attrs:{width:\"100px\"},on:{change:t.onChangeChartShop},model:{value:t.chartParam.shop_id,callback:function(e){t.$set(t.chartParam,\"shop_id\",e)},expression:\"chartParam.shop_id\"}}),a(\"st-recent-radio-group\",{on:{change:t.onChangeChartDays}})],1)],1),a(\"div\",{staticClass:\"mg-t24\",class:t.b(\"panel\")},[a(\"st-top5\",{class:t.b(\"top5-table\"),attrs:{rowKey:\"top\",columns:t.columnsFeatsTop5,dataSource:t.featsRankList},scopedSlots:t._u([{key:\"top\",fn:function(e){return e<=3?a(\"img\",{class:t.b(\"top5-order\"),attrs:{src:t.orderMap[e],alt:\"\"}}):a(\"span\",{class:t.b(\"top5-order\")},[t._v(\"\\n          \"+t._s(e)+\"\\n        \")])}},{key:\"nickname\",fn:function(e){return a(\"div\",{staticStyle:{width:\"100px\",overflow:\"hidden\",\"white-space\":\"nowrap\",\"text-overflow\":\"ellipsis\"}},[t._v(\"\\n          \"+t._s(e)+\"\\n        \")])}},{key:\"total_amount\",fn:function(e){return a(\"div\",{staticStyle:{\"min-width\":\"55px\"}},[t._v(\"\\n          \"+t._s(e)+\"\\n        \")])}}],null,!0)},[a(\"span\",{attrs:{slot:\"top5\"},slot:\"top5\"},[t._v(\"业绩TOP5\")]),a(\"a\",{directives:[{name:\"modal-link\",rawName:\"v-modal-link\",value:{name:\"brand-stat-record-rank-modal\",props:{query:t.chartParam,title:\"业绩排行\"}},expression:\"{\\n            name: 'brand-stat-record-rank-modal',\\n            props: {\\n              query: chartParam,\\n              title: '业绩排行'\\n            }\\n          }\"}],attrs:{slot:\"action\"},slot:\"action\"},[t._v(\"\\n          更多\\n        \")])]),a(\"st-top5\",{class:t.b(\"top5-table\"),attrs:{rowKey:\"top\",columns:t.columnsSaleTop5,dataSource:t.salesRankList},scopedSlots:t._u([{key:\"top\",fn:function(e){return e<=3?a(\"img\",{class:t.b(\"top5-order\"),attrs:{src:t.orderMap[e],alt:\"\"}}):a(\"span\",{class:t.b(\"top5-order\")},[t._v(\"\\n          \"+t._s(e)+\"\\n        \")])}},{key:\"nickname\",fn:function(e){return a(\"div\",{staticStyle:{width:\"100%\",overflow:\"hidden\",\"white-space\":\"nowrap\",\"text-overflow\":\"ellipsis\"}},[t._v(\"\\n          \"+t._s(e)+\"\\n        \")])}},{key:\"total_num\",fn:function(e){return a(\"div\",{staticStyle:{\"min-width\":\"55px\"}},[t._v(\"\\n          \"+t._s(e)+\"\\n        \")])}}],null,!0)},[a(\"span\",{attrs:{slot:\"top5\"},slot:\"top5\"},[t._v(\"销量TOP5\")]),a(\"a\",{directives:[{name:\"modal-link\",rawName:\"v-modal-link\",value:{name:\"brand-stat-sales-rank-modal\",props:{query:t.chartParam,title:\"销量排行\"}},expression:\"{\\n            name: 'brand-stat-sales-rank-modal',\\n            props: { query: chartParam, title: '销量排行' }\\n          }\"}],attrs:{slot:\"action\"},slot:\"action\"},[t._v(\"\\n          更多\\n        \")])]),a(\"div\",{class:t.b(\"chart\")},[a(\"div\",{class:t.b(\"chart-title\")},[t._v(\"类目业绩占比\")]),a(\"div\",{staticClass:\"pd-l40\"},[a(\"brand-statistics-ring\",{staticStyle:{width:\"365px\"},attrs:{totalName:\"业绩总额\",data:t.dataRing,total:t.chartTotal}})],1)])],1)]),a(\"st-panel\",{class:t.b(),attrs:{app:\"\",type:\"card\",tabs:t.authTabs}},[a(\"router-view\")],1)],1)},r=[],i=a(\"b346\"),o=(a(\"8e6e\"),a(\"ac6a\"),a(\"456d\"),a(\"bd86\")),s=a(\"ce69\");function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){Object(o[\"a\"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var l,d,h,p,f,m={name:\"InfoPane\",components:{},bem:{b:\"st-top5\"},props:{columns:{type:Array,default:function(){return[]}},dataSource:{type:Array,default:function(){return[]}}},data:function(){return{restProps:u({},this.$attr)}},computed:{locale:function(){var t=this.$createElement;return{emptyText:t(\"st-no-data\")}}},methods:{renderChildren:function(){var t=this.$createElement;return Object(s[\"a\"])(this.$slots,(function(e,a){return t(\"template\",{slot:a},[e])}))}},render:function(t){var e=u({locale:this.locale,pagination:!1,columns:this.columns,dataSource:this.dataSource},this.$attrs),a=t(\"div\",{class:\"st-top5\"},[t(\"div\",{class:\"st-top5-header\"},[t(\"div\",{class:\"st-top5-title\",scopedSlots:{top5:function(e){return t(\"div\",[\"销量Top5\"])}}},[this.$slots.top5]),t(\"div\",{class:\"st-top5-more\",scopedSlots:{action:function(e){return t(\"a\",[\"更多\"])}}},[this.$slots.action])]),t(\"a-table\",{props:e,scopedSlots:this.$scopedSlots,slot:this.$slots},this.renderChildren())]);return a}},g=m,b=a(\"2877\"),v=Object(b[\"a\"])(g,l,d,!1,null,null,null),y=v.exports,O=a(\"fe9e\"),C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"st-modal\",{attrs:{wrapClassName:\"modal-stat-sell-amount\",title:t.title,loading:t.loading.getFeatsRank,footer:!1},model:{value:t.show,callback:function(e){t.show=e},expression:\"show\"}},[a(\"st-table\",{attrs:{scroll:{y:345},columns:t.columns,loading:t.loading.getFeatsRank,rowKey:\"top\",dataSource:t.list,pagination:{simple:!0,hideOnSinglePage:!0},page:t.page,\"page-mode\":\"client\"},on:{change:t.onModalTableChange}})],1)},S=[],A=[{title:\"排名\",width:\"20%\",scopedSlots:{customRender:\"top\"},dataIndex:\"top\"},{title:\"销售\",width:\"50%\",dataIndex:\"nickname\"},{title:\"业绩(元)\",width:\"30%\",dataIndex:\"total_amount\"}],j=a(\"ea3e\"),w=a(\"d225\"),k=a(\"b0b4\"),x=a(\"9ab4\"),P=a(\"0cd5\"),E=a(\"df29\"),_=a(\"c4cc\"),I=a(\"2cbb\"),F=a(\"a8b0\"),T=function(){function t(e,a){Object(w[\"a\"])(this,t),this.salesApi=e,this.authService=a,this.list$=new E[\"d\"]([]),this.page$=new E[\"d\"]({}),this.loading$=new E[\"d\"]({}),this.auth$=this.authService.authMap$({export:\"shop:stat:saler_reports|export_day\"})}return Object(k[\"a\"])(t,[{key:\"getFeatsRank\",value:function(t){var e=this;return this.salesApi.getFeatsRank(t).pipe(Object(_[\"a\"])((function(t){e.list$.commit((function(){return t.list})),e.page$.commit((function(){return t.page}))})))}}]),t}();function D(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function B(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?D(Object(a),!0).forEach((function(e){Object(o[\"a\"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}Object(x[\"b\"])([Object(E[\"c\"])(),Object(x[\"d\"])(\"design:type\",Function),Object(x[\"d\"])(\"design:paramtypes\",[\"function\"===typeof(h=\"undefined\"!==typeof F[\"SaleChartParams\"]&&F[\"SaleChartParams\"])?h:Object]),Object(x[\"d\"])(\"design:returntype\",void 0)],T.prototype,\"getFeatsRank\",null),T=Object(x[\"b\"])([Object(P[\"b\"])(),Object(x[\"d\"])(\"design:paramtypes\",[\"function\"===typeof(p=\"undefined\"!==typeof F[\"c\"]&&F[\"c\"])?p:Object,\"function\"===typeof(f=\"undefined\"!==typeof I[\"a\"]&&I[\"a\"])?f:Object])],T);var M,R,Q,K={name:\"RecordRank\",mixins:[j[\"a\"]],serviceInject:function(){return{recordService:T}},rxState:function(){var t=this.recordService,e=t.list$,a=t.page$,n=t.auth$,r=t.loading$;return{list:e,page:a,auth:n,loading:r}},props:{query:{type:Object,default:function(){return{}}},title:String,type:String},data:function(){return{show:!1,columns:A}},computed:{},methods:{getList:function(t){this.recordService.getFeatsRank(t,this.type).subscribe()},onModalTableChange:function(t){for(var e=arguments.length,a=new Array(e>1?e-1:0),n=1;n<e;n++)a[n-1]=arguments[n];this.getList(B({},this.query,{},this.getTableQuery.apply(this,[t].concat(a))))}},mounted:function(){this.getList(this.query)}},$=K,H=Object(b[\"a\"])($,C,S,!1,null,null,null),L=H.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"st-modal\",{attrs:{wrapClassName:\"modal-stat-sell-amount\",title:t.title,loading:t.loading.getSalesRank,footer:!1},model:{value:t.show,callback:function(e){t.show=e},expression:\"show\"}},[a(\"st-table\",{attrs:{scroll:{y:345},columns:t.columns,loading:t.loading.getSalesRank,rowKey:\"top\",dataSource:t.list,pagination:{simple:!0,hideOnSinglePage:!0},page:t.page,\"page-mode\":\"client\"},on:{change:t.onModalTableChange}})],1)},V=[],q=[{title:\"排名\",width:\"20%\",scopedSlots:{customRender:\"top\"},dataIndex:\"top\"},{title:\"销售\",width:\"50%\",dataIndex:\"nickname\"},{title:\"销量(单)\",width:\"30%\",dataIndex:\"total_num\"}],U=function(){function t(e,a){Object(w[\"a\"])(this,t),this.salesApi=e,this.authService=a,this.list$=new E[\"d\"]([]),this.page$=new E[\"d\"]({}),this.loading$=new E[\"d\"]({}),this.auth$=this.authService.authMap$({export:\"shop:stat:saler_reports|export_day\"})}return Object(k[\"a\"])(t,[{key:\"getSalesRank\",value:function(t){var e=this;return this.salesApi.getSalesRank(t).pipe(Object(_[\"a\"])((function(t){e.list$.commit((function(){return t.list})),e.page$.commit((function(){return t.page}))})))}}]),t}();function J(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function G(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?J(Object(a),!0).forEach((function(e){Object(o[\"a\"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):J(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}Object(x[\"b\"])([Object(E[\"c\"])(),Object(x[\"d\"])(\"design:type\",Function),Object(x[\"d\"])(\"design:paramtypes\",[\"function\"===typeof(M=\"undefined\"!==typeof F[\"SaleChartParams\"]&&F[\"SaleChartParams\"])?M:Object]),Object(x[\"d\"])(\"design:returntype\",void 0)],U.prototype,\"getSalesRank\",null),U=Object(x[\"b\"])([Object(P[\"b\"])(),Object(x[\"d\"])(\"design:paramtypes\",[\"function\"===typeof(R=\"undefined\"!==typeof F[\"c\"]&&F[\"c\"])?R:Object,\"function\"===typeof(Q=\"undefined\"!==typeof I[\"a\"]&&I[\"a\"])?Q:Object])],U);var W={name:\"SalesRank\",mixins:[j[\"a\"]],serviceInject:function(){return{salesService:U}},rxState:function(){var t=this.salesService,e=t.list$,a=t.page$,n=t.auth$,r=t.loading$;return{list:e,page:a,auth:n,loading:r}},props:{query:{type:Object,default:function(){return{}}},title:String,type:String},data:function(){return{show:!1,columns:q}},computed:{},methods:{getList:function(t){this.salesService.getSalesRank(t,this.type).subscribe()},onModalTableChange:function(t){for(var e=arguments.length,a=new Array(e>1?e-1:0),n=1;n<e;n++)a[n-1]=arguments[n];this.getList(G({},this.query,{},this.getTableQuery.apply(this,[t].concat(a))))}},mounted:function(){this.getList(this.query)}},Y=W,X=Object(b[\"a\"])(Y,N,V,!1,null,null,null),z=X.exports,Z=a(\"17da\"),tt=[{title:\"排名\",width:80,scopedSlots:{customRender:\"top\"},dataIndex:\"top\"},{title:\"销售\",width:120,scopedSlots:{customRender:\"nickname\"},dataIndex:\"nickname\"},{title:\"业绩(元)\",align:\"right\",width:75,scopedSlots:{customRender:\"total_amount\"},dataIndex:\"total_amount\"}],et=[{title:\"排名\",width:80,scopedSlots:{customRender:\"top\"},dataIndex:\"top\"},{title:\"销售\",width:120,scopedSlots:{customRender:\"nickname\"},dataIndex:\"nickname\"},{title:\"销量(单)\",align:\"right\",width:75,scopedSlots:{customRender:\"total_num\"},dataIndex:\"total_num\"}],at=a(\"ead2\"),nt=a.n(at),rt=a(\"217d\"),it=a.n(rt),ot=a(\"304a\"),st=a.n(ot),ct=a(\"c32d\"),ut=a.n(ct),lt={name:\"BrandStatSale\",mixins:[j[\"a\"]],serviceInject:function(){return{saleService:Z[\"SaleService\"]}},modals:{BrandStatRecordRankModal:L,BrandStatSalesRankModal:z},rxState:function(){var t=this.saleService,e=t.featsRankList$,a=t.salesRankList$,n=t.auth$,r=t.dataRing$,i=t.chartTotal$,o=t.authTabs$,s=t.loading$;return{featsRankList:e,salesRankList:a,auth:n,authTabs:o,dataRing:r,chartTotal:i,loading:s}},bem:{b:\"page-brand-stat-sale\",bHeader:\"page-brand-stat-header\"},data:function(){return{columnsFeatsTop5:tt,columnsSaleTop5:et,orderMap:{1:nt.a,2:it.a,3:st.a},chartParam:{shop_id:-1,day:7,start_date:void 0,end_date:void 0}}},created:function(){this.getChart()},methods:{moment:ut.a,onChangeChartShop:function(t){this.chartParam.shop_id=t,this.getChart()},onChangeChartDays:function(t){this.chartParam.day=t.recently_day||void 0,this.chartParam.start_date=t.start_date||void 0,this.chartParam.end_date=t.end_date||void 0,this.getChart()},getChart:function(){this.saleService.getChart(this.chartParam).subscribe()}},components:{shopSelect:i[\"a\"],BrandStatisticsRing:O[\"a\"],StTop5:y}},dt=lt,ht=Object(b[\"a\"])(dt,n,r,!1,null,null,null);e[\"default\"]=ht.exports},b02c:function(t,e,a){\"use strict\";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{class:t.bPage()},[a(\"div\",{class:t.bPage(\"section\")},[a(\"header\",{class:t.bHeader(\"header\")},[a(\"st-t3\",{class:t.bHeader(\"title\")},[t._v(\"\\n        课程概览\\n      \")]),a(\"div\",{class:t.bHeader(\"actions\")},[a(\"shop-select\",{attrs:{defaultValue:-1},on:{change:t.onChangeChartShop},model:{value:t.chartParam.shop_id,callback:function(e){t.$set(t.chartParam,\"shop_id\",e)},expression:\"chartParam.shop_id\"}})],1)],1),a(\"a-row\",{staticClass:\"mg-t24\",class:t.bPage(\"main\")},[a(\"a-col\",{staticClass:\"main-item\",attrs:{lg:8}},[a(\"brand-statistics-ring\",{attrs:{totalName:\"总售课时\",unit:\"\",unitBack:!0,total:t.saleChartTotal,data:t.saleChartData,legend:{layout:\"vertical\"},guide:{layout:\"reverse\"},padding:[\"auto\",160,\"auto\",\"auto\"]}})],1),a(\"a-col\",{staticClass:\"main-item\",attrs:{lg:8}},[a(\"brand-statistics-ring\",{attrs:{totalName:\"剩余课时\",unit:\"\",unitBack:!0,total:t.remainCourseTotal,data:t.remainChartData,legend:{layout:\"vertical\"},guide:{layout:\"reverse\"},padding:[\"auto\",160,\"auto\",\"auto\"]}})],1),a(\"a-col\",{staticClass:\"main-item\",attrs:{lg:8}},[a(\"brand-statistics-ring\",{attrs:{totalName:\"剩余摊销金额\",total:t.amountCourseTotal,data:t.amountChartData,legend:{layout:\"vertical\"},guide:{layout:\"reverse\"},padding:[\"auto\",160,\"auto\",\"auto\"]}})],1)],1)],1),a(\"st-panel\",{class:t.bPage(),attrs:{app:\"\",initial:\"\",type:\"card\",tabs:t.authTabs}},[a(\"router-view\")],1)],1)},r=[],i=a(\"fe9e\"),o=a(\"b346\"),s=a(\"8eec\"),c=a(\"ea3e\"),u={name:\"BrandStatCourse\",mixins:[c[\"a\"]],serviceInject:function(){return{service:s[\"CourseService\"]}},rxState:function(){var t=this.service,e=t.saleChartData$,a=t.remainChartData$,n=t.amountChartData$,r=t.saleChartTotal$,i=t.remainCourseTotal$,o=t.amountCourseTotal$,s=t.authTabs$;return{saleChartData:e,remainChartData:a,amountChartData:n,saleChartTotal:r,remainCourseTotal:i,amountCourseTotal:o,authTabs:s}},bem:{bPage:\"page-brand-stat-course\",bHeader:\"page-brand-stat-header\"},watch:{},data:function(){return{chartParam:{shop_id:-1},ringFields:[\"私教课\",\"课程包(限次)\",\"小班课\"],ringFields2:[\"私教课\",\"课程包(不限次)\",\"课程包(限次)\",\"小班课\"]}},created:function(){this.getChart()},computed:{value:function(){var t=this.$searchQuery.start_date?0:this.$searchQuery.day;return{day:t,start_date:this.$searchQuery.start_date,end_date:this.$searchQuery.end_date}}},methods:{onChangeChartShop:function(t){this.getChart()},getChart:function(){this.service.getChart(this.chartParam).subscribe()}},components:{BrandStatisticsRing:i[\"a\"],shopSelect:o[\"a\"]}},l=u,d=a(\"2877\"),h=Object(d[\"a\"])(l,n,r,!1,null,null,null);e[\"default\"]=h.exports},b5d0:function(t,e,a){\"use strict\";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{class:t.b()},[a(\"div\",{class:t.b(\"section\")},[a(\"header\",{class:t.bHeader(\"header\")},[a(\"st-t3\",{class:t.bHeader(\"title\")},[t._v(\"\\n        营收概览\\n      \")]),a(\"div\",{class:t.bHeader(\"actions\")},[a(\"shop-select\",{on:{change:t.onChangeChartShop},model:{value:t.chartParam.shop_id,callback:function(e){t.$set(t.chartParam,\"shop_id\",e)},expression:\"chartParam.shop_id\"}}),a(\"st-recent-radio-group\",{attrs:{disabledDate:function(e){return e.format(\"YYYY-MM-DD\")&&e.format(\"YYYY-MM-DD\")>=t.moment().format(\"YYYY-MM-DD\")}},on:{change:t.onChangeChartDays}})],1)],1),a(\"div\",{staticClass:\"mg-t36\",staticStyle:{display:\"flex\",\"align-items\":\"center\"}},[a(\"brand-statistics-line\",{staticStyle:{width:\"calc(100% - 365px)\",height:\"285px\"},attrs:{max:4e3,data:t.dataLine}}),a(\"brand-statistics-ring\",{staticStyle:{width:\"365px\"},attrs:{totalName:\"总营收\",data:t.dataRing,total:t.dataRingTotal}})],1)]),a(\"st-panel\",{class:t.b(),attrs:{app:\"\",type:\"card\",tabs:t.authTabs}},[a(\"router-view\")],1)],1)},r=[],i=a(\"b346\"),o=a(\"fe9e\"),s=a(\"2023\"),c=a(\"4fb3\"),u=a(\"ea3e\"),l=a(\"c32d\"),d=a.n(l),h={name:\"BrandStatRevenue\",mixins:[u[\"a\"]],serviceInject:function(){return{revenueService:c[\"RevenueService\"]}},rxState:function(){var t=this.revenueService,e=t.authTabs$,a=t.dataRingTotal$,n=t.dataRing$,r=t.dataLine$,i=t.productType$;return{authTabs:e,dataRingTotal:a,dataRing:n,dataLine:r,productType:i}},bem:{b:\"page-brand-stat-revenue\",bHeader:\"page-brand-stat-header\"},data:function(){return{chartParam:{shop_id:-1,day:7,start_date:void 0,end_date:void 0},chartTodayShop:-1}},created:function(){this.getChart()},computed:{},methods:{moment:d.a,onChangeChartShop:function(t){this.chartParam.shop_id=t,this.getChart()},onChangeChartDays:function(t){this.chartParam.day=t.recently_day||void 0,this.chartParam.start_date=t.start_date||void 0,this.chartParam.end_date=t.end_date||void 0,this.getChart()},getChart:function(){this.revenueService.getChart(this.chartParam).subscribe()}},components:{shopSelect:i[\"a\"],BrandStatisticsRing:o[\"a\"],BrandStatisticsLine:s[\"a\"]}},p=h,f=a(\"2877\"),m=Object(f[\"a\"])(p,n,r,!1,null,null,null);e[\"default\"]=m.exports},d495:function(t,e,a){\"use strict\";a.r(e),a.d(e,\"OrdersService\",(function(){return v}));a(\"8e6e\");var n,r,i,o=a(\"bd86\"),s=(a(\"ac6a\"),a(\"456d\"),a(\"d225\")),c=a(\"b0b4\"),u=a(\"9ab4\"),l=a(\"0cd5\"),d=a(\"df29\"),h=a(\"c4cc\"),p=a(\"0f91\"),f=a(\"2cbb\"),m=a(\"2138\");function g(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function b(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?g(Object(a),!0).forEach((function(e){Object(o[\"a\"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var v=function(){function t(e,a,n){Object(s[\"a\"])(this,t),this.orderApi=e,this.authService=a,this.userService=n,this.chartData$=new d[\"d\"]([]),this.fields$=new d[\"d\"]([]),this.fieldsMap$=new d[\"d\"]({}),this.page$=new d[\"d\"]({}),this.total$=new d[\"d\"]({}),this.loading$=new d[\"d\"]({}),this.productType$=this.userService.getEnumValue$(\"report.revenue_product_type\"),this.authTabs$=this.authService.getAuthTabs$(\"brand-stat-orders\"),this.auth$=this.authService.authMap$({export:\"brand:stat:order_reports|batch_export\"})}return Object(c[\"a\"])(t,[{key:\"getChart\",value:function(t){var e=this;this.userService.c(\"small_course\");return this.orderApi.getChart(t).pipe(Object(h[\"a\"])((function(t){var a=t.title_list||[],n=t.list||[],r=e.productType$.snapshot()||{},i=[];i=Object.keys(a),n=n.map((function(t){return b({},t,{per_order_price:0,type:r[t.product_type],key2:\"per_order_price\",name2:\"客单价\",value2:t.per_order_price})})),e.fields$.commit((function(){return i})),e.fieldsMap$.commit((function(){return a})),e.chartData$.commit((function(){return n}))})))}}]),t}();v=Object(u[\"b\"])([Object(l[\"b\"])(),Object(u[\"d\"])(\"design:paramtypes\",[\"function\"===typeof(n=\"undefined\"!==typeof p[\"a\"]&&p[\"a\"])?n:Object,\"function\"===typeof(r=\"undefined\"!==typeof f[\"a\"]&&f[\"a\"])?r:Object,\"function\"===typeof(i=\"undefined\"!==typeof m[\"a\"]&&m[\"a\"])?i:Object])],v)},d5fd:function(t,e,a){\"use strict\";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{class:t.b()},[a(\"div\",{class:t.b(\"section\")},[a(\"header\",{class:t.bHeader(\"header\")},[a(\"st-t3\",{class:t.bHeader(\"title\")},[t._v(\"\\n        \"+t._s(\"income\"===t.currentRouteTag?\"收银概览\":\"退款概览\")+\"\\n      \")]),a(\"div\",{class:t.bHeader(\"actions\")},[a(\"shop-select\",{on:{change:t.onChangeChartShop},model:{value:t.chartParam.shop_id,callback:function(e){t.$set(t.chartParam,\"shop_id\",e)},expression:\"chartParam.shop_id\"}}),a(\"st-recent-radio-group\",{on:{change:t.onChangeChartDays}})],1)],1),a(\"div\",{staticClass:\"mg-t36\",staticStyle:{display:\"flex\",\"align-items\":\"center\"}},[a(\"brand-statistics-line\",{staticStyle:{width:\"calc(100% - 365px)\",height:\"285px\"},attrs:{max:4e3,data:t.dataLine,colorMap:t.paymentColorMap}}),a(\"brand-statistics-ring\",{staticStyle:{width:\"365px\"},attrs:{totalName:\"income\"===t.currentRouteTag?\"总收银\":\"总退款\",data:t.dataRing,total:t.dataRingTotal,colorMap:t.paymentColorMap}})],1)]),a(\"st-panel\",{class:t.b(),attrs:{app:\"\",type:\"card\",tabs:t.authTabs}},[a(\"router-view\")],1)],1)},r=[],i=a(\"b346\"),o=a(\"fe9e\"),s=a(\"2023\"),c=a(\"2966\"),u=a(\"fa42\"),l=a(\"ea3e\"),d=a(\"c32d\"),h=a.n(d),p={name:\"BrandStatRevenue\",mixins:[l[\"a\"]],serviceInject:function(){return{cashierService:u[\"CashierService\"]}},rxState:function(){var t=this.cashierService,e=t.currentRouteTag$,a=t.authTabs$,n=t.dataRingTotal$,r=t.dataRing$,i=t.dataLine$,o=t.productType$;return{currentRouteTag:e,authTabs:a,dataRingTotal:n,dataRing:r,dataLine:i,productType:o}},bem:{b:\"page-brand-stat-revenue\",bHeader:\"page-brand-stat-header\"},data:function(){return{paymentColorMap:c[\"b\"],chartParam:{shop_id:-1,day:7,start_date:void 0,end_date:void 0},chartTodayShop:-1}},created:function(){this.getChart()},watch:{currentRouteTag:function(){this.getChart()}},computed:{},methods:{moment:h.a,onChangeChartShop:function(t){this.chartParam.shop_id=t,this.getChart()},onChangeChartDays:function(t){this.chartParam.day=t.recently_day||void 0,this.chartParam.start_date=t.start_date||void 0,this.chartParam.end_date=t.end_date||void 0,this.getChart()},getChart:function(){this.cashierService.getChart(this.chartParam,this.currentRouteTag).subscribe()}},components:{shopSelect:i[\"a\"],BrandStatisticsRing:o[\"a\"],BrandStatisticsLine:s[\"a\"]}},f=p,m=a(\"2877\"),g=Object(m[\"a\"])(f,n,r,!1,null,null,null);e[\"default\"]=g.exports},ead2:function(t,e){t.exports=\"data:image/png;base64,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\"},fa42:function(t,e,a){\"use strict\";a.r(e),a.d(e,\"CashierService\",(function(){return v}));a(\"8e6e\"),a(\"ac6a\"),a(\"456d\"),a(\"c5f6\");var n,r,i,o=a(\"bd86\"),s=a(\"d225\"),c=a(\"b0b4\"),u=a(\"9ab4\"),l=a(\"0cd5\"),d=a(\"df29\"),h=a(\"c4cc\"),p=a(\"d51f\"),f=a(\"2cbb\"),m=a(\"2138\");function g(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function b(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?g(Object(a),!0).forEach((function(e){Object(o[\"a\"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var v=function(){function t(e,a,n){Object(s[\"a\"])(this,t),this.cashierApi=e,this.authService=a,this.userService=n,this.dataLine$=new d[\"d\"]([]),this.dataRing$=new d[\"d\"]([]),this.currentRouteTag$=new d[\"d\"]({}),this.dataRingTotal$=new d[\"d\"](0),this.authTabs$=this.authService.getAuthTabs$(\"brand-stat-cashier\"),this.auth$=this.authService.authMap$({export:\"brand_shop:stat:revenue_reports|batch_export\"}),this.productType$=this.userService.getEnumValue$(\"report.revenue_product_type\"),this.payChannel$=this.userService.getEnumValue$(\"finance.pay_channel\")}return Object(c[\"a\"])(t,[{key:\"getChart\",value:function(t,e){var a=this;return this.cashierApi.getChart(t,e).pipe(Object(h[\"a\"])((function(t){var n=t.trend,r=t.percent,i=r.list,o=void 0===i?[]:i,s=r.total_price,c=void 0===s?0:s,u=[],l=[],d=a.payChannel$.snapshot();d=b({},d||{},{\"-1\":\"income\"===e?\"收银总额\":\"退款总额\"}),n.map((function(t){var e=t.pay_channel;t.list&&t.list.map((function(t){l.push({key:t.pay_channel||e,name:d[t.pay_channel||e]||\"\",value:t.total_price,date:t.date})}))})),o.map((function(t){u.push({key:t.pay_channel,name:d[t.pay_channel],value:t.total_price,percent:t.percent})})),a.dataRing$.commit((function(){return u})),a.dataRingTotal$.commit((function(){return Number(c)})),a.dataLine$.commit((function(){return l}))})))}},{key:\"beforeEach\",value:function(t,e){return this.currentRouteTag$.commit((function(){return\"/brand/stat/cashier/income\"===t.path?\"income\":\"refund\"}))}}]),t}();v=Object(u[\"b\"])([Object(l[\"b\"])(),Object(u[\"d\"])(\"design:paramtypes\",[\"function\"===typeof(n=\"undefined\"!==typeof p[\"a\"]&&p[\"a\"])?n:Object,\"function\"===typeof(r=\"undefined\"!==typeof f[\"a\"]&&f[\"a\"])?r:Object,\"function\"===typeof(i=\"undefined\"!==typeof m[\"a\"]&&m[\"a\"])?i:Object])],v)},fe9e:function(t,e,a){\"use strict\";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"chart-ring\"})},r=[],i=(a(\"8e6e\"),a(\"456d\"),a(\"bd86\")),o=(a(\"ac6a\"),a(\"5df3\"),a(\"4f7f\"),a(\"7f7f\"),a(\"75fc\")),s=(a(\"c5f6\"),a(\"9607\")),c=a(\"7f1a\"),u=a(\"9b0b\"),l=a(\"70aa\"),d=function(t){return{options:{scales:{value:{formatter:function(e){return t.unitBack?e+t.unit:t.unit+e}}},coord:{type:\"theta\",cfg:{innerRadius:.65}},tooltip:{showTitle:!1,itemTpl:'<li class=\"tooltip-item-{name}\">\\n                    <span style=\"background-color:{color};\" class=\"g2-tooltip-marker\"></span>\\n                    {name}\\n                    <span class=\"st-g2-tooltip-value\">| {percent}</span>\\n                  </li>'},legends:{name:{position:t.opt$.legend.position,useHtml:!0,itemTpl:function(e,a,n,r){var i=t.dv.findRow({name:e}),o=t.valFormat(i.value);t.tooltipMap&&t.tooltipMap[i.key];return'<li class=\"g2-legend-list-item item-{originValue} item-{index} {checked} '.concat(t.opt$.legend.layout,'\" data-color=\"{originColor}\" data-value=\"{originValue}\">\\n                    <div>\\n                      <i class=\"g2-legend-marker\" style=\"background-color:{color};\"></i>\\n                      <span class=\"g2-legend-text\">').concat(e,\"</span>\\n                      <span id='legend-{index}'></span>\\n                    </div>\\n                    <div class='legend-right'>\\n                      <span class='legend-percent'>\").concat(t.unitBack?o+t.unit:t.unit+o,\"</span>\\n                    </div>\\n                  </li>\")},onHover:function(e){if(t.total){var a=t.$el.querySelector.bind(t.$el),n=e.item.value,r=t.dv.findRow({name:n}),i=e.shapes,o=e.geom,s=e.currentTarget;t.total&&o.setShapesActived(i),s.addEventListener(\"mouseleave\",(function(){t.resetTotal()})),a(\".guide-value\").textContent=t.valFormat(r.value),a(\".guide-name-text\").textContent=r.name,a(\".guide-name-tooltip\").setAttribute(\"style\",\"display: none\")}}}},guides:[{type:\"html\",position:[\"50%\",\"50%\"],html:function(){return t.resize=Math.random(),\"<div class='guide \".concat(t.opt$.guide.layout,\"' style='width: \").concat(t.height/2,\"px'>\\n                    <div class='guide-name'>\\n                      <span class=\\\"guide-name-text\\\">\").concat(t.totalName,'</span>\\n                      <span class=\"guide-name-tooltip\" id=\"guide-name-tooltip').concat(t.tooltipId,\"\\\"></span>\\n                    </div>\\n                    <div class='guide-title'>\\n                      <span class='guide-unit' style=\\\"display: \").concat(t.unitBack?\"none\":\"inline-block\",'\">').concat(t.unit,\"</span>\\n                      <span class='guide-value'>\").concat(t.valFormat(t.total)||0,\"</span>\\n                      <span class='guide-unit' style=\\\"display: \").concat(t.unitBack?\"inline-block\":\"none\",'\">').concat(t.unit,\"</span>\\n                    </div>\\n                  </div>\")}}],geoms:[{type:\"intervalStack\",position:\"value\",active:{style:{fillOpacity:1,lineWidth:8}},select:!1,color:{field:\"name\",callback:function(e,a){return t.$colorMap[e]}},style:{fillOpacity:1,cursor:\"pointer\"},tooltip:{field:\"name*percent\",callback:function(t,e){return{name:t,percent:function(t){var e=1,a=0;t*=100;while(t<e&&a<3)e/=10,a++;return t<e&&(t=e),(a<=0?Math.floor(t):t.toFixed(a))+\"%\"}(e)}}}}]}}};function h(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function p(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?h(Object(a),!0).forEach((function(e){Object(i[\"a\"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var f={name:\"MultiLine\",mixins:[l[\"a\"]],props:{data:{type:Array,default:function(){return[]}},dataItem:{type:Function,default:function(t){return t}},dataItemKeyMap:{type:Object,default:function(){return{name:\"name\",key:\"key\",value:\"value\",x:\"date\"}}},total:{type:[Number,String],default:0},unitBack:{type:Boolean,default:!1},unit:{type:String,default:\"¥\"},totalName:{type:String,default:\"\"},tooltipId:{type:String,default:\"\"},tooltipMap:{type:Object,default:function(){}},fields:{type:[Boolean,Array],default:function(){return[]}},fieldKey:{type:String,default:\"key\"},colors:{type:Array,default:function(){return[\"#3F66F6\",\"#798AFF\",\"#06DB8C\",\"#77FF74\",\"#B8F10F\",\"#FFE679\",\"#FFB946\",\"#FF6466\",\"#C87FFF\",\"#484F83\"]}},colorIsQueue:{type:Boolean,default:!1},colorMap:{type:[Object,Array,Boolean],default:!1},height:{type:Number,default:210},padding:{type:[Array,Number],default:function(){return[\"auto\",185,\"auto\",\"auto\"]}}},watch:{resize:function(){var t=this;this.$createElement;this.$nextTick((function(){var e=t.tooltipMap,a=function(t){e[t]&&new Vue({components:{StHelpTooltip:StHelpTooltip},render:function(a){return a(\"st-help-tooltip\",{attrs:{id:e[t]}})}}).$mount(\"#legend-\".concat(t))};for(var n in e)a(n);if(t.tooltipId){var r=t.$el.querySelector.bind(t.$el),i=new Vue({components:{StHelpTooltip:StHelpTooltip},render:function(e){return e(\"st-help-tooltip\",{attrs:{id:t.tooltipId}})}}).$mount();r(\"#guide-name-tooltip\".concat(t.tooltipId)).appendChild(i.$el)}}))}},data:function(){return{type:\"Ring\",dv:new s[\"View\"]}},computed:{dataSource:function(){return 0!=this.total&&this.total?[{key:0,name:\"empty\",value:0,percent:0}].concat(Object(o[\"a\"])(this.data)):[{key:0,name:\"empty\",value:1,percent:1}].concat(Object(o[\"a\"])(this.data))},$fieldsOpts:function(){var t=this,e=[],a=[],n={},r=this.dataSource;return r.map((function(r){e.push(r[t.fieldKey]),a.push(r.name),n[r[t.fieldKey]]=r.name})),this.fields.length&&(e=[].concat(Object(o[\"a\"])(this.fields),Object(o[\"a\"])(e))),e=Object(o[\"a\"])(new Set(e)),a=Object(o[\"a\"])(new Set(a)),{colorMap:this.colorMap,fieldsKey:e,fieldsName:a,fieldsObj:n}},$colorMap:function(){return Object(u[\"b\"])(this.$fieldsOpts,this.colors,this.colorIsQueue)},opt$:function(){var t=this.$attrs,e=t.legend,a=void 0===e?{}:e,n=t.guide,r=void 0===n?{}:n;return{legend:p({position:\"right-center\",layout:\"line\"},a),guide:p({layout:\"\"},r)}}},methods:{initDv:function(){var t=this;this.dv.source(this.dataSource),this.dv.transform({type:\"map\",callback:function(e,a){for(var n in t.dataItemKeyMap){var r=e[t.dataItemKeyMap[n]];r&&(e[n]=r)}return e.$idx=a,e.value=+(e.value||0),t.dataItem?t.dataItem(e):e}}).transform({type:\"percent\",field:\"value\",dimension:\"name\",as:\"percent\"})},renderChart:function(){this.chart=new c[\"Chart\"](p({},this.opts,{container:this.$el,data:this.dv,forceFit:!0,height:this.height,padding:[\"auto\",185,\"auto\",\"auto\"]})),this.isEmpty&&(this.chart.tooltip(!1),this.chart.legend(\"name\",!1)),this.chart.render(),this.chartEvent()},getChartConfig:function(){return d(this)},changeData:function(){this.chart.destroy(),this.renderChart()},valFormat:function(t){return Number((+t).toFixed(1)).toLocaleString()},resetTotal:function(){var t=this.$el.querySelector.bind(this.$el);t(\".guide-value\").textContent=this.valFormat(this.total)||0,t(\".guide-name-tooltip\").setAttribute(\"style\",this.tooltipId?\"display: inline\":\"display: none\"),t(\".guide-name-text\").textContent=this.totalName},setUnit:function(t){var e=this.$el.querySelector.bind(this.$el);if(\"empty\"!==t.data._origin.name){var a=t.data._origin;t.shapes,t.geom;e(\".guide-value\").textContent=this.valFormat(a.value),e(\".guide-name-text\").textContent=a.name,e(\".guide-name-tooltip\").setAttribute(\"style\",\"display: none\")}else e(\".g2-tooltip\").setAttribute(\"style\",\"display: none\")},chartEvent:function(){var t=this;this.chart.on(\"interval:mouseenter\",(function(e){var a=e.shape,n=e.data._origin;\"empty\"===n.name&&t.chart.getAllGeoms()[0].clearActivedShapes(a),t.setUnit(e)})),this.chart.on(\"interval:mouseleave\",(function(e){t.resetTotal()}))}}},m=f,g=a(\"2877\"),b=Object(g[\"a\"])(m,n,r,!1,null,null,null);e[\"a\"]=b.exports}}]);","extractedComments":[]}