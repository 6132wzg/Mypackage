{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/pages/shop/stat/orders/gather.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/pages/shop/stat/orders/gather.vue","mtime":1600926556552},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"/Users/wangzhigang/Desktop/styd/web/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport StTotal from '@/views/components/total#/total.vue';\nimport StTotalItem from '@/views/components/total#/total-item.vue';\nimport StatDetailListModal from '@/views/biz-modals/stat/order-detail';\nimport { GatherService } from \"./gather.service\";\nimport tableMixin from '@/mixins/table.mixin';\nimport { columns, totalColumns } from \"./gather.config\";\nimport moment from 'moment';\nexport default {\n  name: 'ShopStatOrdersGather',\n  mixins: [tableMixin],\n  modals: {\n    StatDetailListModal: StatDetailListModal\n  },\n  serviceInject: function serviceInject() {\n    return {\n      gatherService: GatherService\n    };\n  },\n  rxState: function rxState() {\n    var _this$gatherService = this.gatherService,\n        list$ = _this$gatherService.list$,\n        transferType$ = _this$gatherService.transferType$,\n        total$ = _this$gatherService.total$,\n        rowSpanMap$ = _this$gatherService.rowSpanMap$,\n        auth$ = _this$gatherService.auth$,\n        loading$ = _this$gatherService.loading$;\n    return {\n      list: list$,\n      transferType: transferType$,\n      total: total$,\n      rowSpanMap: rowSpanMap$,\n      auth: auth$,\n      loading: loading$\n    };\n  },\n  bem: {\n    b: 'page-shop-stat-orders-gather',\n    bHeader: 'page-brand-stat-header'\n  },\n  data: function data() {\n    return {};\n  },\n  computed: {\n    columns: columns,\n    totalColumns: totalColumns\n  },\n  created: function created() {},\n  methods: {\n    moment: moment,\n    onChangeDataDays: function onChangeDataDays(event) {\n      this.$searchQuery.day = event.recently_day || undefined;\n      this.$searchQuery.start_date = event.start_date || undefined;\n      this.$searchQuery.end_date = event.end_date || undefined;\n      this.onSearch();\n    },\n    showOrdersModal: function showOrdersModal(item, status, type) {\n      var query = type === 'table' ? {\n        product_type: item.product_type,\n        transfer_type: item.transfer_type\n      } : {};\n      this.$modalRouter.push({\n        name: 'stat-detail-list-modal',\n        props: {\n          query: _objectSpread({}, this.$searchQuery, {\n            order_status: status\n          }, query),\n          title: '订单明细',\n          type: 'shop-orders-gather'\n        }\n      });\n    }\n  },\n  components: {\n    StTotal: StTotal,\n    StTotalItem: StTotalItem\n  }\n};",{"version":3,"sources":["gather.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiKA,OAAA,OAAA,MAAA,qCAAA;AACA,OAAA,WAAA,MAAA,0CAAA;AACA,OAAA,mBAAA,MAAA,sCAAA;AAEA,SAAA,aAAA;AACA,OAAA,UAAA,MAAA,sBAAA;AACA,SAAA,OAAA,EAAA,YAAA;AACA,OAAA,MAAA,MAAA,QAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,sBADA;AAEA,EAAA,MAAA,EAAA,CAAA,UAAA,CAFA;AAGA,EAAA,MAAA,EAAA;AACA,IAAA,mBAAA,EAAA;AADA,GAHA;AAMA,EAAA,aANA,2BAMA;AACA,WAAA;AACA,MAAA,aAAA,EAAA;AADA,KAAA;AAGA,GAVA;AAWA,EAAA,OAXA,qBAWA;AAAA,8BAQA,KAAA,aARA;AAAA,QAEA,KAFA,uBAEA,KAFA;AAAA,QAGA,aAHA,uBAGA,aAHA;AAAA,QAIA,MAJA,uBAIA,MAJA;AAAA,QAKA,WALA,uBAKA,WALA;AAAA,QAMA,KANA,uBAMA,KANA;AAAA,QAOA,QAPA,uBAOA,QAPA;AASA,WAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,YAAA,EAAA,aAFA;AAGA,MAAA,KAAA,EAAA,MAHA;AAIA,MAAA,UAAA,EAAA,WAJA;AAKA,MAAA,IAAA,EAAA,KALA;AAMA,MAAA,OAAA,EAAA;AANA,KAAA;AAQA,GA5BA;AA6BA,EAAA,GAAA,EAAA;AACA,IAAA,CAAA,EAAA,8BADA;AAEA,IAAA,OAAA,EAAA;AAFA,GA7BA;AAiCA,EAAA,IAjCA,kBAiCA;AACA,WAAA,EAAA;AACA,GAnCA;AAoCA,EAAA,QAAA,EAAA;AACA,IAAA,OAAA,EAAA,OADA;AAEA,IAAA,YAAA,EAAA;AAFA,GApCA;AAyCA,EAAA,OAzCA,qBAyCA,CAAA,CAzCA;AA2CA,EAAA,OAAA,EAAA;AACA,IAAA,MAAA,EAAA,MADA;AAEA,IAAA,gBAFA,4BAEA,KAFA,EAEA;AACA,WAAA,YAAA,CAAA,GAAA,GAAA,KAAA,CAAA,YAAA,IAAA,SAAA;AACA,WAAA,YAAA,CAAA,UAAA,GAAA,KAAA,CAAA,UAAA,IAAA,SAAA;AACA,WAAA,YAAA,CAAA,QAAA,GAAA,KAAA,CAAA,QAAA,IAAA,SAAA;AACA,WAAA,QAAA;AACA,KAPA;AAQA,IAAA,eARA,2BAQA,IARA,EAQA,MARA,EAQA,IARA,EAQA;AACA,UAAA,KAAA,GACA,IAAA,KAAA,OAAA,GACA;AACA,QAAA,YAAA,EAAA,IAAA,CAAA,YADA;AAEA,QAAA,aAAA,EAAA,IAAA,CAAA;AAFA,OADA,GAKA,EANA;AAOA,WAAA,YAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,EAAA,wBADA;AAEA,QAAA,KAAA,EAAA;AACA,UAAA,KAAA,oBACA,KAAA,YADA;AAEA,YAAA,YAAA,EAAA;AAFA,aAGA,KAHA,CADA;AAMA,UAAA,KAAA,EAAA,MANA;AAOA,UAAA,IAAA,EAAA;AAPA;AAFA,OAAA;AAYA;AA5BA,GA3CA;AAyEA,EAAA,UAAA,EAAA;AACA,IAAA,OAAA,EAAA,OADA;AAEA,IAAA,WAAA,EAAA;AAFA;AAzEA,CAAA","sourcesContent":["<template>\n  <div :class=\"b()\">\n    <div :class=\"b('section')\">\n      <header :class=\"bHeader('header')\" class=\"mg-t16\">\n        <div :class=\"bHeader('button-wapper')\">\n          <st-button\n            type=\"primary\"\n            v-if=\"auth.export\"\n            v-export-excel=\"{\n              type: 'shop/order_collect_export',\n              query: $searchQuery\n            }\"\n          >\n            全部导出\n          </st-button>\n        </div>\n        <div :class=\"bHeader('actions')\">\n          <st-recent-radio-group\n            @change=\"onChangeDataDays\"\n            :value=\"$searchQuery\"\n          ></st-recent-radio-group>\n        </div>\n      </header>\n      <st-total\n        :class=\"b('total')\"\n        :indexs=\"totalColumns\"\n        :dataSource=\"total\"\n        slidesPerView=\"auto\"\n        hasTitle\n      >\n        <a\n          slot=\"order_num\"\n          slot-scope=\"item\"\n          @click=\"showOrdersModal(item, -1)\"\n        >\n          <st-total-item\n            :unit=\"item.unit\"\n            :label=\"item.label\"\n            :value=\"item.value\"\n          ></st-total-item>\n        </a>\n        <a\n          slot=\"order_completed_num\"\n          slot-scope=\"item\"\n          @click=\"showOrdersModal(item, 2)\"\n        >\n          <st-total-item\n            :unit=\"item.unit\"\n            :label=\"item.label\"\n            :value=\"item.value\"\n          ></st-total-item>\n        </a>\n        <a\n          slot=\"order_uncompleted_num\"\n          slot-scope=\"item\"\n          @click=\"showOrdersModal(item, 1)\"\n        >\n          <st-total-item\n            :unit=\"item.unit\"\n            :label=\"item.label\"\n            :value=\"item.value\"\n          ></st-total-item>\n        </a>\n        <a\n          slot=\"order_refund_num\"\n          slot-scope=\"item\"\n          @click=\"showOrdersModal(item, 4)\"\n        >\n          <st-total-item\n            :unit=\"item.unit\"\n            :label=\"item.label\"\n            :value=\"item.value\"\n          ></st-total-item>\n        </a>\n        <a\n          slot=\"order_cancel_num\"\n          slot-scope=\"item\"\n          @click=\"showOrdersModal(item, 3)\"\n        >\n          <st-total-item\n            :unit=\"item.unit\"\n            :label=\"item.label\"\n            :value=\"item.value\"\n          ></st-total-item>\n        </a>\n        <a\n          slot=\"order_part_refund_num\"\n          slot-scope=\"item\"\n          @click=\"showOrdersModal(item, 5)\"\n        >\n          <st-total-item\n            :unit=\"item.unit\"\n            :label=\"item.label\"\n            :value=\"item.value\"\n          ></st-total-item>\n        </a>\n      </st-total>\n      <st-table\n        class=\"mg-t16\"\n        :rowKey=\"(record, index) => index\"\n        :loading=\"loading.getList\"\n        :columns=\"columns\"\n        :scroll=\"{ x: 1400 }\"\n        @change=\"onTableChange\"\n        :dataSource=\"list\"\n        :stripe=\"false\"\n        :rowSpanKey=\"[\n          { key: 'transfer_type', formatter: value => transferType[value] }\n        ]\"\n      >\n        <span slot=\"product_type\" slot-scope=\"text\">\n          {{ text | enumFilter('report.revenue_product_type') }}\n        </span>\n        <a\n          slot=\"order_num\"\n          slot-scope=\"text, record\"\n          @click=\"showOrdersModal(record, -1, 'table')\"\n        >\n          {{ text }}\n        </a>\n        <a\n          slot=\"order_completed_num\"\n          slot-scope=\"text, record\"\n          @click=\"showOrdersModal(record, 2, 'table')\"\n        >\n          {{ text }}\n        </a>\n        <a\n          slot=\"order_uncompleted_num\"\n          slot-scope=\"text, record\"\n          @click=\"showOrdersModal(record, 1, 'table')\"\n        >\n          {{ text }}\n        </a>\n        <a\n          slot=\"order_refund_num\"\n          slot-scope=\"text, record\"\n          @click=\"showOrdersModal(record, 4, 'table')\"\n        >\n          {{ text }}\n        </a>\n        <a\n          slot=\"order_cancel_num\"\n          slot-scope=\"text, record\"\n          @click=\"showOrdersModal(record, 3, 'table')\"\n        >\n          {{ text }}\n        </a>\n        <a\n          slot=\"order_part_refund_num\"\n          slot-scope=\"text, record\"\n          @click=\"showOrdersModal(record, 5, 'table')\"\n        >\n          {{ text }}\n        </a>\n      </st-table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport StTotal from '@/views/components/total#/total.vue'\nimport StTotalItem from '@/views/components/total#/total-item.vue'\nimport StatDetailListModal from '@/views/biz-modals/stat/order-detail'\n\nimport { GatherService } from './gather.service'\nimport tableMixin from '@/mixins/table.mixin'\nimport { columns, totalColumns } from './gather.config'\nimport moment from 'moment'\n\nexport default {\n  name: 'ShopStatOrdersGather',\n  mixins: [tableMixin],\n  modals: {\n    StatDetailListModal\n  },\n  serviceInject() {\n    return {\n      gatherService: GatherService\n    }\n  },\n  rxState() {\n    const {\n      list$,\n      transferType$,\n      total$,\n      rowSpanMap$,\n      auth$,\n      loading$\n    } = this.gatherService\n    return {\n      list: list$,\n      transferType: transferType$,\n      total: total$,\n      rowSpanMap: rowSpanMap$,\n      auth: auth$,\n      loading: loading$\n    }\n  },\n  bem: {\n    b: 'page-shop-stat-orders-gather',\n    bHeader: 'page-brand-stat-header'\n  },\n  data() {\n    return {}\n  },\n  computed: {\n    columns,\n    totalColumns\n  },\n\n  created() {},\n\n  methods: {\n    moment,\n    onChangeDataDays(event) {\n      this.$searchQuery.day = event.recently_day || undefined\n      this.$searchQuery.start_date = event.start_date || undefined\n      this.$searchQuery.end_date = event.end_date || undefined\n      this.onSearch()\n    },\n    showOrdersModal(item, status, type) {\n      const query =\n        type === 'table'\n          ? {\n              product_type: item.product_type,\n              transfer_type: item.transfer_type\n            }\n          : {}\n      this.$modalRouter.push({\n        name: 'stat-detail-list-modal',\n        props: {\n          query: {\n            ...this.$searchQuery,\n            order_status: status,\n            ...query\n          },\n          title: '订单明细',\n          type: 'shop-orders-gather'\n        }\n      })\n    }\n  },\n  components: {\n    StTotal,\n    StTotalItem\n  }\n}\n</script>\n"],"sourceRoot":"src/views/pages/shop/stat/orders"}]}