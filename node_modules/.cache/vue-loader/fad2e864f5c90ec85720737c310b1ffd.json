{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/pages/shop/sold/transaction/store.vue?vue&type=template&id=fafe2ab2&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/pages/shop/sold/transaction/store.vue","mtime":1597396800005},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":1591062572376},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["\n<st-panel :class=\"basic()\" :loading=\"loading.getStoreProductList\">\n  <st-mina-panel app>\n    <div slot=\"actions\" :class=\"basic('footer')\">\n      <div :class=\"basic('footer-page')\">\n        <st-pagination :page=\"productPage\" @change=\"onChange\" class=\"mg-t8\" />\n      </div>\n      <div :class=\"basic('footer-action')\">\n        <div class=\"price\">\n          <span>共{{ buyCar.length }}件商品 合计：</span>\n          <span class=\"money font-number\">&yen; {{ currentPrice }}</span>\n        </div>\n        <div class=\"button\">\n          <st-button @click=\"onCreateOrder\" :loading=\"loading.createOrder\">\n            创建订单\n          </st-button>\n          <st-button\n            type=\"primary\"\n            class=\"mg-l16\"\n            @click=\"onPayOrder(null)\"\n            :loading=\"loading.createOrderPay\"\n          >\n            立即支付\n          </st-button>\n        </div>\n      </div>\n    </div>\n    <div :class=\"basic('list')\">\n      <div :class=\"basic('head')\">\n        <p :class=\"basic('title')\">查看商品</p>\n        <st-input-search\n          style=\"width: 291px\"\n          v-model=\"$searchQuery.product_name\"\n          @search=\"onKeywordsSearch('product_name', $event)\"\n          placeholder=\"请输入商品名查找\"\n          :class=\"basic('search')\"\n        />\n      </div>\n      <ul :class=\"basic('product')\" v-if=\"storeProductList.length\">\n        <li v-for=\"(item, index) in storeProductList\" :key=\"index\">\n          <img\n            :class=\"basic('product-img')\"\n            v-if=\"item.isError\"\n            :src=\"defaultImg\"\n            alt=\"\"\n          />\n          <img\n            v-else\n            :class=\"basic('product-img')\"\n            :src=\"item.img | imgFilter({ w: 194, h: 172 })\"\n            @error=\"productImg(index)\"\n            alt=\"\"\n          />\n          <div :class=\"basic('product-name')\">\n            <span>{{ item.product_name }}</span>\n          </div>\n          <div :class=\"basic('product-price')\">\n            <span class=\"font-number\">\n              {{ item.price }}\n            </span>\n            <span>库存:{{ item.count }}件</span>\n          </div>\n          <div class=\"product-mask\" @click=\"onSku(item.id)\">\n            <img src=\"@/assets/img/icon-buy-car.png\" alt=\"\" />\n            <p>新增至购物车</p>\n          </div>\n        </li>\n      </ul>\n      <st-no-data v-else></st-no-data>\n    </div>\n    <div :class=\"basic('buycar')\">\n      <p class=\"title\">购物车</p>\n      <div>\n        <st-form :form=\"form\" labelWidth=\"66px\">\n          <st-form-item :class=\"basic('padding')\">\n            <st-table\n              :class=\"basic('table')\"\n              rowKey=\"sku_id\"\n              :pagination=\"false\"\n              :columns=\"columns\"\n              :scroll=\"{ y: 320 }\"\n              :dataSource=\"buyCar\"\n            >\n              <template slot=\"product_name\" slot-scope=\"customRender, record\">\n                <div>\n                  {{ record.product_name }}\n                  <span v-if=\"record.rule_name\">\n                    ({{ record.rule_name }})\n                  </span>\n                </div>\n              </template>\n              <template slot=\"stock_amount\" slot-scope=\"customRender, record\">\n                <a-input-number\n                  :min=\"1\"\n                  :max=\"record.stock_amount\"\n                  @change=\"onSelectProductChange\"\n                  v-model=\"record.nums\"\n                />\n              </template>\n              <template slot=\"priceSum\" slot-scope=\"customRender, record\">\n                {{ (record.nums * record.unit_price).toFixed(1) }}\n              </template>\n              <template\n                slot=\"action\"\n                slot-scope=\"customRender, record, index\"\n              >\n                <st-table-actions sytle=\"width: 120px\">\n                  <a @click=\"onDelBuyCar(index)\">\n                    删除\n                  </a>\n                </st-table-actions>\n              </template>\n            </st-table>\n            <div\n              :class=\"basic('all-price')\"\n              class=\"font-number\"\n              v-if=\"buyCar.length\"\n            >\n              总额：&yen; {{ actualAmount }}\n            </div>\n          </st-form-item>\n          <st-form-item :class=\"basic('padding')\">\n            <div class=\"divider-line\"></div>\n          </st-form-item>\n          <st-form-item label=\"购买会员\" required>\n            <a-select\n              showSearch\n              allowClear\n              placeholder=\"输入手机号或会员名搜索\"\n              :defaultActiveFirstOption=\"false\"\n              :showArrow=\"false\"\n              :filterOption=\"false\"\n              v-decorator=\"decorators.memberId\"\n              @search=\"onMemberSearch\"\n              @change=\"onMemberChange\"\n              @blur=\"onMemberBlur\"\n            >\n              <template\n                slot=\"notFoundContent\"\n                v-if=\"!memberList.length && memberSearchText !== ''\"\n              >\n                <div>\n                  暂无此会员，\n                  <span :class=\"basic('add-member')\" @click=\"addMember\">\n                    新增新会员？\n                  </span>\n                </div>\n              </template>\n              <a-select-option\n                v-for=\"(item, index) in memberList\"\n                :value=\"item.id\"\n                :key=\"index\"\n              >\n                <span\n                  v-html=\"\n                    `${item.member_name} ${item.mobile}`.replace(\n                      new RegExp(memberSearchText, 'g'),\n                      `\\<span class='global-highlight-color'\\>${memberSearchText}\\<\\/span\\>`\n                    )\n                  \"\n                >\n                  {{ item.member_name }} {{ item.mobile }}\n                </span>\n              </a-select-option>\n            </a-select>\n          </st-form-item>\n          <st-form-item :class=\"basic('discounts')\" label=\"优惠券\">\n            <div>\n              <div :class=\"basic('discounts-total')\">\n                <span>{{ couponText }}</span>\n                <a-dropdown\n                  v-model=\"couponDropdownVisible\"\n                  :disabled=\"couponList.length === 0\"\n                  :class=\"basic({ disabled: couponList.length === 0 })\"\n                  placement=\"bottomRight\"\n                  :getPopupContainer=\"trigger => trigger.parentNode\"\n                  :trigger=\"['click']\"\n                >\n                  <div :class=\"basic('discounts-promotion')\">\n                    <span>{{ couponList.length }}张可用优惠券</span>\n                    <a-icon type=\"right\" />\n                  </div>\n                  <a-radio-group\n                    v-model=\"selectCoupon\"\n                    @change=\"onSelectCouponChange\"\n                    :class=\"basic('dropdown')\"\n                    slot=\"overlay\"\n                  >\n                    <a-menu>\n                      <a-menu-item\n                        @click=\"onSelectCoupon\"\n                        :key=\"index\"\n                        v-for=\"(item, index) in couponList\"\n                      >\n                        <a-radio :value=\"item\">\n                          {{ item.name }}{{ item.price }}\n                        </a-radio>\n                      </a-menu-item>\n                    </a-menu>\n                  </a-radio-group>\n                </a-dropdown>\n              </div>\n            </div>\n          </st-form-item>\n          <st-form-item label=\"减免\">\n            <st-input-number\n              :float=\"true\"\n              @input=\"getPrice(0)\"\n              v-model=\"reducePrice\"\n              maxlength=\"12\"\n              placeholder=\"请输入减免金额\"\n            >\n              <span slot=\"addonAfter\">元</span>\n            </st-input-number>\n          </st-form-item>\n          <st-form-item label=\"销售\">\n            <a-select\n              v-decorator=\"decorators.saleName\"\n              placeholder=\"请选择销售名字\"\n            >\n              <a-select-option\n                v-for=\"(item, index) in saleList\"\n                :key=\"index\"\n                :value=\"item.id\"\n              >\n                {{ item.staff_name }}\n              </a-select-option>\n            </a-select>\n          </st-form-item>\n          <st-form-item label=\"备注\">\n            <a-textarea\n              v-model=\"description\"\n              maxlength=\"200\"\n              placeholder=\"请填写备注\"\n              class=\"st-textarea\"\n            ></a-textarea>\n          </st-form-item>\n        </st-form>\n      </div>\n    </div>\n  </st-mina-panel>\n</st-panel>\n",null]}