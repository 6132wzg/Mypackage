{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/thread-loader/dist/cjs.js!/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/node_modules/ts-loader/index.js??ref--13-3!/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/setting/mina/components#/h5/h5-wrapper.service.ts","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/setting/mina/components#/h5/h5-wrapper.service.ts","mtime":1597895242216},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/thread-loader/dist/cjs.js","mtime":1591062572352},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/ts-loader/index.js","mtime":1591062571609}],"contextDependencies":[],"result":["import _classCallCheck from \"/Users/wangzhigang/Desktop/styd/web/node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wangzhigang/Desktop/styd/web/node_modules/@babel/runtime-corejs2/helpers/esm/createClass\";\n\nvar _a, _b, _c, _d, _e;\n\nimport { __decorate, __metadata } from \"tslib\";\nimport { Injectable } from 'vue-service-app';\nimport { SettingMinaApi, SaveForm, Menus, ReserveTabs } from '@/api/v1/setting/mina';\nimport { tap } from 'rxjs/operators';\nimport { State, Effect } from 'rx-state/src';\nimport { isArray } from 'lodash-es';\nimport { forkJoin } from 'rxjs';\n\nvar H5WrapperService = /*#__PURE__*/function () {\n  function H5WrapperService(settingMinaApi) {\n    _classCallCheck(this, H5WrapperService);\n\n    this.settingMinaApi = settingMinaApi;\n    this.actionInfo$ = new State([]); // 功能菜单\n\n    this.checkedInfo$ = new State([]); // 勾选菜单\n\n    this.coach$ = new State([]); // 教练风采\n\n    this.coachInfo$ = new State([]); // 教练风采详情\n\n    this.courseInfo$ = new State([]); // 推荐课程\n\n    this.sliderInfo$ = new State([]); // 首页图片\n\n    this.eventInfo$ = new State([]); // 营销活动\n\n    this.menuInfo$ = new State([]); // 导航菜单\n\n    this.reserveInfo$ = new State([]); // 课程预约\n\n    this.reserveCheckInfo$ = new State([]); //课程预约勾选\n\n    this.loading$ = new State({});\n  }\n\n  _createClass(H5WrapperService, [{\n    key: \"SET_H5INFO\",\n    value: function SET_H5INFO(data, index) {\n      index === 1 && this.sliderInfo$.commit(function () {\n        return data;\n      });\n      index === 2 && this.actionInfo$.commit(function () {\n        return data;\n      });\n      index === 3 && this.eventInfo$.commit(function () {\n        return data;\n      });\n      index === 7 && this.coachInfo$.commit(function () {\n        return data;\n      });\n      index === 5 && this.courseInfo$.commit(function () {\n        return data;\n      });\n      index === 9 && this.menuInfo$.commit(function () {\n        return data;\n      });\n      index === 4 && this.coach$.commit(function () {\n        return data;\n      });\n      index === 8 && this.checkedInfo$.commit(function () {\n        return data;\n      });\n      index === 6 && this.reserveInfo$.commit(function () {\n        return data;\n      });\n      index === 10 && this.reserveCheckInfo$.commit(function () {\n        return data;\n      });\n    }\n  }, {\n    key: \"getH5Info\",\n    value: function getH5Info(params) {\n      var _this = this;\n\n      return this.settingMinaApi.getH5Info(params).pipe(tap(function (res) {\n        _this.SET_H5INFO(res.content, params.category);\n      }));\n    }\n  }, {\n    key: \"getCoachInfo\",\n    value: function getCoachInfo(params) {\n      var _this2 = this;\n\n      return this.settingMinaApi.getCoachInfo(params).pipe(tap(function (res) {\n        res = isArray(res) ? res : [];\n\n        _this2.SET_H5INFO(res, 7);\n      }));\n    }\n  }, {\n    key: \"getMenu\",\n    value: function getMenu() {\n      var _this3 = this;\n\n      return this.settingMinaApi.getMenu().pipe(tap(function (res) {\n        _this3.SET_H5INFO(res, 9);\n      }));\n    }\n  }, {\n    key: \"saveMenu\",\n    value: function saveMenu(params) {\n      return this.settingMinaApi.saveMenu(params);\n    }\n  }, {\n    key: \"saveReserve\",\n    value: function saveReserve(params) {\n      return this.settingMinaApi.saveReserve(params);\n    }\n  }, {\n    key: \"save\",\n    value: function save(params) {\n      return this.settingMinaApi.save(params);\n    }\n  }, {\n    key: \"saveAll\",\n    value: function saveAll(p1, p2, p3) {\n      return forkJoin(this.saveMenu(p1), this.save(p2), this.saveReserve(p3));\n    }\n  }]);\n\n  return H5WrapperService;\n}();\n\n__decorate([Effect(), __metadata(\"design:type\", Function), __metadata(\"design:paramtypes\", [typeof (_a = typeof SaveForm !== \"undefined\" && SaveForm) === \"function\" ? _a : Object]), __metadata(\"design:returntype\", void 0)], H5WrapperService.prototype, \"save\", null);\n\n__decorate([Effect(), __metadata(\"design:type\", Function), __metadata(\"design:paramtypes\", [typeof (_b = typeof Menus !== \"undefined\" && Menus) === \"function\" ? _b : Object, typeof (_c = typeof SaveForm !== \"undefined\" && SaveForm) === \"function\" ? _c : Object, typeof (_d = typeof ReserveTabs !== \"undefined\" && ReserveTabs) === \"function\" ? _d : Object]), __metadata(\"design:returntype\", void 0)], H5WrapperService.prototype, \"saveAll\", null);\n\nH5WrapperService = __decorate([Injectable(), __metadata(\"design:paramtypes\", [typeof (_e = typeof SettingMinaApi !== \"undefined\" && SettingMinaApi) === \"function\" ? _e : Object])], H5WrapperService);\nexport { H5WrapperService };",null]}