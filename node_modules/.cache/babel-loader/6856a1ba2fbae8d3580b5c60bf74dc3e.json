{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/pages/shop/reception/cabinet.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/pages/shop/reception/cabinet.vue","mtime":1601345845269},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["import _defineProperty from \"/Users/wangzhigang/Desktop/styd/web/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { MessageService } from '@/services/message.service';\nimport { CabinetService } from \"./cabinet.service\";\nimport CabinetArea from '@/views/biz-components/shop/cabinet/area';\nimport CabinetList from '@/views/biz-components/shop/cabinet/list';\nexport default {\n  bem: {\n    b: 'page-setting-cabinet'\n  },\n  data: function data() {\n    return {\n      currentArea: {}\n    };\n  },\n  serviceInject: function serviceInject() {\n    return {\n      cabinetService: CabinetService\n    };\n  },\n  rxState: function rxState() {\n    return {\n      list: this.cabinetService.list$,\n      page: this.cabinetService.page$,\n      loading: this.cabinetService.loading$\n    };\n  },\n  components: {\n    CabinetList: CabinetList,\n    CabinetArea: CabinetArea\n  },\n  computed: {\n    type: function type() {\n      return this.$searchQuery.type;\n    },\n    areaName: function areaName() {\n      return this.currentArea.area_name;\n    }\n  },\n  methods: {\n    onCabinetTabChange: function onCabinetTabChange(key) {\n      this.singleCabinetSearch('type', key);\n    },\n    onChangeCurrentArea: function onChangeCurrentArea(area) {\n      this.currentArea = area;\n      this.singleCabinetSearch('id', area.id);\n    },\n    singleCabinetSearch: function singleCabinetSearch(key, data) {\n      var _query;\n\n      this.$refs.cabinetList.onSelectionReset();\n      this.$router.push({\n        query: (_query = {}, _defineProperty(_query, key, data), _defineProperty(_query, \"id\", this.currentArea.id), _query)\n      });\n    },\n    onCabinetKeywordsSearch: function onCabinetKeywordsSearch(keywords) {\n      this.$searchQuery.keywords = keywords;\n      this.onCabinetReload();\n    },\n    onCabinetReload: function onCabinetReload() {\n      this.$refs.cabinetList.onSelectionReset();\n      this.$router.push({\n        query: this.$searchQuery\n      });\n    }\n  }\n};",{"version":3,"sources":["cabinet.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA,SAAA,cAAA,QAAA,4BAAA;AACA,SAAA,cAAA;AACA,OAAA,WAAA,MAAA,0CAAA;AACA,OAAA,WAAA,MAAA,0CAAA;AACA,eAAA;AACA,EAAA,GAAA,EAAA;AACA,IAAA,CAAA,EAAA;AADA,GADA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,WAAA,EAAA;AADA,KAAA;AAGA,GARA;AASA,EAAA,aATA,2BASA;AACA,WAAA;AACA,MAAA,cAAA,EAAA;AADA,KAAA;AAGA,GAbA;AAcA,EAAA,OAdA,qBAcA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,KAAA,cAAA,CAAA,KADA;AAEA,MAAA,IAAA,EAAA,KAAA,cAAA,CAAA,KAFA;AAGA,MAAA,OAAA,EAAA,KAAA,cAAA,CAAA;AAHA,KAAA;AAKA,GApBA;AAqBA,EAAA,UAAA,EAAA;AACA,IAAA,WAAA,EAAA,WADA;AAEA,IAAA,WAAA,EAAA;AAFA,GArBA;AAyBA,EAAA,QAAA,EAAA;AACA,IAAA,IADA,kBACA;AACA,aAAA,KAAA,YAAA,CAAA,IAAA;AACA,KAHA;AAIA,IAAA,QAJA,sBAIA;AACA,aAAA,KAAA,WAAA,CAAA,SAAA;AACA;AANA,GAzBA;AAiCA,EAAA,OAAA,EAAA;AACA,IAAA,kBADA,8BACA,GADA,EACA;AACA,WAAA,mBAAA,CAAA,MAAA,EAAA,GAAA;AACA,KAHA;AAIA,IAAA,mBAJA,+BAIA,IAJA,EAIA;AACA,WAAA,WAAA,GAAA,IAAA;AACA,WAAA,mBAAA,CAAA,IAAA,EAAA,IAAA,CAAA,EAAA;AACA,KAPA;AAQA,IAAA,mBARA,+BAQA,GARA,EAQA,IARA,EAQA;AAAA;;AACA,WAAA,KAAA,CAAA,WAAA,CAAA,gBAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,KAAA,wCACA,GADA,EACA,IADA,iCAEA,KAAA,WAAA,CAAA,EAFA;AADA,OAAA;AAMA,KAhBA;AAiBA,IAAA,uBAjBA,mCAiBA,QAjBA,EAiBA;AACA,WAAA,YAAA,CAAA,QAAA,GAAA,QAAA;AACA,WAAA,eAAA;AACA,KApBA;AAqBA,IAAA,eArBA,6BAqBA;AACA,WAAA,KAAA,CAAA,WAAA,CAAA,gBAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,KAAA,EAAA,KAAA;AADA,OAAA;AAGA;AA1BA;AAjCA,CAAA","sourcesContent":["<template>\n  <div :class=\"b()\">\n    <cabinet-area\n      :class=\"b('nav')\"\n      v-model=\"$searchQuery.id\"\n      @changeCurrentArea=\"onChangeCurrentArea\"\n    ></cabinet-area>\n    <st-panel :class=\"b('content')\">\n      <div slot=\"prepend\" class=\"page-setting-cabinet-tab\">\n        <a-tabs\n          v-model=\"$searchQuery.type\"\n          class=\"st-route-tabs\"\n          @change=\"onCabinetTabChange\"\n        >\n          <a-tab-pane\n            :tab=\"`临时储物柜(${currentArea.temporary_num || 0})`\"\n            key=\"temporary\"\n          ></a-tab-pane>\n          <a-tab-pane\n            :tab=\"`长期储物柜(${currentArea.long_term_num || 0})`\"\n            key=\"long-term\"\n          ></a-tab-pane>\n          <a-tab-pane tab=\"使用记录\" key=\"record\"></a-tab-pane>\n          <st-input-search\n            class=\"mg-r24\"\n            @search=\"onCabinetKeywordsSearch\"\n            v-model=\"$searchQuery.keywords\"\n            placeholder=\"搜索柜号、姓名、手机号及手牌信息\"\n            allowClear\n            slot=\"tabBarExtraContent\"\n          />\n        </a-tabs>\n      </div>\n      <cabinet-list\n        :loading=\"loading.getList\"\n        :list=\"list\"\n        :page=\"page\"\n        :areaName=\"areaName\"\n        ref=\"cabinetList\"\n        @refresh=\"onCabinetReload\"\n      ></cabinet-list>\n    </st-panel>\n  </div>\n</template>\n<script>\nimport { MessageService } from '@/services/message.service'\nimport { CabinetService } from './cabinet.service'\nimport CabinetArea from '@/views/biz-components/shop/cabinet/area'\nimport CabinetList from '@/views/biz-components/shop/cabinet/list'\nexport default {\n  bem: {\n    b: 'page-setting-cabinet'\n  },\n  data() {\n    return {\n      currentArea: {}\n    }\n  },\n  serviceInject() {\n    return {\n      cabinetService: CabinetService\n    }\n  },\n  rxState() {\n    return {\n      list: this.cabinetService.list$,\n      page: this.cabinetService.page$,\n      loading: this.cabinetService.loading$\n    }\n  },\n  components: {\n    CabinetList,\n    CabinetArea\n  },\n  computed: {\n    type() {\n      return this.$searchQuery.type\n    },\n    areaName() {\n      return this.currentArea.area_name\n    }\n  },\n  methods: {\n    onCabinetTabChange(key) {\n      this.singleCabinetSearch('type', key)\n    },\n    onChangeCurrentArea(area) {\n      this.currentArea = area\n      this.singleCabinetSearch('id', area.id)\n    },\n    singleCabinetSearch(key, data) {\n      this.$refs.cabinetList.onSelectionReset()\n      this.$router.push({\n        query: {\n          [key]: data,\n          id: this.currentArea.id\n        }\n      })\n    },\n    onCabinetKeywordsSearch(keywords) {\n      this.$searchQuery.keywords = keywords\n      this.onCabinetReload()\n    },\n    onCabinetReload() {\n      this.$refs.cabinetList.onSelectionReset()\n      this.$router.push({\n        query: this.$searchQuery\n      })\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/views/pages/shop/reception"}]}