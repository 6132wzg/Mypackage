{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/pages/shop/member/list/club.vue?vue&type=template&id=3d6be7d4&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/pages/shop/member/list/club.vue","mtime":1600926556369},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":1591062572376},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["\n<st-panel app class=\"shop-member-list\">\n  <div slot=\"title\">\n    <st-input-search\n      placeholder=\"输入手机号、姓名、卡号进行搜索\"\n      v-model=\"$searchQuery.keyword\"\n      @search=\"onKeywordsSearch('keyword', $event)\"\n    />\n  </div>\n  <div slot=\"prepend\">\n    <st-search-panel @search=\"onSearchNative\" @reset=\"onSearchReset\">\n      <st-search-panel-item label=\"用户级别:\">\n        <template slot=\"label\">\n          <st-help-tooltip id=\"TSUL006\" />\n        </template>\n        <a-cascader\n          changeOnSelect\n          v-model=\"member_level\"\n          placeholder=\"请选择用户级别\"\n          :fieldNames=\"{ label: 'name', value: 'id', children: 'children' }\"\n          :options=\"memberLevelOptions\"\n          @change=\"changeLevel\"\n        ></a-cascader>\n      </st-search-panel-item>\n      <st-search-panel-item label=\"用户标签：\">\n        <a-select\n          class=\"select\"\n          v-model=\"$searchQuery.tag_id\"\n          placeholder=\"请选择标签\"\n        >\n          <a-select-option\n            v-for=\"(item, index) in labelList\"\n            :key=\"index\"\n            :value=\"item.id\"\n          >\n            {{ item.tag_name }}\n          </a-select-option>\n        </a-select>\n      </st-search-panel-item>\n      <st-search-panel-item label=\"跟进状态：\">\n        <st-search-radio\n          v-model=\"$searchQuery.follow_status\"\n          :options=\"followStatus\"\n        />\n      </st-search-panel-item>\n      <st-search-panel-item label=\"是否购买私教课：\">\n        <st-search-radio\n          v-model=\"$searchQuery.buy_personal_course\"\n          :options=\"buyPersonalCourseList\"\n        />\n      </st-search-panel-item>\n      <div slot=\"more\">\n        <st-search-panel-item label=\"跟进销售：\">\n          <a-select\n            class=\"mg-r40 select\"\n            v-model=\"$searchQuery.follow_salesman_id\"\n            placeholder=\"请选择销售\"\n          >\n            <a-select-option\n              v-for=\"(item, index) in saleList\"\n              :key=\"index\"\n              :value=\"item.id\"\n            >\n              {{ item.sale_name }}\n            </a-select-option>\n          </a-select>\n        </st-search-panel-item>\n        <st-search-panel-item :label=\"`跟进${$c('coach')}：`\">\n          <a-select\n            class=\"select\"\n            v-model=\"$searchQuery.follow_coach_id\"\n            :placeholder=\"`请选择${$c('coach')}`\"\n          >\n            <a-select-option\n              v-for=\"(item, index) in coachList\"\n              :key=\"index\"\n              :value=\"item.id\"\n            >\n              {{ item.coach_name }}\n            </a-select-option>\n          </a-select>\n        </st-search-panel-item>\n        <st-search-panel-item label=\"客保情况：\">\n          <st-input-number\n            :min=\"0\"\n            :max=\"9999\"\n            :step=\"1\"\n            :precision=\"0\"\n            placeholder=\"输入天数\"\n            class=\"input\"\n            v-model=\"$searchQuery.saleman_protect_remain\"\n          />\n          天内销售客保到期\n          <st-input-number\n            :min=\"0\"\n            :max=\"9999\"\n            :step=\"1\"\n            :precision=\"0\"\n            placeholder=\"输入天数\"\n            class=\"input mg-l40\"\n            v-model=\"$searchQuery.coach_protect_remain\"\n          />\n          天内{{ $c('coach') }}客保到期\n        </st-search-panel-item>\n        <st-search-panel-item label=\"跟进次数：\">\n          <st-input-number\n            :min=\"0\"\n            :max=\"9999\"\n            :step=\"1\"\n            :precision=\"0\"\n            placeholder=\"0\"\n            class=\"input\"\n            v-model=\"$searchQuery.follow_min\"\n          />\n          -\n          <st-input-number\n            :min=\"0\"\n            :max=\"9999\"\n            :step=\"1\"\n            :precision=\"0\"\n            placeholder=\"9999\"\n            class=\"input\"\n            v-model=\"$searchQuery.follow_max\"\n          />\n        </st-search-panel-item>\n      </div>\n    </st-search-panel>\n  </div>\n  <div class=\"mg-t24 mg-b16\">\n    <st-button\n      type=\"primary\"\n      @click=\"addUser()\"\n      class=\"shop-member-list-button\"\n      v-if=\"auth.add\"\n      icon=\"add\"\n    >\n      新增用户\n    </st-button>\n    <st-button\n      type=\"primary\"\n      v-if=\"auth.export\"\n      class=\"shop-member-list-button\"\n      v-export-excel=\"{\n        type: 'club_member',\n        query: { conditions: conditions }\n      }\"\n    >\n      全部导出\n    </st-button>\n    <!-- NOTE: 导入 -->\n    <!-- <st-button class=\"shop-member-list-button\" v-if=\"auth.import\">导入用户</st-button> -->\n    <st-button\n      v-if=\"auth.tag\"\n      class=\"shop-member-list-button\"\n      :disabled=\"!selectedRowKeys.length\"\n      v-modal-link=\"{\n        name: 'shop-add-lable',\n        props: {\n          memberIds: selectedRowKeys\n        },\n        on: { success: refeshPage }\n      }\"\n    >\n      加标签\n    </st-button>\n    <st-button\n      v-if=\"auth.unbindSalesman\"\n      class=\"shop-member-list-button\"\n      :disabled=\"!selectedRowKeys.length\"\n      @click=\"dropSalerSea(selectedRowKeys)\"\n    >\n      抛入销售公海\n    </st-button>\n    <st-button\n      v-if=\"auth.unbindCoach\"\n      class=\"shop-member-list-button\"\n      :disabled=\"!selectedRowKeys.length\"\n      @click=\"dropCoachSea(selectedRowKeys)\"\n    >\n      抛入{{ $c('coach') }}公海\n    </st-button>\n    <a-popover placement=\"bottom\">\n      <template slot=\"content\">\n        <div v-if=\"auth.bindCoach\" class=\"shop-member-list-button-div\">\n          <label\n            class=\"shop-member-list-button-label\"\n            v-modal-link=\"{\n              name: 'shop-distribution-coach',\n              props: {\n                memberIds: selectedRowKeys\n              },\n              on: { success: refeshPage }\n            }\"\n          >\n            分配{{ $c('coach') }}\n          </label>\n        </div>\n        <div v-if=\"auth.bindSalesman\" class=\"shop-member-list-button-div\">\n          <label\n            class=\"shop-member-list-button-label\"\n            v-modal-link=\"{\n              name: 'shop-distribution-sale',\n              props: {\n                memberIds: selectedRowKeys\n              },\n              on: { success: refeshPage }\n            }\"\n          >\n            分配销售\n          </label>\n        </div>\n      </template>\n      <st-button\n        v-if=\"auth.bindCoach && auth.bindSalesman\"\n        class=\"shop-member-list-button\"\n        :disabled=\"selectedRowKeys.length > 0 ? false : true\"\n      >\n        分配员工\n      </st-button>\n    </a-popover>\n  </div>\n  <st-table\n    :columns=\"columns\"\n    :loading=\"loading.getListInfo\"\n    :scroll=\"{ x: 1500 }\"\n    :alertSelection=\"{ onReset: onSelectionReset }\"\n    :rowSelection=\"{ selectedRowKeys, onChange: onSelectionChange }\"\n    rowKey=\"member_id\"\n    :page=\"page\"\n    @change=\"onTableChange\"\n    :dataSource=\"list\"\n  >\n    <div slot=\"image_face\" slot-scope=\"text, record\">\n      <span class=\"st-preview-item st-preview-item--cover\" v-viewer>\n        <img\n          v-if=\"record.image_face\"\n          class=\"st-image-face\"\n          :src=\"record.image_face.url\"\n          :data-src=\"record.image_face.url\"\n        />\n      </span>\n    </div>\n    <span slot=\"customSaleTitle\">\n      跟进销售客保天数\n      <st-help-tooltip id=\"TSCRM001\" />\n    </span>\n    <span slot=\"customCoachTitle\">\n      跟进{{ $c('coach') }}客保天数\n      <st-help-tooltip id=\"TSCRM002\" />\n    </span>\n    <div slot=\"member_name\" slot-scope=\"text, record\">\n      <a\n        href=\"javascript:;\"\n        v-if=\"record.auth['shop:member:member|get']\"\n        @click=\"infoFunc(record)\"\n      >\n        {{ text }}\n      </a>\n      <span v-else>\n        {{ text }}\n      </span>\n      <st-icon\n        v-if=\"record.is_minors\"\n        type=\"user-type\"\n        class=\"mg-l4\"\n        :color=\"record.sex === SEX.GIRL ? '#FF5E41' : '#3F66F6'\"\n      />\n    </div>\n    <div slot=\"salesman_protect_day\" slot-scope=\"text, record\">\n      <span class=\"mg-r4\">{{ record.salesman_protect_day }}</span>\n      <a-tooltip\n        placement=\"top\"\n        v-if=\"record.sales_days_limit && record.follow_salesman_id\"\n      >\n        <template slot=\"title\">\n          <span>{{ record.salesman_protect }}</span>\n        </template>\n        <span><st-icon type=\"help\" /></span>\n      </a-tooltip>\n    </div>\n    <div slot=\"coach_protect_day\" slot-scope=\"text, record\">\n      <span class=\"mg-r4\">{{ record.coach_protect_day }}</span>\n      <a-tooltip\n        placement=\"top\"\n        v-if=\"record.coach_days_limit && record.follow_coach_id\"\n      >\n        <template slot=\"title\">\n          <span>{{ record.coach_protect }}</span>\n        </template>\n        <span><st-icon type=\"help\" /></span>\n      </a-tooltip>\n    </div>\n    <div slot=\"action\" slot-scope=\"text, record\">\n      <st-table-actions>\n        <a\n          v-if=\"record.auth['shop:member:member|get']\"\n          @click=\"infoFunc(record)\"\n        >\n          详情\n        </a>\n        <a\n          v-if=\"record.auth['shop:member:member|edit']\"\n          @click=\"edit(record)\"\n        >\n          编辑\n        </a>\n        <a\n          v-if=\"record.auth['shop:member:member|bind_coach']\"\n          @click=\"onDistributionCoach(record)\"\n        >\n          绑定{{ $c('coach') }}\n        </a>\n        <a\n          v-if=\"record.auth['shop:member:member|change_coach']\"\n          @click=\"onDistributionCoach(record)\"\n        >\n          分配{{ $c('coach') }}\n        </a>\n        <a\n          v-if=\"record.auth['shop:member:member|bind_salesman']\"\n          @click=\"onDistributionSale(record)\"\n        >\n          绑定销售\n        </a>\n        <a\n          v-if=\"record.auth['shop:member:member|change_salesman']\"\n          @click=\"onDistributionSale(record)\"\n        >\n          分配销售\n        </a>\n        <a\n          v-if=\"record.auth['shop:member:member|unbind_saleman']\"\n          @click=\"dropSalerSea(Array.of(record.member_id))\"\n        >\n          抛入销售公海\n        </a>\n        <a\n          v-if=\"record.auth['shop:member:member|unbind_coach']\"\n          @click=\"dropCoachSea(Array.of(record.member_id))\"\n        >\n          抛入{{ $c('coach') }}公海\n        </a>\n        <a\n          v-if=\"record.auth['shop:member:member|bind_card']\"\n          v-modal-link=\"{\n            name: 'shop-binding-entity-card',\n            props: { record },\n            on: {\n              success: refeshPage\n            }\n          }\"\n        >\n          绑实体卡\n        </a>\n        <a\n          v-if=\"record.auth['shop:member:member|rebind_card']\"\n          v-modal-link=\"{ name: 'shop-missing-card', props: { record } }\"\n        >\n          重绑实体卡\n        </a>\n        <!-- <a v-if=\"record.auth['shop:member:member|transfer']\" v-modal-link=\"{ name: 'shop-transfer-shop', props:{record}, on: {\n               success: refeshPage\n             } }\">转店</a> -->\n        <a\n          v-if=\"record.auth['shop:member:member|frozen']\"\n          v-modal-link=\"{\n            name: 'shop-frozen',\n            props: { record },\n            on: {\n              success: refeshPage\n            }\n          }\"\n        >\n          冻结用户\n        </a>\n        <a\n          v-if=\"record.auth['shop:member:member|unbind_wechat']\"\n          @click=\"onRemoveBind(record)\"\n        >\n          解除微信绑定\n        </a>\n        <a\n          v-if=\"record.auth['shop:member:member|change_type']\"\n          @click=\"onChangeUserType(record)\"\n        >\n          变更用户类型\n        </a>\n        <a\n          v-if=\"record.auth['shop:member:member|finger_del']\"\n          @click=\"onClearFingerprintInfo(record)\"\n        >\n          清空指纹信息\n        </a>\n        <a\n          v-if=\"record.auth['shop:member:member|cabinet_pwd_del']\"\n          @click=\"onClearHardwarePassword(record)\"\n        >\n          清空硬件密码\n        </a>\n      </st-table-actions>\n    </div>\n  </st-table>\n</st-panel>\n",null]}