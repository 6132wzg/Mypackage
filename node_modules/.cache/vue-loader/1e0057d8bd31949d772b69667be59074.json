{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/pages/shop/sold/card/list/member.vue?vue&type=template&id=57670af3&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/pages/shop/sold/card/list/member.vue","mtime":1597895242241},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":1591062572376},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["\n<div :class=\"basic()\">\n  <portal to=\"SHOP_SOLD_CARD_LIST_ACTIONS\">\n    <st-input-search\n      v-model=\"$searchQuery.search\"\n      @search=\"onKeywordsSearch('search', $event)\"\n      placeholder=\"请输入卡名、合同编号、会员姓名或手机号查找\"\n      style=\"width:380px\"\n    />\n  </portal>\n  <st-search-panel @search=\"onSearchNative\" @reset=\"onSearchResetNative\">\n    <st-search-panel-item :label=\"`${$c('member_card')}类型：`\">\n      <st-search-radio\n        v-model=\"$searchQuery.card_type\"\n        :options=\"cardTypes\"\n      />\n    </st-search-panel-item>\n    <st-search-panel-item :label=\"`${$c('member_card')}状态：`\">\n      <st-search-radio\n        v-model=\"$searchQuery.card_status\"\n        :options=\"cardStatus\"\n      />\n    </st-search-panel-item>\n    <st-search-panel-item label=\"开卡状态：\">\n      <st-search-radio v-model=\"$searchQuery.is_open\" :options=\"isOpens\" />\n    </st-search-panel-item>\n\n    <div slot=\"more\">\n      <st-search-panel-item label=\"开卡时间：\">\n        <st-range-picker :disabledDays=\"180\" v-model=\"date\" />\n      </st-search-panel-item>\n    </div>\n  </st-search-panel>\n  <div :class=\"basic('content')\">\n    <div :class=\"basic('content-batch')\" class=\"mg-b16\">\n      <st-button\n        v-if=\"auth.export\"\n        type=\"primary\"\n        class=\"mg-r8\"\n        v-export-excel=\"{\n          type: 'sold/card/member',\n          query: { conditions: conditions }\n        }\"\n      >\n        全部导出\n      </st-button>\n\n      <st-help-tooltip\n        :isCustom=\"true\"\n        :title=\"`只支持一种类型且有效的${$c('member_card')}`\"\n        :defaultVisible=\"true\"\n        v-if=\"auth.gift\"\n        trigger=\"contextmenu\"\n        v-model=\"action.giving.isShowTip\"\n        @click=\"onGiving\"\n      >\n        <st-button\n          type=\"primary\"\n          class=\"mg-r8\"\n          :disabled=\"!action.giving.isAvaliable\"\n        >\n          赠送额度\n        </st-button>\n      </st-help-tooltip>\n      <st-help-tooltip\n        :isCustom=\"true\"\n        v-if=\"auth.vipRegion\"\n        :title=\"`只支持有效的${$c('member_card')}`\"\n        :defaultVisible=\"true\"\n        trigger=\"contextmenu\"\n        v-model=\"action.area.isShowTip\"\n      >\n        <st-button\n          type=\"primary\"\n          class=\"mg-r8\"\n          :disabled=\"!action.area.isAvaliable\"\n          @click=\"onAreas\"\n        >\n          变更入场vip区域\n        </st-button>\n      </st-help-tooltip>\n      <st-help-tooltip\n        v-if=\"auth.batch_admission\"\n        :isCustom=\"true\"\n        :title=\"`只支持有效的${$c('member_card')}`\"\n        :defaultVisible=\"true\"\n        trigger=\"contextmenu\"\n        v-model=\"action.endTime.isShowTip\"\n      >\n        <st-button\n          type=\"primary\"\n          class=\"mg-r8\"\n          :disabled=\"!action.endTime.isAvaliable\"\n          @click=\"onEnterTime\"\n        >\n          变更入场时段\n        </st-button>\n      </st-help-tooltip>\n      <st-help-tooltip\n        v-if=\"auth.extendDay\"\n        :isCustom=\"true\"\n        :title=\"`只支持已开卡且有效的${$c('member_card')}`\"\n        :defaultVisible=\"true\"\n        trigger=\"contextmenu\"\n        v-model=\"action.extendDay.isShowTip\"\n      >\n        <st-button\n          type=\"primary\"\n          class=\"mg-r8\"\n          @click=\"onExtendDays\"\n          :disabled=\"!action.extendDay.isAvaliable\"\n        >\n          延长有效期\n        </st-button>\n      </st-help-tooltip>\n      <st-help-tooltip\n        v-if=\"auth.reactive\"\n        :isCustom=\"true\"\n        :title=\"`只支持过期失效且未退款的${$c('member_card')}`\"\n        :defaultVisible=\"true\"\n        placement=\"bottom\"\n        trigger=\"contextmenu\"\n        v-model=\"action.reactive.isShowTip\"\n      >\n        <st-button\n          type=\"primary\"\n          class=\"mg-r8\"\n          :disabled=\"!action.reactive.isAvaliable\"\n          @click=\"onReactiveBatch\"\n        >\n          重新激活\n        </st-button>\n      </st-help-tooltip>\n    </div>\n    <st-total\n      :indexs=\"totalColumns\"\n      :dataSource=\"total\"\n      hasTitle\n      class=\"mg-b16\"\n    ></st-total>\n    <div>\n      <st-table\n        :page=\"page\"\n        :loading=\"loading.getList\"\n        :alertSelection=\"{ onReset: onClear }\"\n        :rowSelection=\"{\n          selectedRowKeys: selectedRowKeys,\n          fixed: true,\n          onChange: onSelectChange,\n          getCheckboxProps: record => ({\n            props: {\n              disabled: disabledSelect(record) // Column configuration not to be checked\n            }\n          })\n        }\"\n        rowKey=\"id\"\n        @change=\"onTableChange\"\n        :columns=\"columns\"\n        :dataSource=\"list\"\n        :scroll=\"{ x: 1800 }\"\n      >\n        <template slot=\"card_name\" slot-scope=\"text, record\">\n          <st-link\n            :value=\"text\"\n            :disabled=\"!record.auth['shop:sold:sold_member_card|get']\"\n            @click=\"onDetail(record)\"\n          ></st-link>\n        </template>\n        <template slot=\"sex\" slot-scope=\"text\">\n          {{ text | enumFilter('staff.sex') }}\n        </template>\n        <template slot=\"remain_amount\" slot-scope=\"text, record\">\n          {{ text }}{{ record.unit | enumFilter('sold_common.unit') }}\n        </template>\n        <template slot=\"is_refund\" slot-scope=\"text\">\n          {{ text.name }}\n        </template>\n        <template slot=\"init_amount\" slot-scope=\"text, record\">\n          {{ text }}{{ record.unit | enumFilter('sold_common.unit') }}\n        </template>\n        <template slot=\"card_status\" slot-scope=\"text\">\n          <st-text\n            :status=\"{\n              success: text === 1,\n              error: text === 2,\n              warning: text === 3\n            }\"\n          >\n            {{ text | enumFilter('sold_common.card_status') }}\n          </st-text>\n        </template>\n        <template slot=\"member_name\" slot-scope=\"text, record\">\n          <template v-if=\"record.is_minors\">\n            <span class=\"word-break\">{{ record.member_name }}(未成年)</span>\n          </template>\n          <template v-else>\n            <span class=\"word-break\">{{ record.member_name }}</span>\n          </template>\n        </template>\n        <template slot=\"mobile\" slot-scope=\"text, record\">\n          <template v-if=\"record.is_minors\">\n            {{ record.parent_mobile }}({{ record.parent_user_role }})\n          </template>\n          <template v-else>\n            {{ record.mobile }}\n          </template>\n        </template>\n        <template slot=\"sell_time\" slot-scope=\"text, record\">\n          <span class=\"word-break\">\n            {{ record.start_time }} ~ {{ record.end_time }}\n          </span>\n        </template>\n        <template slot=\"is_open\" slot-scope=\"text\">\n          {{ text | enumFilter('sold_common.is_open') }}\n        </template>\n        <div slot=\"action\" slot-scope=\"text, record\">\n          <st-table-actions>\n            <a\n              v-if=\"record.auth['shop:sold:sold_member_card|get']\"\n              @click=\"onDetail(record)\"\n            >\n              详情\n            </a>\n            <a\n              v-if=\"record.auth['shop:sold:sold_member_card|upgrade']\"\n              @click=\"cardActions.upgradeCard(record)\"\n            >\n              升级\n            </a>\n            <a\n              v-if=\"record.auth['shop:sold:sold_member_card|renew']\"\n              @click=\"cardActions.onRenewal(record)\"\n            >\n              续卡\n            </a>\n            <a\n              v-if=\"record.auth['shop:sold:sold_member_card|vaild_time']\"\n              @click=\"onSetTime(record)\"\n            >\n              修改有效时间\n            </a>\n            <a\n              v-if=\"record.auth['shop:sold:sold_member_card|reactivate']\"\n              @click=\"onReactive(record)\"\n            >\n              重新激活\n            </a>\n            <a\n              v-if=\"record.auth['shop:sold:sold_member_card|frozen']\"\n              @click=\"onFreeze(record)\"\n            >\n              冻结\n            </a>\n            <a\n              v-if=\"record.auth['shop:sold:sold_member_card|unfrozen']\"\n              @click=\"onUnfreeze(record)\"\n            >\n              取消冻结\n            </a>\n            <a\n              v-if=\"record.auth['shop:sold:sold_member_card|transfer']\"\n              @click=\"onTransfer(record)\"\n            >\n              转让\n            </a>\n            <a\n              v-if=\"record.auth['brand_shop:order:order|refund']\"\n              @click=\"onRefund(record)\"\n            >\n              退款\n            </a>\n            <a\n              v-if=\"record.auth['shop:sold:sold_member_card|export_contract']\"\n              @click=\"toContract(record)\"\n            >\n              查看合同\n            </a>\n            <a\n              v-if=\"record.auth['shop:sold:sold_member_card|vip_region']\"\n              @click=\"onArea(record)\"\n            >\n              修改入场vip区域\n            </a>\n            <a\n              v-if=\"record.auth['shop:sold:sold_member_card|edit']\"\n              @click=\"cardActions.onChangeMember(record)\"\n            >\n              变更成员\n            </a>\n            <a\n              v-if=\"\n                record.auth['shop:sold:sold_member_card|internal_description']\n              \"\n              @click=\"internalNoteActions.onOpenModal(record)\"\n            >\n              对内备注\n            </a>\n            <a\n              v-if=\"record.auth['shop:sold:sold_member_card|rights_edit']\"\n              @click=\"soldMemberCardActions.onUpdateRights(record.id)\"\n            >\n              修改权益\n            </a>\n          </st-table-actions>\n        </div>\n      </st-table>\n    </div>\n  </div>\n</div>\n",null]}