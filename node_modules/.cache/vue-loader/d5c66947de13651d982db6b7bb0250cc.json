{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/components/table-actions/table-actions.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/components/table-actions/table-actions.vue","mtime":1600926556063},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["\nconst intercept = (arr, insert) => {\n  const _res = []\n  if (arr.length) {\n    arr.forEach((item, idx) => {\n      _res.push(item)\n      if (idx < arr.length - 1) {\n        _res.push(insert)\n      }\n    })\n  }\n  return _res\n}\n\nconst MAX = 3\n\nexport default {\n  name: 'StTableActions',\n  render(h) {\n    const usefulSlotNodes = this.$slots.default\n      ? this.$slots.default.filter(item => item.tag)\n      : []\n    let outerSlotNodes = []\n    /**\n     * 等于3个的时候使用最小宽度\n     */\n    const useMax = usefulSlotNodes.length === MAX\n    if (usefulSlotNodes.length <= MAX) {\n      outerSlotNodes = usefulSlotNodes.splice(0, MAX)\n    } else {\n      outerSlotNodes = usefulSlotNodes.splice(0, 2)\n    }\n    const outerActions = intercept(\n      outerSlotNodes,\n      h('a-divider', {\n        class: 'st-table-actions__divider',\n        props: { type: 'vertical' }\n      })\n    )\n\n    const innerActions = usefulSlotNodes\n\n    const popoverVnode = h(\n      'a-popover',\n      {\n        props: {\n          overlayClassName: 'st-table-actions__popover',\n          placement: 'bottomRight'\n        },\n        scopedSlots: {\n          content: props => innerActions\n        }\n      },\n      [\n        h('a-divider', {\n          class: 'st-table-actions__divider',\n          props: { type: 'vertical' }\n        }),\n        h('a', { class: 'st-table-actions__trigger' }, [\n          h('a', '更多'),\n          h('st-icon', {\n            props: {\n              type: 'anticon:caret-down',\n              color: '#3f66f6',\n              size: '13px'\n            }\n          })\n        ])\n      ]\n    )\n\n    const childnodes = outerActions\n    if (innerActions.length > 0) {\n      childnodes.push(popoverVnode)\n    }\n\n    if (childnodes.length === 0) {\n      childnodes.push(\n        h(\n          'span',\n          {\n            class: 'st-table-actions__empty'\n          },\n          ['--']\n        )\n      )\n    }\n    const result = h(\n      'div',\n      {\n        class: `st-table-actions ${useMax ? 'st-table-actions--use-max' : ''}`\n      },\n      childnodes\n    )\n\n    return result\n  }\n}\n",{"version":3,"sources":["table-actions.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"table-actions.vue","sourceRoot":"src/views/components/table-actions","sourcesContent":["<script>\nconst intercept = (arr, insert) => {\n  const _res = []\n  if (arr.length) {\n    arr.forEach((item, idx) => {\n      _res.push(item)\n      if (idx < arr.length - 1) {\n        _res.push(insert)\n      }\n    })\n  }\n  return _res\n}\n\nconst MAX = 3\n\nexport default {\n  name: 'StTableActions',\n  render(h) {\n    const usefulSlotNodes = this.$slots.default\n      ? this.$slots.default.filter(item => item.tag)\n      : []\n    let outerSlotNodes = []\n    /**\n     * 等于3个的时候使用最小宽度\n     */\n    const useMax = usefulSlotNodes.length === MAX\n    if (usefulSlotNodes.length <= MAX) {\n      outerSlotNodes = usefulSlotNodes.splice(0, MAX)\n    } else {\n      outerSlotNodes = usefulSlotNodes.splice(0, 2)\n    }\n    const outerActions = intercept(\n      outerSlotNodes,\n      h('a-divider', {\n        class: 'st-table-actions__divider',\n        props: { type: 'vertical' }\n      })\n    )\n\n    const innerActions = usefulSlotNodes\n\n    const popoverVnode = h(\n      'a-popover',\n      {\n        props: {\n          overlayClassName: 'st-table-actions__popover',\n          placement: 'bottomRight'\n        },\n        scopedSlots: {\n          content: props => innerActions\n        }\n      },\n      [\n        h('a-divider', {\n          class: 'st-table-actions__divider',\n          props: { type: 'vertical' }\n        }),\n        h('a', { class: 'st-table-actions__trigger' }, [\n          h('a', '更多'),\n          h('st-icon', {\n            props: {\n              type: 'anticon:caret-down',\n              color: '#3f66f6',\n              size: '13px'\n            }\n          })\n        ])\n      ]\n    )\n\n    const childnodes = outerActions\n    if (innerActions.length > 0) {\n      childnodes.push(popoverVnode)\n    }\n\n    if (childnodes.length === 0) {\n      childnodes.push(\n        h(\n          'span',\n          {\n            class: 'st-table-actions__empty'\n          },\n          ['--']\n        )\n      )\n    }\n    const result = h(\n      'div',\n      {\n        class: `st-table-actions ${useMax ? 'st-table-actions--use-max' : ''}`\n      },\n      childnodes\n    )\n\n    return result\n  }\n}\n</script>\n"]}]}