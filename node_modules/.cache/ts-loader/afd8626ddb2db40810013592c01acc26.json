{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/node_modules/ts-loader/index.js??ref--13-2!/Users/wangzhigang/Desktop/styd/web/src/views/biz-service/product/package.commit.ts","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/biz-service/product/package.commit.ts","mtime":1600926555997},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/ts-loader/index.js","mtime":1591062571609}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport _classCallCheck from \"/Users/wangzhigang/Desktop/styd/web/node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wangzhigang/Desktop/styd/web/node_modules/@babel/runtime-corejs2/helpers/esm/createClass\";\n\nvar _a;\n\nimport { __decorate, __metadata } from \"tslib\";\nimport { UserService } from '@/services/user.service';\nimport { Injectable } from 'vue-service-app';\n\nvar PackageCommit = /*#__PURE__*/function () {\n  function PackageCommit(userService) {\n    _classCallCheck(this, PackageCommit);\n\n    this.userService = userService;\n    this.publicChannel$ = this.userService.getOptions$('package_course.publish_channel', {\n      addAll: true\n    });\n  }\n\n  _createClass(PackageCommit, [{\n    key: \"SET_PACKAGE_LIST\",\n    value: function SET_PACKAGE_LIST(list) {\n      var publishChannel = this.publicChannel$.snapshot();\n      var channel = {};\n      publishChannel.forEach(function (item) {\n        channel[item.value] = item.label;\n      });\n      var isPermanentSale = this.userService.getEnumValue$('package_course.sale_time_is_forever').snapshot();\n      return list.map(function (item) {\n        item.channelName = channel[item.publish_channel];\n        item.sale_time = item.is_permanent_sale === 1 ? isPermanentSale[item.is_permanent_sale] : item.sale_time;\n        item.totalTimesText = item.total_times > 0 ? \"\\u5171\".concat(item.total_times, \"\\u6B21\") : typeof item.total_times === 'string' ? item.total_times : \"\\u56E2\\u8BFE\".concat(item.team_times, \"\\u6B21/\\u79C1\\u6559\\u8BFE\").concat(item.personal_times, \"\\u6B21\");\n        return item;\n      });\n    }\n  }]);\n\n  return PackageCommit;\n}();\n\nPackageCommit = __decorate([Injectable(), __metadata(\"design:paramtypes\", [typeof (_a = typeof UserService !== \"undefined\" && UserService) === \"function\" ? _a : Object])], PackageCommit);\nexport { PackageCommit };",{"version":3,"sources":["/Users/wangzhigang/Desktop/styd/web/src/views/biz-service/product/package.commit.ts"],"names":[],"mappings":";;;;;;;AAAA,SAAS,WAAT,QAA4B,yBAA5B;AACA,SAAS,UAAT,QAA2B,iBAA3B;;AAEA,IAAa,aAAb;AAOE,yBAAoB,WAApB,EAA4C;AAAA;;AAAxB,SAAA,WAAA,GAAA,WAAA;AANpB,SAAA,cAAA,GAAiB,KAAK,WAAL,CAAiB,WAAjB,CACf,gCADe,EAEf;AACE,MAAA,MAAM,EAAE;AADV,KAFe,CAAjB;AAMgD;;AAPlD;AAAA;AAAA,qCAQmB,IARnB,EAQ4B;AACxB,UAAI,cAAc,GAAG,KAAK,cAAL,CAAoB,QAApB,EAArB;AACA,UAAI,OAAO,GAAG,EAAd;AACA,MAAA,cAAc,CAAC,OAAf,CAAuB,UAAC,IAAD,EAAc;AACnC,QAAA,OAAO,CAAC,IAAI,CAAC,KAAN,CAAP,GAAsB,IAAI,CAAC,KAA3B;AACD,OAFD;AAGA,UAAI,eAAe,GAAQ,KAAK,WAAL,CACxB,aADwB,CACV,qCADU,EAExB,QAFwB,EAA3B;AAGA,aAAO,IAAI,CAAC,GAAL,CAAS,UAAA,IAAI,EAAG;AACrB,QAAA,IAAI,CAAC,WAAL,GAAmB,OAAO,CAAC,IAAI,CAAC,eAAN,CAA1B;AACA,QAAA,IAAI,CAAC,SAAL,GACE,IAAI,CAAC,iBAAL,KAA2B,CAA3B,GACI,eAAe,CAAC,IAAI,CAAC,iBAAN,CADnB,GAEI,IAAI,CAAC,SAHX;AAIA,QAAA,IAAI,CAAC,cAAL,GACE,IAAI,CAAC,WAAL,GAAmB,CAAnB,mBACQ,IAAI,CAAC,WADb,cAEI,OAAO,IAAI,CAAC,WAAZ,KAA4B,QAA5B,GACA,IAAI,CAAC,WADL,yBAEK,IAAI,CAAC,UAFV,sCAE4B,IAAI,CAAC,cAFjC,WAHN;AAMA,eAAO,IAAP;AACD,OAbM,CAAP;AAcD;AA/BH;;AAAA;AAAA,GAAA;;AAAa,aAAa,GAAA,UAAA,CAAA,CADzB,UAAU,EACe,E,qDAOS,W,KAAW,W,IAAX,W,MAAW,U,GAAA,E,GAAA,M,EAPpB,CAAA,EAAb,aAAa,CAAb;SAAA,a","sourcesContent":["import { UserService } from '@/services/user.service'\nimport { Injectable } from 'vue-service-app'\n@Injectable()\nexport class PackageCommit {\n  publicChannel$ = this.userService.getOptions$(\n    'package_course.publish_channel',\n    {\n      addAll: true\n    }\n  )\n  constructor(private userService: UserService) {}\n  SET_PACKAGE_LIST(list: any) {\n    let publishChannel = this.publicChannel$.snapshot()\n    let channel = {}\n    publishChannel.forEach((item: any) => {\n      channel[item.value] = item.label\n    })\n    let isPermanentSale: any = this.userService\n      .getEnumValue$('package_course.sale_time_is_forever')\n      .snapshot()\n    return list.map(item => {\n      item.channelName = channel[item.publish_channel]\n      item.sale_time =\n        item.is_permanent_sale === 1\n          ? isPermanentSale[item.is_permanent_sale]\n          : item.sale_time\n      item.totalTimesText =\n        item.total_times > 0\n          ? `共${item.total_times}次`\n          : typeof item.total_times === 'string'\n          ? item.total_times\n          : `团课${item.team_times}次/私教课${item.personal_times}次`\n      return item\n    })\n  }\n}\n"],"sourceRoot":""}]}