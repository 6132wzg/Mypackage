{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/thread-loader/dist/cjs.js!/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/biz-components/department-select.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/biz-components/department-select.vue","mtime":1591147717103},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/thread-loader/dist/cjs.js","mtime":1591062572352},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { StaffApi } from \"../../api/v1/staff\";\nimport { TreeSelect } from 'ant-design-vue';\nvar SHOW_PARENT = TreeSelect.SHOW_PARENT;\nexport default {\n  name: 'DepartmentSelect',\n  serviceInject: function serviceInject() {\n    return {\n      staffApi: StaffApi\n    };\n  },\n  model: {\n    prop: 'value',\n    event: 'change'\n  },\n  props: {\n    mode: {\n      type: String\n    },\n    placeholder: {\n      type: String\n    },\n    useType: {\n      type: String\n    },\n    value: {\n      type: [Number, String, Array]\n    },\n    size: {\n      type: String\n    },\n    labelInValue: {\n      type: Boolean,\n      default: false\n    },\n    treeCheckable: {\n      type: Boolean\n    }\n  },\n  data: function data() {\n    return {\n      departmentOptions: [],\n      SHOW_PARENT: SHOW_PARENT\n    };\n  },\n  computed: {\n    modelValue: function modelValue() {\n      if (!this.value) return;\n      return this.value + '';\n    }\n  },\n  methods: {\n    // 传出去转化为Number类型接口需要\n    onChange: function onChange(value, lable, extra) {\n      this.$emit('changeLabel', {\n        value: value,\n        lable: lable\n      });\n      this.$emit('change', value);\n    },\n    traverseTree: function traverseTree(tree) {\n      var _this = this;\n\n      // 将ID转化为String UI组件需要\n      return tree.map(function (item) {\n        return item.children ? {\n          name: item.name,\n          children: _this.traverseTree(item.children),\n          id: item.id + '',\n          count: item.count\n        } : item;\n      });\n    },\n    getDepartmentList: function getDepartmentList() {\n      var _this2 = this;\n\n      this.staffApi.getDepartmentList().subscribe(function (res) {\n        _this2.departmentOptions = _this2.traverseTree(res.department);\n      });\n    },\n    init: function init() {\n      this.getDepartmentList();\n    }\n  },\n  mounted: function mounted() {\n    this.init();\n  }\n};",null]}