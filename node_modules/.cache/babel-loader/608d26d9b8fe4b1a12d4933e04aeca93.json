{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/biz-modals/shop/distribution-coach.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/biz-modals/shop/distribution-coach.vue","mtime":1591147717212},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { DistributionCoachService } from \"./distribution-coach.service\";\nimport { MessageService } from '@/services/message.service';\n\nvar columns = function columns(vm) {\n  return [{\n    title: \"\\u79C1\\u6559\".concat(vm.$c('coach'), \"\\u59D3\\u540D\"),\n    dataIndex: 'coach_name',\n    key: 'coach_name'\n  }, {\n    dataIndex: 'personal_sales',\n    key: 'personal_sales',\n    slots: {\n      title: 'custom_title'\n    },\n    scopedSlots: {\n      customRender: 'personal_sales'\n    }\n  }];\n};\n\nexport default {\n  name: 'distributionCoach',\n  serviceInject: function serviceInject() {\n    return {\n      service: DistributionCoachService,\n      messageService: MessageService\n    };\n  },\n  props: {\n    memberIds: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    coachId: Number\n  },\n  data: function data() {\n    return {\n      show: false,\n      selectedRowKeys: [],\n      pagination: {\n        current: 1,\n        pageSize: 10\n      },\n      list: [],\n      coach_id: ''\n    };\n  },\n  computed: {\n    columns: columns\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.service.getSaleList().subscribe(function (res) {\n      _this.list = res.list;\n      _this.selectedRowKeys = [_this.coachId];\n    });\n  },\n  methods: {\n    handleTableChange: function handleTableChange(pagination, filters, sorter) {\n      console.log(pagination);\n    },\n    onSelectChange: function onSelectChange(e, item) {\n      console.log(this.selectedRowKeys);\n      this.selectedRowKeys = e;\n      this.coach_id = item[0].id;\n    },\n    onSearch: function onSearch(e) {\n      var _this2 = this;\n\n      this.service.getSaleList({\n        retrieve: e\n      }).subscribe(function (res) {\n        console.log(res);\n        _this2.list = res.list;\n      });\n    },\n    save: function save(e) {\n      var _this3 = this;\n\n      this.service.addSale({\n        member_ids: this.memberIds,\n        coach_id: this.coach_id\n      }).subscribe(function (res) {\n        _this3.show = false;\n\n        _this3.$emit('success');\n\n        _this3.messageService.success({\n          content: '分配成功'\n        });\n      });\n    }\n  },\n  created: function created() {\n    this.coach_id = this.coachId;\n  }\n};",{"version":3,"sources":["distribution-coach.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <st-modal\n    :title=\"`分配${$c('coach')}`\"\n    @ok=\"save\"\n    v-model=\"show\"\n    size=\"small\"\n  >\n    <a-row :gutter=\"8\">\n      <a-col :lg=\"24\" style=\"padding: 0;\">\n        <a-input-search\n          size=\"large\"\n          :placeholder=\"`搜索${$c('coach')}昵称`\"\n          style=\"width: 100%;\"\n          @search=\"onSearch\"\n        />\n      </a-col>\n    </a-row>\n    <a-row :gutter=\"8\">\n      <a-col :lg=\"24\" class=\"distribution-container\">\n        <st-table\n          :rowSelection=\"{\n            columnTitle: '分配',\n            type: 'radio',\n            selectedRowKeys: selectedRowKeys,\n            onChange: onSelectChange\n          }\"\n          :columns=\"columns\"\n          :dataSource=\"list\"\n          rowKey=\"id\"\n          @change=\"handleTableChange\"\n          :pagination=\"false\"\n        >\n          <template slot=\"custom_title\">\n            私教消课数（近30天）\n            <st-help-tooltip id=\"TSYHFP002\" />\n          </template>\n        </st-table>\n      </a-col>\n    </a-row>\n  </st-modal>\n</template>\n<script>\nimport { DistributionCoachService } from './distribution-coach.service'\nimport { MessageService } from '@/services/message.service'\nconst columns = vm => [\n  {\n    title: `私教${vm.$c('coach')}姓名`,\n    dataIndex: 'coach_name',\n    key: 'coach_name'\n  },\n  {\n    dataIndex: 'personal_sales',\n    key: 'personal_sales',\n    slots: { title: 'custom_title' },\n    scopedSlots: { customRender: 'personal_sales' }\n  }\n]\nexport default {\n  name: 'distributionCoach',\n  serviceInject() {\n    return {\n      service: DistributionCoachService,\n      messageService: MessageService\n    }\n  },\n  props: {\n    memberIds: {\n      type: Array,\n      default() {\n        return []\n      }\n    },\n    coachId: Number\n  },\n  data() {\n    return {\n      show: false,\n      selectedRowKeys: [],\n      pagination: {\n        current: 1,\n        pageSize: 10\n      },\n      list: [],\n      coach_id: ''\n    }\n  },\n  computed: {\n    columns\n  },\n  mounted() {\n    this.service.getSaleList().subscribe(res => {\n      this.list = res.list\n      this.selectedRowKeys = [this.coachId]\n    })\n  },\n  methods: {\n    handleTableChange(pagination, filters, sorter) {\n      console.log(pagination)\n    },\n    onSelectChange(e, item) {\n      console.log(this.selectedRowKeys)\n      this.selectedRowKeys = e\n      this.coach_id = item[0].id\n    },\n    onSearch(e) {\n      this.service\n        .getSaleList({\n          retrieve: e\n        })\n        .subscribe(res => {\n          console.log(res)\n          this.list = res.list\n        })\n    },\n    save(e) {\n      this.service\n        .addSale({\n          member_ids: this.memberIds,\n          coach_id: this.coach_id\n        })\n        .subscribe(res => {\n          this.show = false\n          this.$emit('success')\n          this.messageService.success({ content: '分配成功' })\n        })\n    }\n  },\n  created() {\n    this.coach_id = this.coachId\n  }\n}\n</script>\n"],"sourceRoot":"src/views/biz-modals/shop"}]}