{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/biz-components/package/form/form-item#/reserve-is-limit-form-item.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/biz-components/package/form/form-item#/reserve-is-limit-form-item.vue","mtime":1600926555704},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { FormService } from '../form.service'\nexport default {\n  name: 'ReserveIsLimitFormItem',\n  inject: ['form'],\n  data() {\n    return {\n      isLimit: false,\n      isReset: true\n    }\n  },\n  serviceInject() {\n    return {\n      service: FormService\n    }\n  },\n  rxState() {\n    let { reserveLimitDayOptions$ } = this.service\n    return {\n      reserveLimitDayOptions$\n    }\n  },\n  mounted() {\n    this.getIslimit()\n  },\n  computed: {\n    decorators() {\n      return this.form.decorators\n    }\n  },\n  methods: {\n    getIslimit() {\n      this.isLimit = !!this.form.initInfo.reserve_is_limit\n    },\n    reset() {\n      this.isReset = false\n      let timer = setTimeout(() => {\n        this.isReset = true\n        clearTimeout(timer)\n      })\n    },\n    onBlur() {\n      if (this.isLimit) return\n      this.reset()\n    },\n    onChange(event) {\n      this.reset()\n      this.isLimit = !!event[0]\n    }\n  }\n}\n",{"version":3,"sources":["reserve-is-limit-form-item.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"reserve-is-limit-form-item.vue","sourceRoot":"src/views/biz-components/package/form/form-item#","sourcesContent":["<template>\n  <!-- 转让设置 -->\n  <div class=\"biz-package-form__reserve-limit\">\n    <st-form-item label=\"约课限制\" :required=\"isLimit\" labelWidth=\"148px\">\n      <a-checkbox-group\n        @change=\"onChange\"\n        v-decorator=\"decorators.reserve_is_limit\"\n      >\n        <a-checkbox :value=\"1\">\n          限制最多上课节数\n        </a-checkbox>\n      </a-checkbox-group>\n    </st-form-item>\n    <st-form-item label=\"\" class=\"input-number\" required>\n      <!-- <transtion name=\"fade\"></transtion> -->\n      <st-input-number\n        v-decorator=\"decorators.reserve_limit_times\"\n        v-if=\"isReset\"\n        :min=\"1\"\n        :max=\"999\"\n        :disabled=\"!isLimit\"\n        @blur=\"onBlur\"\n        style=\"width: 236px\"\n      >\n        <a-select\n          v-decorator=\"decorators.reserve_limit_day\"\n          slot=\"addonBefore\"\n          :options=\"reserveLimitDayOptions$\"\n        ></a-select>\n        <template slot=\"addonAfter\">节</template>\n      </st-input-number>\n      <span class=\"tip mg-l20\">该限制仅生效于小程序</span>\n    </st-form-item>\n  </div>\n</template>\n\n<script>\nimport { FormService } from '../form.service'\nexport default {\n  name: 'ReserveIsLimitFormItem',\n  inject: ['form'],\n  data() {\n    return {\n      isLimit: false,\n      isReset: true\n    }\n  },\n  serviceInject() {\n    return {\n      service: FormService\n    }\n  },\n  rxState() {\n    let { reserveLimitDayOptions$ } = this.service\n    return {\n      reserveLimitDayOptions$\n    }\n  },\n  mounted() {\n    this.getIslimit()\n  },\n  computed: {\n    decorators() {\n      return this.form.decorators\n    }\n  },\n  methods: {\n    getIslimit() {\n      this.isLimit = !!this.form.initInfo.reserve_is_limit\n    },\n    reset() {\n      this.isReset = false\n      let timer = setTimeout(() => {\n        this.isReset = true\n        clearTimeout(timer)\n      })\n    },\n    onBlur() {\n      if (this.isLimit) return\n      this.reset()\n    },\n    onChange(event) {\n      this.reset()\n      this.isLimit = !!event[0]\n    }\n  }\n}\n</script>\n\n<style></style>\n"]}]}