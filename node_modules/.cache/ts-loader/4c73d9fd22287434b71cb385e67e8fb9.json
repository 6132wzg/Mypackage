{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/node_modules/ts-loader/index.js??ref--13-2!/Users/wangzhigang/Desktop/styd/web/src/views/biz-components/package/form/form.config.ts","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/biz-components/package/form/form.config.ts","mtime":1600926555705},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/ts-loader/index.js","mtime":1591062571609}],"contextDependencies":[],"result":["import moment from 'moment';\nexport var ruleOptions = function ruleOptions(vm) {\n  return {\n    course_name: {\n      rules: [{\n        required: true,\n        message: '请填写课程包名称'\n      }],\n      initialValue: vm.initInfo.course_name\n    },\n    is_limit: {\n      initialValue: vm.initInfo.is_limit === 0 ? 0 : 1\n    },\n    course_range: {\n      initialValue: vm.initInfo.course_range || 1\n    },\n    reserve_is_limit: {\n      initialValue: vm.initInfo.reserve_is_limit ? [vm.initInfo.reserve_is_limit] : []\n    },\n    is_permanent_sale: {\n      initialValue: vm.initInfo.is_permanent_sale === 0 ? 0 : 1\n    },\n    sale_time: {\n      rules: [{\n        validator: function validator(field, value, values) {\n          if (!value[0]) {\n            return '请填写开始售卖时间';\n          }\n\n          if (!value[1]) {\n            return '请填写结束售卖时间';\n          }\n\n          if (value.filter(Boolean).length === 0) {\n            return '请填写售卖时间';\n          }\n        }\n      }],\n      initialValue: vm.initInfo.start_time && vm.initInfo.is_permanent_sale === 0 ? [moment(vm.initInfo.start_time), moment(vm.initInfo.end_time)] : [null, null]\n    },\n    reserve_limit_day: {\n      initialValue: vm.initInfo.reserve_limit_day || 1\n    },\n    reserve_limit_times: {\n      rules: [{\n        validator: function validator(field, value, values) {\n          if (!values.reserve_is_limit.length) return;\n\n          if (value === undefined || value === '') {\n            return '请填写约课限制节数';\n          }\n        }\n      }],\n      initialValue: vm.initInfo.reserve_limit_times\n    },\n    team_total_price: {\n      rules: [{\n        validator: function validator(field, value, values) {\n          if (!value) {\n            return '请填写团课总售价';\n          }\n        }\n      }],\n      initialValue: vm.initInfo.team_total_price\n    },\n    personal_total_price: {\n      rules: [{\n        validator: function validator(field, value, values) {\n          if (!value) {\n            return '请填写私教课总售价';\n          }\n        }\n      }],\n      initialValue: vm.initInfo.personal_total_price\n    },\n    support_num: {\n      rules: [{\n        validator: function validator(field, value, values) {\n          if (value === undefined || value === '') {\n            return '请输入支持使用人数';\n          }\n\n          if (value > 20) {\n            return '支持使用人数不能超过20人';\n          }\n        }\n      }],\n      initialValue: vm.initInfo.support_num\n    },\n    price: {\n      rules: [{\n        validator: function validator(field, value, values) {\n          if (value === undefined || value === '') {\n            return '请填写售卖价格';\n          }\n\n          if (value && !vm.pattern.NUM_FLOAT(1).test(value)) {\n            return '输入的售卖价格错误，请重新输入';\n          }\n        }\n      }],\n      initialValue: vm.initInfo.price || 0\n    },\n    valid_time: {\n      rules: [{\n        validator: function validator(field, value, values) {\n          if (!value) {\n            return '请填写有效时间';\n          }\n        }\n      }],\n      initialValue: vm.initInfo.valid_time\n    },\n    valid_time_unit: {\n      initialValue: vm.initInfo.valid_time_unit || 1\n    },\n    is_allow_frozen: {\n      initialValue: vm.initInfo.is_allow_frozen ? [vm.initInfo.is_allow_frozen] : []\n    },\n    frozen_days: {\n      rules: [{\n        validator: function validator(field, value, values) {\n          if (!values.is_allow_frozen.length) return;\n\n          if (!value) {\n            return '请填写允许冻结天数';\n          }\n        }\n      }],\n      initialValue: vm.initInfo.frozen_days\n    },\n    is_allow_transfer: {\n      initialValue: vm.initInfo.is_allow_transfer ? [vm.initInfo.is_allow_transfer] : []\n    },\n    transfer_rate: {\n      rules: [{\n        validator: function validator(field, value, values) {\n          if (!values.is_allow_transfer.length) return;\n\n          if (!value) {\n            return '请输入转让设置';\n          }\n        }\n      }],\n      initialValue: vm.initInfo.transfer_rate\n    },\n    transfer_unit: {\n      initialValue: vm.initInfo.transfer_unit || 1\n    },\n    image: {\n      rules: [{\n        validator: function validator(field, value, values) {\n          if (!value) {\n            vm.validateImage = '请上传图片';\n            return '请上传图片';\n          } else {\n            vm.validateImage = '';\n          }\n        }\n      }],\n      initialValue: vm.initInfo.image || {}\n    },\n    intro: {\n      initialValue: vm.initInfo.intro\n    },\n    remarks: {\n      initialValue: vm.initInfo.remarks\n    },\n    sale_mode: {\n      rules: [{\n        validator: function validator(field, value, values) {\n          if (!value.length) {\n            return '请选择售卖方式';\n          }\n        }\n      }],\n      initialValue: vm.initInfo.sale_mode || [2]\n    },\n    sale_range: {\n      initialValue: vm.initInfo.sale_range || 3\n    },\n    use_range: {\n      initialValue: vm.initInfo.use_range || 3\n    }\n  };\n};",{"version":3,"sources":["/Users/wangzhigang/Desktop/styd/web/src/views/biz-components/package/form/form.config.ts"],"names":[],"mappings":"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","sourcesContent":["import moment from 'moment'\nexport const ruleOptions = (vm: any) => {\n  return {\n    course_name: {\n      rules: [\n        {\n          required: true,\n          message: '请填写课程包名称'\n        }\n      ],\n      initialValue: vm.initInfo.course_name\n    },\n    is_limit: {\n      initialValue: vm.initInfo.is_limit === 0 ? 0 : 1\n    },\n    course_range: {\n      initialValue: vm.initInfo.course_range || 1\n    },\n    reserve_is_limit: {\n      initialValue: vm.initInfo.reserve_is_limit\n        ? [vm.initInfo.reserve_is_limit]\n        : []\n    },\n    is_permanent_sale: {\n      initialValue: vm.initInfo.is_permanent_sale === 0 ? 0 : 1\n    },\n    sale_time: {\n      rules: [\n        {\n          validator: (field: any, value: any, values: any) => {\n            if (!value[0]) {\n              return '请填写开始售卖时间'\n            }\n            if (!value[1]) {\n              return '请填写结束售卖时间'\n            }\n            if (value.filter(Boolean).length === 0) {\n              return '请填写售卖时间'\n            }\n          }\n        }\n      ],\n      initialValue:\n        vm.initInfo.start_time && vm.initInfo.is_permanent_sale === 0\n          ? [moment(vm.initInfo.start_time), moment(vm.initInfo.end_time)]\n          : [null, null]\n    },\n    reserve_limit_day: {\n      initialValue: vm.initInfo.reserve_limit_day || 1\n    },\n    reserve_limit_times: {\n      rules: [\n        {\n          validator: (field: any, value: any, values: any) => {\n            if (!values.reserve_is_limit.length) return\n            if (value === undefined || value === '') {\n              return '请填写约课限制节数'\n            }\n          }\n        }\n      ],\n      initialValue: vm.initInfo.reserve_limit_times\n    },\n    team_total_price: {\n      rules: [\n        {\n          validator: (field: any, value: any, values: any) => {\n            if (!value) {\n              return '请填写团课总售价'\n            }\n          }\n        }\n      ],\n\n      initialValue: vm.initInfo.team_total_price\n    },\n    personal_total_price: {\n      rules: [\n        {\n          validator: (field: any, value: any, values: any) => {\n            if (!value) {\n              return '请填写私教课总售价'\n            }\n          }\n        }\n      ],\n      initialValue: vm.initInfo.personal_total_price\n    },\n    support_num: {\n      rules: [\n        {\n          validator: (field: any, value: any, values: any) => {\n            if (value === undefined || value === '') {\n              return '请输入支持使用人数'\n            }\n            if (value > 20) {\n              return '支持使用人数不能超过20人'\n            }\n          }\n        }\n      ],\n      initialValue: vm.initInfo.support_num\n    },\n    price: {\n      rules: [\n        {\n          validator: (field: any, value: any, values: any) => {\n            if (value === undefined || value === '') {\n              return '请填写售卖价格'\n            }\n            if (value && !vm.pattern.NUM_FLOAT(1).test(value)) {\n              return '输入的售卖价格错误，请重新输入'\n            }\n          }\n        }\n      ],\n      initialValue: vm.initInfo.price || 0\n    },\n    valid_time: {\n      rules: [\n        {\n          validator: (field: any, value: any, values: any) => {\n            if (!value) {\n              return '请填写有效时间'\n            }\n          }\n        }\n      ],\n      initialValue: vm.initInfo.valid_time\n    },\n    valid_time_unit: {\n      initialValue: vm.initInfo.valid_time_unit || 1\n    },\n    is_allow_frozen: {\n      initialValue: vm.initInfo.is_allow_frozen\n        ? [vm.initInfo.is_allow_frozen]\n        : []\n    },\n    frozen_days: {\n      rules: [\n        {\n          validator: (field: any, value: any, values: any) => {\n            if (!values.is_allow_frozen.length) return\n            if (!value) {\n              return '请填写允许冻结天数'\n            }\n          }\n        }\n      ],\n      initialValue: vm.initInfo.frozen_days\n    },\n    is_allow_transfer: {\n      initialValue: vm.initInfo.is_allow_transfer\n        ? [vm.initInfo.is_allow_transfer]\n        : []\n    },\n    transfer_rate: {\n      rules: [\n        {\n          validator: (field: any, value: any, values: any) => {\n            if (!values.is_allow_transfer.length) return\n            if (!value) {\n              return '请输入转让设置'\n            }\n          }\n        }\n      ],\n      initialValue: vm.initInfo.transfer_rate\n    },\n    transfer_unit: {\n      initialValue: vm.initInfo.transfer_unit || 1\n    },\n    image: {\n      rules: [\n        {\n          validator: (field: any, value: any, values: any) => {\n            if (!value) {\n              vm.validateImage = '请上传图片'\n              return '请上传图片'\n            } else {\n              vm.validateImage = ''\n            }\n          }\n        }\n      ],\n      initialValue: vm.initInfo.image || {}\n    },\n    intro: {\n      initialValue: vm.initInfo.intro\n    },\n    remarks: {\n      initialValue: vm.initInfo.remarks\n    },\n    sale_mode: {\n      rules: [\n        {\n          validator: (field: any, value: any, values: any) => {\n            if (!value.length) {\n              return '请选择售卖方式'\n            }\n          }\n        }\n      ],\n      initialValue: vm.initInfo.sale_mode || [2]\n    },\n    sale_range: {\n      initialValue: vm.initInfo.sale_range || 3\n    },\n    use_range: {\n      initialValue: vm.initInfo.use_range || 3\n    }\n  }\n}\n"],"sourceRoot":""}]}