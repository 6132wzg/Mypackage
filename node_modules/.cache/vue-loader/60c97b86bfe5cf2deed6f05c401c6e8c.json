{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/marketing/plugin/lottery/add.vue?vue&type=template&id=023f62ae&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/marketing/plugin/lottery/add.vue","mtime":1598250255831},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":1591062572376},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["\n<st-mina-panel>\n  <h5-container slot=\"preview\" fixed>\n    <template v-slot:title>\n      幸运大转盘\n    </template>\n    <div :class=\"bPage('lottery')\">\n      <div\n        :class=\"bPage('swiper')\"\n        v-if=\"isStopSwiper === STOP_SWIPER.DEFAULT\"\n      >\n        <swiper :options=\"sliderOptions\">\n          <swiper-slide v-for=\"(item, index) in prizeInfoList\" :key=\"index\">\n            <span :class=\"bPage('swiper-text')\">{{ item }}</span>\n          </swiper-slide>\n        </swiper>\n      </div>\n      <img\n        :class=\"bPage('lottery-banner')\"\n        src=\"~@/assets/img/brand/marketing/lottery/bg.png\"\n      />\n      <img\n        :class=\"bPage('lottery-title-bg')\"\n        src=\"~@/assets/img/brand/marketing/lottery/title_bg.png\"\n      />\n      <span :class=\"bPage('lottery-subtitle')\">{{ preview.title }}</span>\n      <div :class=\"bPage('lottery-turntable')\">\n        <div style=\"position:relative\" v-if=\"prizeList.length > 0\">\n          <div\n            class=\"img-wrap\"\n            :class=\"'run-item-' + index\"\n            v-for=\"(item, index) in prizeListFilters\"\n            :key=\"index\"\n          >\n            <img class=\"img\" :src=\"item.prize.image_url\" alt=\"奖品图片\" />\n            <div class=\"text\">{{ item.prize_name }}</div>\n          </div>\n        </div>\n        <div v-if=\"notPrize.prize_name\" class=\"img-wrap run-item-7\">\n          <div class=\"img\">\n            <img\n              style=\"width: 100%;height:100%\"\n              :src=\"\n                notPrizeImgType === NOT_PRIZE_IMG_TYPE.CUSTOM\n                  ? notPrize.prize.image_url\n                  : lucky[0].image_url\n              \"\n              alt=\"奖品图片\"\n            />\n          </div>\n          <div class=\"text\">{{ notPrize.prize_name }}</div>\n        </div>\n      </div>\n      <div :class=\"bPage('lottery-footer')\">\n        <div :class=\"bPage('lottery-title')\">活动规则</div>\n        <div class=\"mg-b24\">\n          <span class=\"mg-r8\">活动时间:</span>\n          <span>{{ preview.startTime }}--{{ preview.endTime }}</span>\n        </div>\n        <div class=\"mg-b24\">\n          <span class=\"mg-r8\">抽奖规则:</span>\n          <span v-if=\"timesType === 1\">\n            每人每天有{{ preview.perTimes }}次机会\n          </span>\n          <span v-else>每人总共有{{ preview.totalTimes }}次机会</span>\n        </div>\n        <div class=\"mg-b24\">\n          <span class=\"mg-r8\">活动说明:</span>\n          <span>{{ preview.description }}</span>\n        </div>\n      </div>\n    </div>\n  </h5-container>\n  <div slot=\"actions\">\n    <st-button v-show=\"currentIndex === 0\" type=\"primary\" @click=\"next(1)\">\n      下一步\n    </st-button>\n    <st-button v-show=\"currentIndex === 1\" type=\"primary\" @click=\"next(2)\">\n      下一步\n    </st-button>\n    <st-button v-show=\"currentIndex === 2\" type=\"primary\" @click=\"onSubmit\">\n      完成\n    </st-button>\n  </div>\n\n  <div :class=\"bPage('form')\">\n    <Steps :value=\"currentIndex\" @skip=\"next\" :stepArr=\"stepArr\" />\n    <div style=\"padding:24px;\">\n      <st-form\n        style=\"width:500px\"\n        :form=\"form\"\n        labelGutter=\"0\"\n        v-show=\"currentIndex == 0\"\n        labelWidth=\"124px\"\n      >\n        <st-form-item label=\"活动名称\" required>\n          <a-input\n            :disabled=\"info.activity_status === ACTIVITY_STATUS.DISABLED\"\n            placeholder=\"请输入活动名称\"\n            v-decorator=\"decorators.activity_base.activity_name\"\n          ></a-input>\n        </st-form-item>\n        <st-form-item label=\"活动标题\" required>\n          <a-input\n            :disabled=\"info.activity_status === ACTIVITY_STATUS.DISABLED\"\n            @change=\"getTitle\"\n            placeholder=\"请输入活动标题\"\n            v-decorator=\"decorators.activity_base.activity_sub_name\"\n          ></a-input>\n        </st-form-item>\n        <st-form-item label=\"活动时间\" required>\n          <a-range-picker\n            :disabled=\"info.activity_status === ACTIVITY_STATUS.DISABLED\"\n            :disabledDate=\"disabledDate\"\n            :showTime=\"{\n              hideDisabledOptions: true,\n              defaultValue: defaultValue\n            }\"\n            format=\"YYYY-MM-DD HH:mm\"\n            v-model=\"dateRangeVal\"\n            @change=\"onDateChange\"\n          ></a-range-picker>\n        </st-form-item>\n        <st-form-item label=\"活动说明\">\n          <st-textarea\n            :rows=\"4\"\n            :maxlength=\"500\"\n            @change=\"getDescription\"\n            :disabled=\"info.activity_status === ACTIVITY_STATUS.DISABLED\"\n            placeholder=\"请输入活动说明\"\n            v-decorator=\"decorators.activity_base.activity_description\"\n          ></st-textarea>\n        </st-form-item>\n        <st-form-item label=\"轮播获奖\">\n          <a-radio-group\n            :disabled=\"info.activity_status === ACTIVITY_STATUS.DISABLED\"\n            @change=\"stopSwiper\"\n            v-decorator=\"decorators.activity_base.wheel_turn_around\"\n          >\n            <a-radio\n              v-for=\"(item, index) in wheelTurnAround\"\n              :key=\"index\"\n              :value=\"item.value\"\n            >\n              {{ item.label }}\n            </a-radio>\n          </a-radio-group>\n        </st-form-item>\n        <st-form-item label=\"分享设置\">\n          <a-radio-group\n            @change=\"getCurShareType\"\n            :disabled=\"info.activity_status === ACTIVITY_STATUS.DISABLED\"\n            v-decorator=\"decorators.activity_base.wheel_share_default\"\n          >\n            <a-radio\n              v-for=\"(item, index) in wheelDefault\"\n              :key=\"index\"\n              :value=\"item.value\"\n            >\n              {{ item.label }}\n            </a-radio>\n          </a-radio-group>\n          <div v-if=\"shareType === 2\" :class=\"bPage('share-upload')\">\n            <st-form-item label=\"选择图片\" labelWidth=\"60px\">\n              <st-image-upload\n                width=\"96px\"\n                height=\"96px\"\n                :list=\"fileShareList\"\n                @change=\"onShareChangeGetAvatar\"\n                placeholder=\"上传图片\"\n              ></st-image-upload>\n              <span :class=\"bPage('share-upload-text')\">\n                请上传jpg、png格式的图片\n              </span>\n            </st-form-item>\n            <st-form-item label=\"分享标题\" labelWidth=\"60px\">\n              <a-input placeholder=\"分享标题\" v-model=\"shareTitle\"></a-input>\n            </st-form-item>\n          </div>\n          <img\n            class=\"default-img\"\n            v-else\n            :src=\"share[0].image_url\"\n            alt=\"默认图片\"\n          />\n        </st-form-item>\n      </st-form>\n\n      <st-form\n        style=\"width:500px\"\n        :form=\"form\"\n        labelGutter=\"0\"\n        v-show=\"currentIndex == 1\"\n        labelWidth=\"124px\"\n      >\n        <st-form-item label=\"参与用户\" required>\n          <a-radio-group\n            @change=\"getCurCrowdType\"\n            v-decorator=\"decorators.activity_rule.join_crowd_all\"\n          >\n            <a-radio\n              v-for=\"(item, index) in joinCrowdAll\"\n              :key=\"index\"\n              :value=\"item.value\"\n            >\n              {{ item.label }}\n            </a-radio>\n          </a-radio-group>\n\n          <a-select\n            v-if=\"crowdType === CROWD_TYPE.CUSTOM\"\n            placeholder=\"请选择参与用户\"\n            v-decorator=\"decorators.activity_rule.crowd_id\"\n          >\n            <a-select-option\n              v-for=\"(item, index) in crowd\"\n              :key=\"index\"\n              :value=\"item.value\"\n            >\n              {{ item.label }}\n            </a-select-option>\n          </a-select>\n        </st-form-item>\n        <st-form-item label=\"抽奖条件\" required>\n          <a-radio-group\n            v-decorator=\"decorators.activity_rule.draw_condition\"\n          >\n            <a-radio\n              v-for=\"(item, index) in drawCondition\"\n              :key=\"index\"\n              :value=\"item.value\"\n            >\n              {{ item.label }}\n            </a-radio>\n          </a-radio-group>\n        </st-form-item>\n        <st-form-item label=\"抽奖机会\" required>\n          <a-radio-group\n            @change=\"getCurTimesType\"\n            v-decorator=\"decorators.activity_rule.draw_times_type\"\n          >\n            <a-radio\n              v-for=\"(item, index) in drawTimesType\"\n              :key=\"index\"\n              :value=\"item.value\"\n            >\n              {{ item.label }}\n            </a-radio>\n          </a-radio-group>\n          <template>\n            <a-form-item v-show=\"timesType === 1\">\n              每人每天有\n              <a-input-number\n                :min=\"1\"\n                :max=\"999\"\n                :step=\"1\"\n                :precision=\"0\"\n                style=\"width: 100px;\"\n                placeholder=\"请输入\"\n                v-decorator=\"decorators.activity_rule.per_times\"\n              ></a-input-number>\n              次\n            </a-form-item>\n          </template>\n          <template>\n            <a-form-item v-show=\"timesType === 2\">\n              每人总共有\n              <a-input-number\n                :min=\"1\"\n                :max=\"999\"\n                :step=\"1\"\n                :precision=\"0\"\n                style=\"width: 100px;\"\n                placeholder=\"请输入\"\n                v-decorator=\"decorators.activity_rule.total_times\"\n              ></a-input-number>\n              次\n            </a-form-item>\n          </template>\n        </st-form-item>\n        <st-form-item label=\" 中奖次数\">\n          每人最多可中奖\n          <a-input-number\n            :min=\"1\"\n            :max=\"999\"\n            :step=\"1\"\n            :precision=\"0\"\n            style=\"width: 100px;\"\n            placeholder=\"请输入\"\n            v-decorator=\"decorators.activity_rule.prize_times\"\n          ></a-input-number>\n          次\n        </st-form-item>\n      </st-form>\n\n      <st-form\n        style=\"width:756px;padding-left:62px;\"\n        :form=\"form\"\n        v-show=\"currentIndex == 2\"\n      >\n        <st-t3 class=\"mg-b24\">奖品设置</st-t3>\n        <st-form-table\n          style=\"border:1px solid rgba(205,212,223,1);padding:12px;\"\n        >\n          <thead>\n            <tr>\n              <template v-for=\"(item, index) in columsTitlelist\">\n                <th :key=\"index\">{{ item }}</th>\n              </template>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td colspan=\"6\" class=\"st-form-table__add\">\n                <st-button\n                  :disabled=\"\n                    $searchQuery.activity_id && $searchQuery.status === 1\n                  \"\n                  @click=\"getCurPrizeIndex(-1)\"\n                  type=\"dashed\"\n                  block\n                  v-if=\"prizeList.length < 7\"\n                  v-modal-link=\"{\n                    name: 'brand-marketing-plugin-add-prize',\n                    on: { change: getPrizeInfo }\n                  }\"\n                >\n                  新增奖品\n                </st-button>\n              </td>\n            </tr>\n            <template v-for=\"(item, index) in prizeList\">\n              <tr :key=\"item.id\">\n                <td>{{ item.prize_name }}</td>\n                <td>{{ item.prize_type === 1 ? '优惠券' : '兑换码' }}</td>\n                <td>\n                  {{\n                    item.prize_type === 1\n                      ? item.shop_num || item.support_shop_ids.length\n                      : item.support_shop_ids.length\n                  }}\n                </td>\n                <td>\n                  <span v-show=\"isShowEditTable !== index\">\n                    {{ item.number }}\n                  </span>\n                  <st-input-number\n                    v-show=\"isShowEditTable === index\"\n                    :min=\"1\"\n                    :max=\"99999\"\n                    :step=\"1\"\n                    :precision=\"0\"\n                    :value=\"item.number\"\n                    :index=\"index\"\n                    @change=\"editTableNum($event, index)\"\n                  ></st-input-number>\n                </td>\n                <td>\n                  <span v-show=\"isShowEditTable !== index\">\n                    {{ item.rate }}\n                  </span>\n                  <st-input-number\n                    v-show=\"isShowEditTable === index\"\n                    :min=\"0\"\n                    :max=\"100\"\n                    :float=\"true\"\n                    :value=\"item.rate\"\n                    @change=\"editTableRate($event, index)\"\n                  ></st-input-number>\n                </td>\n                <td>\n                  <st-table-actions>\n                    <a @click=\"showEditTable(index)\">\n                      {{ isShowEditTable === index ? '确认' : '编辑' }}\n                    </a>\n                    <a\n                      :disabled=\"deleteBtnStatus\"\n                      href=\"javascript:;\"\n                      @click=\"onDelete(index)\"\n                    >\n                      {{ isShowEditTable === index ? '取消' : '删除' }}\n                    </a>\n                  </st-table-actions>\n                </td>\n              </tr>\n            </template>\n          </tbody>\n        </st-form-table>\n        <st-t3 class=\"mg-b24 mg-t32\">未中奖设置</st-t3>\n        <st-form-item label=\"名称\" labelWidth=\"40px\" required>\n          <a-input\n            @change=\"getName\"\n            :disabled=\"info.activity_status === ACTIVITY_STATUS.DISABLED\"\n            placeholder=\"请输入未奖品名称\"\n            v-decorator=\"decorators.activity_lucky.lucky_name\"\n          ></a-input>\n        </st-form-item>\n        <st-form-item label=\" 图片\" labelWidth=\"43px\" required>\n          <a-radio-group\n            :disabled=\"info.activity_status === ACTIVITY_STATUS.DISABLED\"\n            v-decorator=\"decorators.activity_lucky.image_default\"\n            @change=\"getNotImgType\"\n          >\n            <a-radio\n              v-for=\"(item, index) in imgType\"\n              :key=\"index\"\n              :value=\"item.value\"\n            >\n              {{ item.label }}\n            </a-radio>\n          </a-radio-group>\n          <div\n            v-if=\"notPrizeImgType === NOT_PRIZE_IMG_TYPE.CUSTOM\"\n            :class=\"bPage('lucky-upload')\"\n          >\n            <st-image-upload\n              width=\"96px\"\n              height=\"96px\"\n              :list=\"fileList\"\n              @change=\"onChangeGetAvatar\"\n              placeholder=\"上传图片\"\n            ></st-image-upload>\n            <span :class=\"bPage('lucky-upload-text')\">\n              请上传jpg、png格式的图片\n            </span>\n          </div>\n\n          <img\n            class=\"default-img\"\n            v-else\n            :src=\"lucky[0].image_url\"\n            alt=\"默认图片\"\n          />\n        </st-form-item>\n      </st-form>\n    </div>\n  </div>\n</st-mina-panel>\n",null]}