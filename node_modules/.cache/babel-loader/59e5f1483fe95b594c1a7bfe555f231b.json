{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/marketing/plugin/lottery/checkin.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/marketing/plugin/lottery/checkin.vue","mtime":1591147717321},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/vue-loader/lib/index.js","mtime":1591062572376}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { CheckinService } from \"./checkin.service\";\nimport { columns } from \"./checkin.config\";\nimport { MessageService } from '@/services/message.service';\nexport default {\n  name: 'PluginLotteryCheckin',\n  data: function data() {\n    return {\n      keyword: '',\n      isShowTable: false\n    };\n  },\n  bem: {\n    bPage: 'page-brand-marketing-plugin-lottery-checkin'\n  },\n  serviceInject: function serviceInject() {\n    return {\n      checkinService: CheckinService,\n      message: MessageService\n    };\n  },\n  rxState: function rxState() {\n    return {\n      list: this.checkinService.list$,\n      loading: this.checkinService.loading$\n    };\n  },\n  computed: {\n    columns: columns\n  },\n  methods: {\n    getCheckinList: function getCheckinList() {\n      var _this = this;\n\n      if (!this.keyword) {\n        this.message.warn({\n          content: '请输入核销码'\n        });\n        return;\n      }\n\n      return this.checkinService.getCheckinList(this.keyword).subscribe(function (res) {\n        _this.isShowTable = true;\n      });\n    },\n    checkin: function checkin() {\n      var _this2 = this;\n\n      return this.checkinService.checkin(this.keyword).subscribe(function (res) {\n        _this2.message.success({\n          content: '核销成功'\n        });\n\n        _this2.getCheckinList();\n      });\n    }\n  }\n};",{"version":3,"sources":["checkin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyGA,SAAA,cAAA;AACA,SAAA,OAAA;AACA,SAAA,cAAA,QAAA,4BAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,sBADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,EADA;AAEA,MAAA,WAAA,EAAA;AAFA,KAAA;AAIA,GAPA;AAQA,EAAA,GAAA,EAAA;AACA,IAAA,KAAA,EAAA;AADA,GARA;AAWA,EAAA,aAXA,2BAWA;AACA,WAAA;AACA,MAAA,cAAA,EAAA,cADA;AAEA,MAAA,OAAA,EAAA;AAFA,KAAA;AAIA,GAhBA;AAiBA,EAAA,OAjBA,qBAiBA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,KAAA,cAAA,CAAA,KADA;AAEA,MAAA,OAAA,EAAA,KAAA,cAAA,CAAA;AAFA,KAAA;AAIA,GAtBA;AAuBA,EAAA,QAAA,EAAA;AAAA,IAAA,OAAA,EAAA;AAAA,GAvBA;AAwBA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,4BACA;AAAA;;AACA,UAAA,CAAA,KAAA,OAAA,EAAA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAAA;AACA;AACA;;AACA,aAAA,KAAA,cAAA,CAAA,cAAA,CAAA,KAAA,OAAA,EAAA,SAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,WAAA,GAAA,IAAA;AACA,OAFA,CAAA;AAGA,KATA;AAUA,IAAA,OAVA,qBAUA;AAAA;;AACA,aAAA,KAAA,cAAA,CAAA,OAAA,CAAA,KAAA,OAAA,EAAA,SAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,OAAA,CAAA,OAAA,CAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAAA;;AACA,QAAA,MAAA,CAAA,cAAA;AACA,OAHA,CAAA;AAIA;AAfA;AAxBA,CAAA","sourcesContent":["<template>\n  <st-panel :class=\"bPage()\" app>\n    <div :class=\"bPage('header')\">\n      <a-input-search\n        style=\"width:722px;\"\n        placeholder=\"输入需要核销的兑换码\"\n        v-model=\"keyword\"\n        @search=\"getCheckinList\"\n        enterButton=\"搜索\"\n      />\n    </div>\n    <div :class=\"bPage('shadow')\"></div>\n    <st-panel app>\n      <div v-if=\"isShowTable\">\n        <st-table\n          :class=\"bPage('table')\"\n          :page=\"false\"\n          :loading=\"loading.getCheckinList\"\n          :columns=\"columns\"\n          :dataSource=\"list\"\n          rowKey=\"id\"\n        >\n          <div slot=\"action\" slot-scope=\"text, record\">\n            <st-table-actions>\n              <st-button\n                :disabled=\"record.code_status !== 0\"\n                type=\"primary\"\n                class=\"text-center mg-t24\"\n                @click=\"checkin\"\n              >\n                核销\n              </st-button>\n            </st-table-actions>\n          </div>\n        </st-table>\n      </div>\n      <div :class=\"bPage('content')\" v-else>\n        <img\n          :class=\"bPage('content-img')\"\n          src=\"~@/assets/img/brand/marketing/lottery/checkin.png\"\n          alt=\"checkin\"\n        />\n        <div :class=\"bPage('step')\">\n          <a-steps direction=\"vertical\" :current=\"4\">\n            <a-step\n              title=\"搜索卡劵\"\n              description=\"核销员输入由客户提供的奖品券号\"\n            >\n              <div slot=\"icon\" :class=\"bPage('step-circle')\">\n                <span>1</span>\n              </div>\n            </a-step>\n            <a-step title=\" 校验\" description=\"检查券信息是否对应有效\">\n              <div slot=\"icon\" :class=\"bPage('step-circle')\">\n                2\n              </div>\n            </a-step>\n            <a-step\n              title=\"完成使用\"\n              description=\"校验无误后向客户进行减免或赠送礼品，并核销卡券\"\n            >\n              <div slot=\"icon\" :class=\"bPage('step-circle')\">\n                3\n              </div>\n            </a-step>\n          </a-steps>\n          <!-- <div :class=\"bPage('step-item')\">\n            <div :class=\"bPage('step-circle')\">\n              1\n            </div>\n            <div :class=\"bPage('step-text')\">\n              <st-t4>搜索卡劵</st-t4>\n              <div :class=\"bPage('step-light')\">\n                核销员输入由客户提供的奖品券号\n              </div>\n            </div>\n          </div>\n          <div :class=\"bPage('step-item')\">\n            <div :class=\"bPage('step-circle')\">\n              2\n            </div>\n            <div :class=\"bPage('step-text')\">\n              <st-t4>校验</st-t4>\n              <div :class=\"bPage('step-light')\">\n                检查券信息是否对应有效\n              </div>\n            </div>\n          </div>\n          <div :class=\"bPage('step-item')\">\n            <div :class=\"bPage('step-circle')\">\n              3\n            </div>\n            <div :class=\"bPage('step-text')\">\n              <st-t4>完成使用</st-t4>\n              <div :class=\"bPage('step-light')\">\n                校验无误后向客户进行减免或赠送礼品，并核销卡券\n              </div>\n            </div>\n          </div> -->\n        </div>\n      </div>\n    </st-panel>\n  </st-panel>\n</template>\n<script>\nimport { CheckinService } from './checkin.service'\nimport { columns } from './checkin.config'\nimport { MessageService } from '@/services/message.service'\n\nexport default {\n  name: 'PluginLotteryCheckin',\n  data() {\n    return {\n      keyword: '',\n      isShowTable: false\n    }\n  },\n  bem: {\n    bPage: 'page-brand-marketing-plugin-lottery-checkin'\n  },\n  serviceInject() {\n    return {\n      checkinService: CheckinService,\n      message: MessageService\n    }\n  },\n  rxState() {\n    return {\n      list: this.checkinService.list$,\n      loading: this.checkinService.loading$\n    }\n  },\n  computed: { columns },\n  methods: {\n    getCheckinList() {\n      if (!this.keyword) {\n        this.message.warn({ content: '请输入核销码' })\n        return\n      }\n      return this.checkinService.getCheckinList(this.keyword).subscribe(res => {\n        this.isShowTable = true\n      })\n    },\n    checkin() {\n      return this.checkinService.checkin(this.keyword).subscribe(res => {\n        this.message.success({ content: '核销成功' })\n        this.getCheckinList()\n      })\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/views/pages/brand/marketing/plugin/lottery"}]}