{"remainingRequest":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js!/Users/wangzhigang/Desktop/styd/web/node_modules/ts-loader/index.js??ref--13-2!/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/product/card/deposit/deposit.config.ts","dependencies":[{"path":"/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/product/card/deposit/deposit.config.ts","mtime":1600926556154},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/cache-loader/dist/cjs.js","mtime":1591062571898},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/babel-loader/lib/index.js","mtime":1591062567418},{"path":"/Users/wangzhigang/Desktop/styd/web/node_modules/ts-loader/index.js","mtime":1591062571609}],"contextDependencies":[],"result":["import { CONSUMPTION_RANGE, SUPPORT_SALES } from '@/constants/card/deposit';\nimport { MEMBER_CARD_SPECIAL_NOTE } from '@/views/biz-components/h5/pages/member-card.config';\nexport var ruleOptions = function ruleOptions(vm) {\n  return {\n    'cardData.card_name': {\n      rules: [{\n        required: true,\n        message: '请填写储值卡名称'\n      }]\n    },\n    'cardData.special_note': {\n      initialValue: MEMBER_CARD_SPECIAL_NOTE.DEPOSIT_CARD\n    },\n    'cardData.card_price': {\n      rules: [{\n        validator: function validator(field, value, values) {\n          if (value === undefined || value === '') {\n            return '请填写储值金额';\n          }\n\n          if (value && !vm.pattern.NUM_FLOAT(1).test(value)) {\n            return '输入的储值金额格式错误，请重新输入';\n          }\n        }\n      }]\n    },\n    'cardData.sell_price': {\n      rules: [{\n        validator: function validator(field, value, values) {\n          if (value === undefined || value === '') {\n            return '请填写售卖价格';\n          }\n\n          if (value && !vm.pattern.NUM_FLOAT(1).test(value)) {\n            return '输入的售卖价格格式错误，请重新输入';\n          }\n        }\n      }]\n    },\n    'cardData.num': {\n      rules: [{\n        validator: function validator(field, value, values) {\n          if (value === undefined || value === '') {\n            return '请填写期限';\n          }\n\n          if (value && !vm.pattern.NUM_FLOAT(1).test(value)) {\n            return '输入的期限格式错误，请重新输入';\n          }\n        }\n      }]\n    },\n    'cardData.card_consumer_id': {\n      rules: [{\n        validator: function validator(field, value, values) {\n          if (value === undefined || value === '' || value.length === 0) {\n            return '请选择支持消费类目';\n          }\n        }\n      }]\n    },\n    'cardData.consumption_range': {\n      initialValue: CONSUMPTION_RANGE.ONLY_STORE,\n      rules: [{\n        validator: function validator(field, value, values) {\n          if (value === CONSUMPTION_RANGE.GENERAL_STORE && !vm.cardData.consumer_shop_list.length) {\n            return '请新增支持入场门店';\n          }\n        }\n      }]\n    },\n    'cardData.support_sales': {\n      initialValue: SUPPORT_SALES.ALL_STORE,\n      rules: [{\n        validator: function validator(field, value, values) {\n          if (value === SUPPORT_SALES.SPECIFIED_STORE && !vm.cardData.sell_shop_list.length) {\n            return '请新增支持售卖门店';\n          }\n        }\n      }]\n    },\n    start_time: {\n      rules: [{\n        validator: function validator(field, value, values) {\n          if (!value) {\n            return '请选择开始售卖时间';\n          }\n        }\n      }]\n    },\n    end_time: {\n      rules: [{\n        validator: function validator(field, value, values) {\n          if (!value) {\n            return '请选择结束售卖时间';\n          }\n        }\n      }]\n    },\n    'cardData.transfer_num': {\n      rules: [{\n        validator: function validator(field, value, values) {\n          if (vm.cardData._is_transfer && !value) {\n            return '请输入转让费用';\n          }\n        }\n      }]\n    }\n  };\n};",{"version":3,"sources":["/Users/wangzhigang/Desktop/styd/web/src/views/pages/brand/product/card/deposit/deposit.config.ts"],"names":[],"mappings":"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","sourcesContent":["import { CONSUMPTION_RANGE, SUPPORT_SALES } from '@/constants/card/deposit'\nimport { MEMBER_CARD_SPECIAL_NOTE } from '@/views/biz-components/h5/pages/member-card.config'\nexport const ruleOptions = (vm: any) => {\n  return {\n    'cardData.card_name': {\n      rules: [\n        {\n          required: true,\n          message: '请填写储值卡名称'\n        }\n      ]\n    },\n    'cardData.special_note': {\n      initialValue: MEMBER_CARD_SPECIAL_NOTE.DEPOSIT_CARD\n    },\n    'cardData.card_price': {\n      rules: [\n        {\n          validator: (field: any, value: any, values: any) => {\n            if (value === undefined || value === '') {\n              return '请填写储值金额'\n            }\n            if (value && !vm.pattern.NUM_FLOAT(1).test(value)) {\n              return '输入的储值金额格式错误，请重新输入'\n            }\n          }\n        }\n      ]\n    },\n    'cardData.sell_price': {\n      rules: [\n        {\n          validator: (field: any, value: any, values: any) => {\n            if (value === undefined || value === '') {\n              return '请填写售卖价格'\n            }\n            if (value && !vm.pattern.NUM_FLOAT(1).test(value)) {\n              return '输入的售卖价格格式错误，请重新输入'\n            }\n          }\n        }\n      ]\n    },\n    'cardData.num': {\n      rules: [\n        {\n          validator: (field: any, value: any, values: any) => {\n            if (value === undefined || value === '') {\n              return '请填写期限'\n            }\n            if (value && !vm.pattern.NUM_FLOAT(1).test(value)) {\n              return '输入的期限格式错误，请重新输入'\n            }\n          }\n        }\n      ]\n    },\n    'cardData.card_consumer_id': {\n      rules: [\n        {\n          validator: (field: any, value: any, values: any) => {\n            if (value === undefined || value === '' || value.length === 0) {\n              return '请选择支持消费类目'\n            }\n          }\n        }\n      ]\n    },\n    'cardData.consumption_range': {\n      initialValue: CONSUMPTION_RANGE.ONLY_STORE,\n      rules: [\n        {\n          validator: (field: any, value: any, values: any) => {\n            if (\n              value === CONSUMPTION_RANGE.GENERAL_STORE &&\n              !vm.cardData.consumer_shop_list.length\n            ) {\n              return '请新增支持入场门店'\n            }\n          }\n        }\n      ]\n    },\n    'cardData.support_sales': {\n      initialValue: SUPPORT_SALES.ALL_STORE,\n      rules: [\n        {\n          validator: (field: any, value: any, values: any) => {\n            if (\n              value === SUPPORT_SALES.SPECIFIED_STORE &&\n              !vm.cardData.sell_shop_list.length\n            ) {\n              return '请新增支持售卖门店'\n            }\n          }\n        }\n      ]\n    },\n    start_time: {\n      rules: [\n        {\n          validator: (field: any, value: any, values: any) => {\n            if (!value) {\n              return '请选择开始售卖时间'\n            }\n          }\n        }\n      ]\n    },\n    end_time: {\n      rules: [\n        {\n          validator: (field: any, value: any, values: any) => {\n            if (!value) {\n              return '请选择结束售卖时间'\n            }\n          }\n        }\n      ]\n    },\n    'cardData.transfer_num': {\n      rules: [\n        {\n          validator: (field: any, value: any, values: any) => {\n            if (vm.cardData._is_transfer && !value) {\n              return '请输入转让费用'\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n"],"sourceRoot":""}]}